{"version":3,"sources":["webpack:///./src/business/annual/PageCurrentGeneral.vue?9431","webpack:///src/business/annual/PageCurrentGeneral.vue","webpack:///./src/business/annual/PageCurrentGeneral.vue?3b42","webpack:///./src/business/annual/PageCurrentGeneral.vue","webpack:///./src/business/annual/PageCurrentGeneral.vue?5aca"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","review","name","on","download_pdf","$event","saveGeneral","backToList","attrs","scopedSlots","_u","key","fn","proxy","deleteReview","id","annualId","review_categories","complete","year","month","day","model","value","callback","$$v","$set","expression","errors","review_start","review_end","material_business_changes","_e","_l","regulatory","index","directives","rawName","modifiers","domProps","target","composing","trim","$forceUpdate","regulatoryChangesSplit","length","removeRegulatoryChange","addRegulatoryChange","annual_review_employees","annualReviewEmployee","annualReviewEmployeeIndex","employees","deleteEntry","addEntry","class","markComplete","tasksEtag","ref","reviewModel","newTasksEtag","staticRenderFns","component"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,4BAA4B,CAACN,EAAIO,GAAG,qBAAqBH,EAAG,KAAK,CAACE,YAAY,sBAAsB,CAACF,EAAG,IAAI,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,OAAST,EAAIS,OAAOC,KAAO,WAAWN,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,YAAY,uBAAuBK,GAAG,CAAC,MAAQX,EAAIY,eAAe,CAACZ,EAAIO,GAAG,cAAcH,EAAG,SAAS,CAACE,YAAY,oBAAoBK,GAAG,CAAC,MAAQ,SAASE,GAAQ,OAAOb,EAAIc,aAAY,MAAS,CAACd,EAAIO,GAAG,mBAAmBH,EAAG,SAAS,CAACE,YAAY,iBAAiBK,GAAG,CAAC,MAAQX,EAAIe,aAAa,CAACX,EAAG,SAAS,CAACY,MAAM,CAAC,KAAO,QAAQ,SAASZ,EAAG,SAAS,CAACE,YAAY,gBAAgBU,MAAM,CAAC,gBAAgB,QAAQC,YAAYjB,EAAIkB,GAAG,CAAC,CAACC,IAAI,WAAWC,GAAG,WAAW,MAAO,CAAChB,EAAG,aAAa,CAACE,YAAY,UAAUU,MAAM,CAAC,KAAO,UAAU,QAAU,UAAU,MAAQ,IAAIC,YAAYjB,EAAIkB,GAAG,CAAC,CAACC,IAAI,iBAAiBC,GAAG,WAAW,MAAO,CAACpB,EAAIO,GAAG,WAAWH,EAAG,SAAS,CAACE,YAAY,QAAQU,MAAM,CAAC,KAAO,eAAe,aAAa,SAASK,OAAM,MAAS,CAACjB,EAAG,kBAAkB,CAACY,MAAM,CAAC,OAAShB,EAAIS,QAAU,GAAG,QAAS,IAAQ,CAACL,EAAG,kBAAkB,CAACJ,EAAIO,GAAG,WAAW,GAAGH,EAAG,oBAAoB,CAACY,MAAM,CAAC,QAAS,GAAOL,GAAG,CAAC,gBAAkB,SAASE,GAAQ,OAAOb,EAAIsB,aAAatB,EAAIS,OAAOc,OAAO,CAACnB,EAAG,kBAAkB,CAACE,YAAY,UAAU,CAACN,EAAIO,GAAG,aAAa,IAAI,KAAKc,OAAM,MAAS,CAACjB,EAAG,QAAQ,CAACY,MAAM,CAAC,MAAQ,SAAS,OAAS,KAAK,CAAEhB,EAAU,OAAEI,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,cAAc,CAACY,MAAM,CAAC,YAAYhB,EAAIwB,SAAS,qBAAqBxB,EAAIS,OAAOgB,kBAAkB,SAAU,EAAK,gBAAkBzB,EAAIS,OAAOiB,aAAa,GAAGtB,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,2CAA2C,CAACF,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,eAAeH,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIO,GAAG,yBAAyBH,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACN,EAAIO,GAAG,gBAAgBH,EAAG,oBAAoB,CAACY,MAAM,CAAC,sBAAsB,CAAEW,KAAM,UAAWC,MAAO,UAAWC,IAAK,WAAY,OAAS,SAASC,MAAM,CAACC,MAAO/B,EAAIS,OAAmB,aAAEuB,SAAS,SAAUC,GAAMjC,EAAIkC,KAAKlC,EAAIS,OAAQ,eAAgBwB,IAAME,WAAW,yBAAyB/B,EAAG,SAAS,CAACY,MAAM,CAAC,OAAShB,EAAIoC,OAAOC,iBAAiB,GAAGjC,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACN,EAAIO,GAAG,YAAYH,EAAG,oBAAoB,CAACY,MAAM,CAAC,sBAAsB,CAAEW,KAAM,UAAWC,MAAO,UAAWC,IAAK,WAAY,OAAS,SAASC,MAAM,CAACC,MAAO/B,EAAIS,OAAiB,WAAEuB,SAAS,SAAUC,GAAMjC,EAAIkC,KAAKlC,EAAIS,OAAQ,aAAcwB,IAAME,WAAW,wBAAwB,GAAG/B,EAAG,SAAS,CAACY,MAAM,CAAC,OAAShB,EAAIoC,OAAOE,eAAe,OAAOlC,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIO,GAAG,iCAAiCH,EAAG,IAAI,CAACJ,EAAIO,GAAG,+GAA+GH,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,SAAS,CAAC0B,MAAM,CAACC,MAAO/B,EAAIS,OAAgC,0BAAEuB,SAAS,SAAUC,GAAMjC,EAAIkC,KAAKlC,EAAIS,OAAQ,4BAA6BwB,IAAME,WAAW,sCAAuCnC,EAAIoC,OAAgC,0BAAEhC,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIoC,OAAOG,8BAA8BvC,EAAIwC,MAAM,OAAOpC,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIO,GAAG,mCAAmCH,EAAG,IAAI,CAACJ,EAAIO,GAAG,gHAAgHP,EAAIyC,GAAIzC,EAA0B,wBAAE,SAAS0C,EAAWC,GAAO,OAAOvC,EAAG,MAAM,CAACe,IAAIwB,EAAMrC,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACN,EAAIO,GAAG,YAAYH,EAAG,WAAW,CAACwC,WAAW,CAAC,CAAClC,KAAK,QAAQmC,QAAQ,eAAed,MAAOW,EAAW,GAAS,OAAEP,WAAW,uBAAuBW,UAAU,CAAC,MAAO,KAAQxC,YAAY,eAAeU,MAAM,CAAC,YAAc,uBAAuB+B,SAAS,CAAC,MAASL,EAAW,GAAS,QAAG/B,GAAG,CAAC,MAAQ,SAASE,GAAWA,EAAOmC,OAAOC,WAAqBjD,EAAIkC,KAAKQ,EAAW,GAAI,SAAU7B,EAAOmC,OAAOjB,MAAMmB,SAAS,KAAO,SAASrC,GAAQ,OAAOb,EAAImD,mBAAoBnD,EAAIoC,OAAOM,YAAc1C,EAAIoC,OAAOM,WAAWC,IAAU3C,EAAIoC,OAAOM,WAAWC,GAAO,GAAIvC,EAAG,SAAS,CAACY,MAAM,CAAC,OAAShB,EAAIoC,OAAOM,WAAWC,GAAO,MAAM3C,EAAIwC,MAAM,GAAGpC,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACN,EAAIO,GAAG,cAAcH,EAAG,WAAW,CAACwC,WAAW,CAAC,CAAClC,KAAK,QAAQmC,QAAQ,eAAed,MAAOW,EAAW,GAAS,OAAEP,WAAW,uBAAuBW,UAAU,CAAC,MAAO,KAAQxC,YAAY,eAAeU,MAAM,CAAC,YAAc,yBAAyB+B,SAAS,CAAC,MAASL,EAAW,GAAS,QAAG/B,GAAG,CAAC,MAAQ,SAASE,GAAWA,EAAOmC,OAAOC,WAAqBjD,EAAIkC,KAAKQ,EAAW,GAAI,SAAU7B,EAAOmC,OAAOjB,MAAMmB,SAAS,KAAO,SAASrC,GAAQ,OAAOb,EAAImD,mBAAoBnD,EAAIoC,OAAOM,YAAc1C,EAAIoC,OAAOM,WAAWC,IAAU3C,EAAIoC,OAAOM,WAAWC,GAAO,GAAIvC,EAAG,SAAS,CAACY,MAAM,CAAC,OAAShB,EAAIoC,OAAOM,WAAWC,GAAO,MAAM3C,EAAIwC,MAAM,GAAGpC,EAAG,MAAM,CAACE,YAAY,cAAc,CAAEN,EAAIoD,uBAAuBC,OAAS,EAAGjD,EAAG,SAAS,CAACE,YAAY,+CAA+CK,GAAG,CAAC,MAAQ,SAASE,GAAQ,OAAOb,EAAIsD,uBAAuBZ,EAAYC,MAAU,CAACvC,EAAG,SAAS,CAACY,MAAM,CAAC,KAAO,IAAI,aAAa,QAAQ,GAAGhB,EAAIwC,YAAWpC,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAACE,YAAY,kBAAkBK,GAAG,CAAC,MAAQX,EAAIuD,sBAAsB,CAACnD,EAAG,SAAS,CAACE,YAAY,OAAOU,MAAM,CAAC,KAAO,sBAAsBhB,EAAIO,GAAG,cAAc,MAAM,GAAGH,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIO,GAAG,iCAAiCH,EAAG,IAAI,CAACJ,EAAIO,GAAG,wUAAwUH,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,SAAS,CAAEJ,EAAIS,OAAO+C,yBAA2BxD,EAAIS,OAAO+C,wBAAwBH,OAAQjD,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,QAAQ,CAACJ,EAAIO,GAAG,qBAAqBH,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACJ,EAAIO,GAAG,kBAAkBH,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,QAAQ,CAACJ,EAAIO,GAAG,oBAAoBP,EAAIwC,KAAKxC,EAAIyC,GAAIzC,EAAa,WAAE,SAASyD,EAAqBC,GAA2B,MAAO,CAACtD,EAAG,MAAM,CAACe,IAAK,GAAKuC,EAA2BpD,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,gBAAgB,CAACE,YAAY,SAAS,CAACF,EAAG,eAAe,CAACE,YAAY,uBAAuBU,MAAM,CAAC,YAAc,cAAcc,MAAM,CAACC,MAAO0B,EAAyB,KAAEzB,SAAS,SAAUC,GAAMjC,EAAIkC,KAAKuB,EAAsB,OAAQxB,IAAME,WAAW,+BAAgCnC,EAAIoC,OAAOuB,WAAa3D,EAAIoC,OAAOuB,UAAUD,IAA8B1D,EAAIoC,OAAOuB,UAAUD,GAA2B,QAAStD,EAAG,SAAS,CAACY,MAAM,CAAC,OAAShB,EAAIoC,OAAOuB,UAAUD,GAA2B,WAAW1D,EAAIwC,MAAM,IAAI,GAAGpC,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,gBAAgB,CAACE,YAAY,SAAS,CAACF,EAAG,eAAe,CAACE,YAAY,uBAAuBU,MAAM,CAAC,YAAc,eAAec,MAAM,CAACC,MAAO0B,EAA0B,MAAEzB,SAAS,SAAUC,GAAMjC,EAAIkC,KAAKuB,EAAsB,QAASxB,IAAME,WAAW,iCAAiC,IAAI,GAAG/B,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,gBAAgB,CAACE,YAAY,SAAS,CAACF,EAAG,eAAe,CAACE,YAAY,uBAAuBU,MAAM,CAAC,YAAc,oBAAoBc,MAAM,CAACC,MAAO0B,EAA+B,WAAEzB,SAAS,SAAUC,GAAMjC,EAAIkC,KAAKuB,EAAsB,aAAcxB,IAAME,WAAW,qCAAqC/B,EAAG,SAAS,CAACE,YAAY,6BAA6BK,GAAG,CAAC,MAAQ,SAASE,GAAQ,OAAOb,EAAI4D,YAAYF,MAA8B,CAACtD,EAAG,SAAS,CAACE,YAAY,kBAAkBU,MAAM,CAAC,KAAO,IAAI,aAAa,QAAQ,IAAI,IAAI,SAAQZ,EAAG,gBAAgB,CAACA,EAAG,WAAW,CAACY,MAAM,CAAC,QAAU,WAAWL,GAAG,CAAC,MAAQX,EAAI6D,WAAW,CAACzD,EAAG,SAAS,CAACE,YAAY,OAAOU,MAAM,CAAC,KAAO,sBAAsBhB,EAAIO,GAAG,cAAc,IAAI,IAAI,IAAI,OAAOH,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,SAAS,CAACE,YAAY,wBAAwBK,GAAG,CAAC,MAAQ,SAASE,GAAQ,OAAOb,EAAIc,iBAAiB,CAACd,EAAIO,GAAG,UAAWP,EAAIS,OAAe,SAAEL,EAAG,SAAS,CAACE,YAAY,MAAMwD,MAAM,WAAWnD,GAAG,CAAC,MAAQX,EAAI+D,eAAe,CAAC/D,EAAIO,GAAG,wBAAwBH,EAAG,sBAAsB,CAACY,MAAM,CAAC,gBAAkBhB,EAAIS,OAAOiB,SAAS,KAAO1B,EAAIS,OAAOC,KAAK,QAAS,GAAOC,GAAG,CAAC,kBAAoBX,EAAI+D,eAAe,CAAC3D,EAAG,SAAS,CAACE,YAAY,MAAMwD,MAAM,YAAY,CAAC9D,EAAIO,GAAG,WAAWP,EAAIQ,GAAGR,EAAIS,OAAOiB,SAAW,aAAe,kBAAkB,WAAW1B,EAAIwC,OAAOpC,EAAG,QAAQ,CAACY,MAAM,CAAC,MAAQ,UAAU,CAACZ,EAAG,MAAM,CAACY,MAAM,CAAC,YAAe,gCAAkChB,EAAIwB,SAAU,KAAOxB,EAAIgE,WAAW/C,YAAYjB,EAAIkB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAAS6C,GACx9S,IAAIC,EAAcD,EAAIC,YACtB,MAAO,CAAC9D,EAAG,YAAY,CAACY,MAAM,CAAC,OAASkD,GAAavD,GAAG,CAAC,MAAQX,EAAImE,wBAAwB,GAAG/D,EAAG,QAAQ,CAACY,MAAM,CAAC,MAAQ,cAAc,CAACZ,EAAG,kBAAkB,IAAI,IAAI,IACnKgE,EAAkB,G,6wBC+MtB,OACA,qCACA,mBACA,YACA,mBACA,cACA,2BACA,uBACA,yBACA,iBACA,qBACA,qBAEA,KAbA,WAcA,OACA,YAGA,gBACA,gBACA,iCAFA,IAIA,uBAJA,WAUA,IALA,SACA,yCACA,oCAEA,aACA,SACA,sBACA,KAGA,UAEA,UAjBA,WAkBA,mDACA,uCAIA,QAzCA,WAyCA,wIAEA,qCAFA,yDAIA,iCAJA,2DAOA,eACA,gBACA,mCACA,oDAHA,IAKA,aALA,WAMM,OAAN,gEAEA,mBARA,WAUA,IADA,yCACA,gBACA,SACA,2BACA,4BACA,SAEA,QAEA,2CACA,4BAGA,2CACA,6BAIA,2BACA,4BAEA,wCAGA,iBAjCA,WAkCA,kDACA,iDACA,oCACA,qCAKA,mDACA,qEAGA,kDACA,uEAGA,iBAlDA,WAmDA,iDAGA,IAFA,0CACA,KACA,uBACA,WACA,SACA,QACA,iCAIA,yBACA,uCAGA,SAlEA,WAmEA,eACA,0BACA,wBACA,yBAEA,YAxEA,SAwEA,6HACA,eACA,gCAFA,wDAKA,WACA,GACA,QACA,4BACA,wBACA,mDACA,sDACA,8DAZA,kBAeA,kBACA,kBAEA,GADA,0BACA,UACA,uFACA,yCACA,gDACA,6CAEA,2BAIA,SAQA,QACA,UACA,0DATA,qDACA,GACA,YACA,+DACA,SAlBA,UA2BA,uCA1CA,wBA4CA,qCA5CA,6DA8CA,iCA9CA,6DAiDA,aAzHA,WAyHA,8HACA,WACA,GACA,QACA,6BAJA,kBAOA,kBACA,kBACA,YACA,uFACA,yCACA,gDACA,sDANA,UAWA,uCAlBA,cAmBA,QACA,UADA,sCAGA,0BAHA,cAnBA,SAyBA,qCAzBA,4DA2BA,iCA3BA,6DA8BA,SAvJA,WAwJA,0CACA,QACA,SACA,iBAGA,oBA9JA,WA+JA,qCACA,UACA,iCAGA,qCACA,UACA,oCAGA,uBAzKA,SAyKA,KACA,WACA,OACA,eACA,iBACA,iBACA,gDACA,kCAEA,4CACA,kCAEA,OACA,8CACA,mDAEA,CACA,gDACA,gDAEA,GACA,6CAIA,eAlMA,SAkMA,GACA,8CACA,4CAGA,YAvMA,SAuMA,GACA,8CACA,6CACA,iBACA,wDAEA,iDAGA,aAhNA,SAgNA,cACA,YACA,uCACA,kBACA,QACA,UADA,gDAEA,OAGA,8CARA,UAUA,mBACA,8DAGA,WA/NA,WAgOA,+CCle8Y,I,wBCQ1YC,EAAY,eACd,EACAtE,EACAqE,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,6CCnBf","file":"js/chunk-046a2bc6.3a1a6452.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page review\"},[_c('div',{staticClass:\"page-header bg-white\"},[_c('div',[_c('h2',{staticClass:\"page-header__breadcrumbs\"},[_vm._v(\"Internal Review\")]),_c('h2',{staticClass:\"page-header__title\"},[_c('b',[_vm._v(_vm._s(_vm.review ? _vm.review.name : ''))])])]),_c('div',{staticClass:\"page-header__actions\"},[_c('div',[_c('button',{staticClass:\"btn btn-default mr-3\",on:{\"click\":_vm.download_pdf}},[_vm._v(\"Download\")]),_c('button',{staticClass:\"btn btn-dark mr-3\",on:{\"click\":function($event){return _vm.saveGeneral(true)}}},[_vm._v(\"Save and Exit\")]),_c('button',{staticClass:\"btn btn__close\",on:{\"click\":_vm.backToList}},[_c('b-icon',{attrs:{\"icon\":\"x\"}})],1)])])]),_c('b-tabs',{staticClass:\"reviews__tabs\",attrs:{\"content-class\":\"mt-0\"},scopedSlots:_vm._u([{key:\"tabs-end\",fn:function(){return [_c('b-dropdown',{staticClass:\"actions\",attrs:{\"text\":\"Actions\",\"variant\":\"default\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_vm._v(\"Actions\"),_c('b-icon',{staticClass:\"m-l-1\",attrs:{\"icon\":\"chevron-down\",\"font-scale\":\"1\"}})]},proxy:true}])},[_c('AnnualModalEdit',{attrs:{\"review\":_vm.review || {},\"inline\":false}},[_c('b-dropdown-item',[_vm._v(\"Edit\")])],1),_c('AnnualModalDelete',{attrs:{\"inline\":false},on:{\"deleteConfirmed\":function($event){return _vm.deleteReview(_vm.review.id)}}},[_c('b-dropdown-item',{staticClass:\"delete\"},[_vm._v(\"Delete\")])],1)],1)]},proxy:true}])},[_c('b-tab',{attrs:{\"title\":\"Detail\",\"active\":\"\"}},[(_vm.review)?_c('div',{staticClass:\"p-x-40\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-3\"},[_c('ReviewsList',{attrs:{\"annual-id\":_vm.annualId,\"reviews-categories\":_vm.review.review_categories,\"general\":true,\"generalComplete\":_vm.review.complete}})],1),_c('div',{staticClass:\"col-md-9 m-b-40\"},[_c('div',{staticClass:\"card-body white-card-body reviews__card\"},[_c('div',{staticClass:\"reviews__card--internal pt-0\"},[_c('h3',[_vm._v(\"General\")])]),_c('div',{staticClass:\"reviews__card--internal\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('h4',[_c('b',[_vm._v(\"Review Period\")])])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-6\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Start Date\")]),_c('b-form-datepicker',{attrs:{\"date-format-options\":{ year: 'numeric', month: '2-digit', day: '2-digit' },\"locale\":\"en-US\"},model:{value:(_vm.review.review_start),callback:function ($$v) {_vm.$set(_vm.review, \"review_start\", $$v)},expression:\"review.review_start\"}}),_c('Errors',{attrs:{\"errors\":_vm.errors.review_start}})],1),_c('div',{staticClass:\"col-6\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"End Date\"),_c('b-form-datepicker',{attrs:{\"date-format-options\":{ year: 'numeric', month: '2-digit', day: '2-digit' },\"locale\":\"en-US\"},model:{value:(_vm.review.review_end),callback:function ($$v) {_vm.$set(_vm.review, \"review_end\", $$v)},expression:\"review.review_end\"}})],1),_c('Errors',{attrs:{\"errors\":_vm.errors.review_end}})],1)])]),_c('div',{staticClass:\"reviews__card--internal\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('h4',[_c('b',[_vm._v(\"Material Business Changes\")])]),_c('p',[_vm._v(\"List any changes to your business processes, key vendors, and/or key employees during the Review Period\")])]),_c('div',{staticClass:\"col-12\"},[_c('Tiptap',{model:{value:(_vm.review.material_business_changes),callback:function ($$v) {_vm.$set(_vm.review, \"material_business_changes\", $$v)},expression:\"review.material_business_changes\"}}),(_vm.errors.material_business_changes)?_c('div',{staticClass:\"invalid-feedback d-block\"},[_vm._v(_vm._s(_vm.errors.material_business_changes))]):_vm._e()],1)])]),_c('div',{staticClass:\"reviews__card--internal\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('h4',[_c('b',[_vm._v(\"Material Regulatory Changes\")])]),_c('p',[_vm._v(\"List any regulatory changes that impacted you during the Review Period and how the business responded.\")])])]),_vm._l((_vm.regulatoryChangesSplit),function(regulatory,index){return _c('div',{key:index,staticClass:\"row mb-3\"},[_c('div',{staticClass:\"custom-col\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Change\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(regulatory[0].change),expression:\"regulatory[0].change\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"placeholder\":\"Describe the change\"},domProps:{\"value\":(regulatory[0].change)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(regulatory[0], \"change\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}),(_vm.errors.regulatory && _vm.errors.regulatory[index] && _vm.errors.regulatory[index][0])?_c('Errors',{attrs:{\"errors\":_vm.errors.regulatory[index][0]}}):_vm._e()],1),_c('div',{staticClass:\"custom-col\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Response\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(regulatory[1].change),expression:\"regulatory[1].change\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"placeholder\":\"Describe the response\"},domProps:{\"value\":(regulatory[1].change)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(regulatory[1], \"change\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}),(_vm.errors.regulatory && _vm.errors.regulatory[index] && _vm.errors.regulatory[index][1])?_c('Errors',{attrs:{\"errors\":_vm.errors.regulatory[index][1]}}):_vm._e()],1),_c('div',{staticClass:\"delete-col\"},[(_vm.regulatoryChangesSplit.length > 1)?_c('button',{staticClass:\"btn btn__close float-right remove-regulatory\",on:{\"click\":function($event){return _vm.removeRegulatoryChange(regulatory, index)}}},[_c('b-icon',{attrs:{\"icon\":\"x\",\"font-scale\":\"1\"}})],1):_vm._e()])])}),_c('div',{staticClass:\"mt-3\"},[_c('button',{staticClass:\"btn btn-default\",on:{\"click\":_vm.addRegulatoryChange}},[_c('b-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"plus-circle-fill\"}}),_vm._v(\"New Entry\")],1)])],2),_c('div',{staticClass:\"reviews__card--internal\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('h4',[_c('b',[_vm._v(\"Key Employees Interviewed\")])]),_c('p',[_vm._v(\"Regulators interview employees to uncover potential discrepancies in a firm's policies and procedures and their day-to-day practicies. It's important to interview those employees responsible for certain key tasks or have access to sensitive client in order to hear about their day-to-day activities in their own words.\")])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('b-form',[(_vm.review.annual_review_employees && _vm.review.annual_review_employees.length)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\"},[_c('label',[_vm._v(\"Employee Name\")])]),_c('div',{staticClass:\"col-4 px-0\"},[_c('label',[_vm._v(\"Title/Role\")])]),_c('div',{staticClass:\"col-4\"},[_c('label',[_vm._v(\"Department\")])])]):_vm._e(),_vm._l((_vm.employees),function(annualReviewEmployee,annualReviewEmployeeIndex){return [_c('div',{key:(\"\" + annualReviewEmployeeIndex),staticClass:\"row\"},[_c('div',{staticClass:\"col-4\"},[_c('b-input-group',{staticClass:\"m-b-1\"},[_c('b-form-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"placeholder\":\"Enter Name\"},model:{value:(annualReviewEmployee.name),callback:function ($$v) {_vm.$set(annualReviewEmployee, \"name\", $$v)},expression:\"annualReviewEmployee.name\"}}),(_vm.errors.employees && _vm.errors.employees[annualReviewEmployeeIndex] && _vm.errors.employees[annualReviewEmployeeIndex]['name'])?_c('Errors',{attrs:{\"errors\":_vm.errors.employees[annualReviewEmployeeIndex]['name']}}):_vm._e()],1)],1),_c('div',{staticClass:\"col-4 px-0\"},[_c('b-input-group',{staticClass:\"m-b-1\"},[_c('b-form-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"placeholder\":\"Enter Title\"},model:{value:(annualReviewEmployee.title),callback:function ($$v) {_vm.$set(annualReviewEmployee, \"title\", $$v)},expression:\"annualReviewEmployee.title\"}})],1)],1),_c('div',{staticClass:\"col-4\"},[_c('b-input-group',{staticClass:\"m-b-1\"},[_c('b-form-input',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"placeholder\":\"Enter Department\"},model:{value:(annualReviewEmployee.department),callback:function ($$v) {_vm.$set(annualReviewEmployee, \"department\", $$v)},expression:\"annualReviewEmployee.department\"}}),_c('button',{staticClass:\"btn btn__close float-right\",on:{\"click\":function($event){return _vm.deleteEntry(annualReviewEmployeeIndex)}}},[_c('b-icon',{staticClass:\"remove-employee\",attrs:{\"icon\":\"x\",\"font-scale\":\"1\"}})],1)],1)],1)])]}),_c('b-input-group',[_c('b-button',{attrs:{\"variant\":\"default\"},on:{\"click\":_vm.addEntry}},[_c('b-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"plus-circle-fill\"}}),_vm._v(\"New Entry\")],1)],1)],2)],1)])]),_c('div',{staticClass:\"d-flex justify-content-end m-t-20\"},[_c('button',{staticClass:\"btn btn-default m-r-1\",on:{\"click\":function($event){return _vm.saveGeneral()}}},[_vm._v(\"Save\")]),(_vm.review.complete)?_c('button',{staticClass:\"btn\",class:'btn-dark',on:{\"click\":_vm.markComplete}},[_vm._v(\"Mark as Incomplete\")]):_c('AnnualModalComplite',{attrs:{\"completedStatus\":_vm.review.complete,\"name\":_vm.review.name,\"inline\":false},on:{\"compliteConfirmed\":_vm.markComplete}},[_c('button',{staticClass:\"btn\",class:'btn-dark'},[_vm._v(\"Mark as \"+_vm._s(_vm.review.complete ? 'Incomplete' : 'Complete'))])])],1)])])])]):_vm._e()]),_c('b-tab',{attrs:{\"title\":\"Tasks\"}},[_c('Get',{attrs:{\"reviewModel\":(\"/api/business/annual_reports/\" + _vm.annualId),\"etag\":_vm.tasksEtag},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar reviewModel = ref.reviewModel;\nreturn [_c('PageTasks',{attrs:{\"review\":reviewModel},on:{\"saved\":_vm.newTasksEtag}})]}}])})],1),_c('b-tab',{attrs:{\"title\":\"Documents\"}},[_c('PageDocuments')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.page.review\n\t.page-header.bg-white\n\t\tdiv\n\t\t\th2.page-header__breadcrumbs Internal Review\n\t\t\th2.page-header__title: b {{ review ? review.name : '' }}\n\t\t.page-header__actions\n\t\t\tdiv\n\t\t\t\tbutton.btn.btn-default.mr-3(@click=\"download_pdf\") Download\n\t\t\t\tbutton.btn.btn-dark.mr-3(@click=\"saveGeneral(true)\") Save and Exit\n\t\t\t\tbutton.btn.btn__close(@click=\"backToList\")\n\t\t\t\t\tb-icon(icon=\"x\")\n\n\tb-tabs.reviews__tabs(content-class=\"mt-0\")\n\t\ttemplate(#tabs-end)\n\t\t\tb-dropdown.actions(text=\"Actions\", variant=\"default\", right)\n\t\t\t\ttemplate(#button-content)\n\t\t\t\t\t| Actions\n\t\t\t\t\tb-icon.m-l-1(icon=\"chevron-down\", font-scale=\"1\")\n\t\t\t\tAnnualModalEdit(:review=\"review || {}\", :inline=\"false\")\n\t\t\t\t\tb-dropdown-item Edit\n\t\t\t\tAnnualModalDelete(\n\t\t\t\t\t@deleteConfirmed=\"deleteReview(review.id)\",\n\t\t\t\t\t:inline=\"false\"\n\t\t\t\t)\n\t\t\t\t\tb-dropdown-item.delete Delete\n\t\tb-tab(title=\"Detail\", active)\n\t\t\t.p-x-40(v-if=\"review\")\n\t\t\t\t.row\n\t\t\t\t\t.col-md-3\n\t\t\t\t\t\tReviewsList(\n\t\t\t\t\t\t\t:annual-id=\"annualId\",\n\t\t\t\t\t\t\t:reviews-categories=\"review.review_categories\",\n\t\t\t\t\t\t\t:general=\"true\",\n\t\t\t\t\t\t\t:generalComplete=\"review.complete\"\n\t\t\t\t\t\t)\n\t\t\t\t\t.col-md-9.m-b-40\n\t\t\t\t\t\t.card-body.white-card-body.reviews__card\n\t\t\t\t\t\t\t.reviews__card--internal.pt-0\n\t\t\t\t\t\t\t\th3\n\t\t\t\t\t\t\t\t\t| General\n\t\t\t\t\t\t\t.reviews__card--internal\n\t\t\t\t\t\t\t\t.row\n\t\t\t\t\t\t\t\t\t.col-md-12\n\t\t\t\t\t\t\t\t\t\th4\n\t\t\t\t\t\t\t\t\t\t\tb Review Period\n\t\t\t\t\t\t\t\t\t\t//p For internal reviews, this time period typically spans a calendar or fiscal year and wil be referred to hereafter as \"the Review Period\n\t\t\t\t\t\t\t\t.row\n\t\t\t\t\t\t\t\t\t.col-6\n\t\t\t\t\t\t\t\t\t\tlabel.form-label Start Date\n\t\t\t\t\t\t\t\t\t\tb-form-datepicker(\n\t\t\t\t\t\t\t\t\t\t\tv-model=\"review.review_start\",\n\t\t\t\t\t\t\t\t\t\t\t:date-format-options=\"{ year: 'numeric', month: '2-digit', day: '2-digit' }\",\n\t\t\t\t\t\t\t\t\t\t\tlocale=\"en-US\"\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\tErrors(:errors=\"errors.review_start\")\n\t\t\t\t\t\t\t\t\t.col-6\n\t\t\t\t\t\t\t\t\t\tlabel.form-label End Date\n\t\t\t\t\t\t\t\t\t\t\tb-form-datepicker(\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"review.review_end\",\n\t\t\t\t\t\t\t\t\t\t\t\t:date-format-options=\"{ year: 'numeric', month: '2-digit', day: '2-digit' }\",\n\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"en-US\"\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\tErrors(:errors=\"errors.review_end\")\n\t\t\t\t\t\t\t.reviews__card--internal\n\t\t\t\t\t\t\t\t.row\n\t\t\t\t\t\t\t\t\t.col-md-12\n\t\t\t\t\t\t\t\t\t\th4\n\t\t\t\t\t\t\t\t\t\t\tb Material Business Changes\n\t\t\t\t\t\t\t\t\t\tp List any changes to your business processes, key vendors, and/or key employees during the Review Period\n\t\t\t\t\t\t\t\t\t.col-12\n\t\t\t\t\t\t\t\t\t\tTiptap(v-model=\"review.material_business_changes\")\n\t\t\t\t\t\t\t\t\t\t.invalid-feedback.d-block(v-if=\"errors.material_business_changes\") {{ errors.material_business_changes }}\n\t\t\t\t\t\t\t.reviews__card--internal\n\t\t\t\t\t\t\t\t.row\n\t\t\t\t\t\t\t\t\t.col-md-12\n\t\t\t\t\t\t\t\t\t\th4\n\t\t\t\t\t\t\t\t\t\t\tb Material Regulatory Changes\n\t\t\t\t\t\t\t\t\t\tp List any regulatory changes that impacted you during the Review Period and how the business responded.\n\t\t\t\t\t\t\t\t.row.mb-3(\n\t\t\t\t\t\t\t\t\tv-for=\"(regulatory, index) in regulatoryChangesSplit\",\n\t\t\t\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.custom-col\n\t\t\t\t\t\t\t\t\t\tlabel.form-label Change\n\t\t\t\t\t\t\t\t\t\ttextarea.form-control(\n\t\t\t\t\t\t\t\t\t\t\tv-model.trim=\"regulatory[0].change\",\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Describe the change\"\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\tErrors(\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"errors.regulatory && errors.regulatory[index] && errors.regulatory[index][0]\",\n\t\t\t\t\t\t\t\t\t\t\t:errors=\"errors.regulatory[index][0]\"\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.custom-col\n\t\t\t\t\t\t\t\t\t\tlabel.form-label Response\n\t\t\t\t\t\t\t\t\t\ttextarea.form-control(\n\t\t\t\t\t\t\t\t\t\t\tv-model.trim=\"regulatory[1].change\",\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Describe the response\"\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\tErrors(\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"errors.regulatory && errors.regulatory[index] && errors.regulatory[index][1]\",\n\t\t\t\t\t\t\t\t\t\t\t:errors=\"errors.regulatory[index][1]\"\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.delete-col\n\t\t\t\t\t\t\t\t\t\tbutton.btn.btn__close.float-right.remove-regulatory(\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"regulatoryChangesSplit.length > 1\",\n\t\t\t\t\t\t\t\t\t\t\t@click=\"removeRegulatoryChange(regulatory, index)\"\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\tb-icon(icon=\"x\", font-scale=\"1\")\n\t\t\t\t\t\t\t\t.mt-3\n\t\t\t\t\t\t\t\t\tbutton.btn.btn-default(@click=\"addRegulatoryChange\")\n\t\t\t\t\t\t\t\t\t\tb-icon.mr-2(icon=\"plus-circle-fill\")\n\t\t\t\t\t\t\t\t\t\t| New Entry\n\t\t\t\t\t\t\t.reviews__card--internal\n\t\t\t\t\t\t\t\t.row\n\t\t\t\t\t\t\t\t\t.col-md-12\n\t\t\t\t\t\t\t\t\t\th4 \n\t\t\t\t\t\t\t\t\t\t\tb Key Employees Interviewed\n\t\t\t\t\t\t\t\t\t\tp Regulators interview employees to uncover potential discrepancies in a firm's policies and procedures and their day-to-day practicies. It's important to interview those employees responsible for certain key tasks or have access to sensitive client in order to hear about their day-to-day activities in their own words.\n\t\t\t\t\t\t\t\t\t\t\t//a.link(href=\"#\") hiring one of our compilance specialists&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t//| to conduct mock interviews for you to see and learn how to do it on your own!\n\t\t\t\t\t\t\t\t.row\n\t\t\t\t\t\t\t\t\t.col-md-12\n\t\t\t\t\t\t\t\t\t\tb-form\n\t\t\t\t\t\t\t\t\t\t\t.row(\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"review.annual_review_employees && review.annual_review_employees.length\"\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t.col-4\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel Employee Name\n\t\t\t\t\t\t\t\t\t\t\t\t.col-4.px-0\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel Title/Role\n\t\t\t\t\t\t\t\t\t\t\t\t.col-4\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel Department\n\t\t\t\t\t\t\t\t\t\t\ttemplate(\n\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(annualReviewEmployee, annualReviewEmployeeIndex) in employees\"\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t.row(v-for=\"\", :key=\"`${annualReviewEmployeeIndex}`\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t.col-4\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tb-input-group.m-b-1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tb-form-input.mb-2.mr-sm-2.mb-sm-0(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"annualReviewEmployee.name\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tErrors(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"errors.employees && errors.employees[annualReviewEmployeeIndex] && errors.employees[annualReviewEmployeeIndex]['name']\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:errors=\"errors.employees[annualReviewEmployeeIndex]['name']\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t.col-4.px-0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tb-input-group.m-b-1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tb-form-input.mb-2.mr-sm-2.mb-sm-0(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"annualReviewEmployee.title\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Title\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t.col-4\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tb-input-group.m-b-1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tb-form-input.mb-2.mr-sm-2.mb-sm-0(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"annualReviewEmployee.department\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Department\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbutton.btn.btn__close.float-right(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"deleteEntry(annualReviewEmployeeIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tb-icon.remove-employee(icon=\"x\", font-scale=\"1\")\n\t\t\t\t\t\t\t\t\t\t\tb-input-group\n\t\t\t\t\t\t\t\t\t\t\t\tb-button(variant=\"default\", @click=\"addEntry\")\n\t\t\t\t\t\t\t\t\t\t\t\t\tb-icon.mr-2(icon=\"plus-circle-fill\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t| New Entry\n\t\t\t\t\t\t\t\t\t\t\t//b-input-group\n\t\t\t\t\t\t\t\t\t\t\t//  b-button(variant='primary' class=\"btn-none\" @click=\"addEntry\")\n\t\t\t\t\t\t\t\t\t\t\t//    b-icon.mr-2(icon='plus-circle-fill')\n\t\t\t\t\t\t\t\t\t\t\t//    | Add Entry\n\t\t\t\t\t\t\t.d-flex.justify-content-end.m-t-20\n\t\t\t\t\t\t\t\tbutton.btn.btn-default.m-r-1(@click=\"saveGeneral()\") Save\n\t\t\t\t\t\t\t\tbutton.btn(\n\t\t\t\t\t\t\t\t\tv-if=\"review.complete\",\n\t\t\t\t\t\t\t\t\t:class=\"'btn-dark'\",\n\t\t\t\t\t\t\t\t\t@click=\"markComplete\"\n\t\t\t\t\t\t\t\t) Mark as Incomplete\n\t\t\t\t\t\t\t\tAnnualModalComplite(\n\t\t\t\t\t\t\t\t\tv-else,\n\t\t\t\t\t\t\t\t\t@compliteConfirmed=\"markComplete\",\n\t\t\t\t\t\t\t\t\t:completedStatus=\"review.complete\",\n\t\t\t\t\t\t\t\t\t:name=\"review.name\",\n\t\t\t\t\t\t\t\t\t:inline=\"false\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\tbutton.btn(:class=\"'btn-dark'\") Mark as {{ review.complete ? 'Incomplete' : 'Complete' }}\n\t\tb-tab(title=\"Tasks\")\n\t\t\tGet(\n\t\t\t\t:reviewModel=\"`/api/business/annual_reports/${annualId}`\",\n\t\t\t\t:etag=\"tasksEtag\"\n\t\t\t): template(\n\t\t\t\tv-slot=\"{ reviewModel }\"\n\t\t\t)\n\t\t\t\tPageTasks(:review=\"reviewModel\", @saved=\"newTasksEtag\")\n\t\tb-tab(title=\"Documents\")\n\t\t\tPageDocuments\n</template>\n\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nimport Tiptap from \"@/common/Tiptap\";\nimport ReviewsList from \"./components/ReviewsList\";\nimport AnnualModalComplite from \"./modals/AnnualModalComplite\";\nimport AnnualModalEdit from \"./modals/AnnualModalEdit\";\nimport AnnualModalDelete from \"./modals/AnnualModalDelete\";\nimport PageTasks from \"./PageTasks\";\nimport PageDocuments from \"./PageDocuments\";\nimport PageActivity from \"./PageActivity\";\nimport EtaggerMixin from \"@/mixins/EtaggerMixin\";\n\nexport default {\n\tmixins: [EtaggerMixin(\"tasksEtag\")],\n\tprops: [\"annualId\"],\n\tcomponents: {\n\t\tReviewsList,\n\t\tTiptap,\n\t\tAnnualModalComplite,\n\t\tAnnualModalEdit,\n\t\tAnnualModalDelete,\n\t\tPageTasks,\n\t\tPageDocuments,\n\t\tPageActivity,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\terrors: {},\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapGetters({\n\t\t\treview: \"annual/currentReview\",\n\t\t}),\n\t\tregulatoryChangesSplit() {\n\t\t\tconst regulatorys = [];\n\t\t\tconst regulatoryChanges = this.review.regulatory_changes.filter(\n\t\t\t\t(item) => !item[\"_destroy\"]\n\t\t\t);\n\t\t\tconst length = regulatoryChanges.length - 1;\n\t\t\tfor (let i = 0; i < length; ) {\n\t\t\t\tregulatorys.push([regulatoryChanges[i], regulatoryChanges[i + 1]]);\n\t\t\t\ti = i + 2;\n\t\t\t}\n\n\t\t\treturn regulatorys;\n\t\t},\n\t\temployees() {\n\t\t\treturn this.review.annual_review_employees.filter(\n\t\t\t\t(item) => !item[\"_destroy\"]\n\t\t\t);\n\t\t},\n\t},\n\tasync mounted() {\n\t\ttry {\n\t\t\tawait this.getCurrentReviewReview(this.annualId);\n\t\t} catch (error) {\n\t\t\tthis.toast(\"Error\", error.message, true);\n\t\t}\n\t},\n\tmethods: {\n\t\t...mapActions({\n\t\t\tupdateAnnual: \"annual/updateReview\",\n\t\t\tgetCurrentReviewReview: \"annual/getCurrentReview\",\n\t\t}),\n\t\tdownload_pdf() {\n      \t\twindow.location.href=\"/business/annual_reports/\"+this.annualId+\".pdf\";\n    \t},\n\t\tvalidateRegulatory() {\n\t\t\tconst regulatoryChangesSplitLength = this.regulatoryChangesSplit.length;\n\t\t\tfor (let i = 0; i <= regulatoryChangesSplitLength - 1; i++) {\n\t\t\t\tlet obj = {};\n\t\t\t\tif (this.errors[\"regulatory\"]) {\n\t\t\t\t\tobj = this.errors[\"regulatory\"];\n\t\t\t\t\tobj[i] = {};\n\t\t\t\t} else {\n\t\t\t\t\tobj[i] = {};\n\t\t\t\t}\n\t\t\t\tif (!this.regulatoryChangesSplit[i][0].change) {\n\t\t\t\t\tobj[i][0] = [\"Required field\"];\n\t\t\t\t}\n\n\t\t\t\tif (!this.regulatoryChangesSplit[i][1].change) {\n\t\t\t\t\tobj[i][1] = [\"Required field\"];\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(obj[i][0] && obj[i][0].length > 0) ||\n\t\t\t\t\t(obj[i][1] && obj[i][1].length > 0)\n\t\t\t\t)\n\t\t\t\t\tthis.$set(this.errors, \"regulatory\", obj);\n\t\t\t}\n\t\t},\n\t\tvalidateDateTime() {\n\t\t\tif (this.review.review_start && this.review.review_end) {\n\t\t\t\tif (this.review.review_start > this.review.review_end) {\n\t\t\t\t\tthis.$set(this.errors, \"review_end\", [\n\t\t\t\t\t\t\"Date must occur after start date\",\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.review.review_start && !this.review.review_end) {\n\t\t\t\tthis.$set(this.errors, \"review_end\", [\"Start date require End date\"]);\n\t\t\t}\n\n\t\t\tif (!this.review.review_start && this.review.review_end) {\n\t\t\t\tthis.$set(this.errors, \"review_start\", [\"End date require Start date\"]);\n\t\t\t}\n\t\t},\n\t\tvalidateEmployee() {\n\t\t\tif (this.review.annual_review_employees.length > 0) {\n\t\t\t\tconst anualEmployees = this.review.annual_review_employees;\n\t\t\t\tconst errorObj = {};\n\t\t\t\tfor (let i = 0; i <= anualEmployees.length - 1; i++) {\n\t\t\t\t\tconst item = anualEmployees[i];\n\t\t\t\t\tif (!item.name) {\n\t\t\t\t\t\terrorObj[i] = {};\n\t\t\t\t\t\terrorObj[i][\"name\"] = [\"Required field\"];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (Object.keys(errorObj).length > 0)\n\t\t\t\t\tthis.$set(this.errors, \"employees\", errorObj);\n\t\t\t}\n\t\t},\n\t\tvalidate() {\n\t\t\tthis.errors = {};\n\t\t\tthis.validateRegulatory();\n\t\t\tthis.validateDateTime();\n\t\t\tthis.validateEmployee();\n\t\t},\n\t\tasync saveGeneral(exit) {\n\t\t\tthis.validate();\n\t\t\tif (Object.keys(this.errors).length > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst review = this.review;\n\t\t\tconst data = {\n\t\t\t\tid: review.id,\n\t\t\t\treview_start: review.review_start,\n\t\t\t\treview_end: review.review_end,\n\t\t\t\tregulatory_changes_attributes: review.regulatory_changes,\n\t\t\t\tmaterial_business_changes: review.material_business_changes,\n\t\t\t\tannual_review_employees_attributes: review.annual_review_employees,\n\t\t\t};\n\t\t\ttry {\n\t\t\t\tawait this.updateAnnual(data)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(\"response\", response);\n\t\t\t\t\t\tif (response.errors) {\n\t\t\t\t\t\t\tfor (const [key, value] of Object.entries(response.errors)) {\n\t\t\t\t\t\t\t\tconsole.log(`${key}: ${value}`);\n\t\t\t\t\t\t\t\tthis.toast(\"Error\", `${key}: ${value}`, true);\n\t\t\t\t\t\t\t\tthis.errors = Object.assign(this.errors, { [key]: value });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsole.log(this.errors);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!response.errors) {\n\t\t\t\t\t\t\tthis.toast(\"Success\", \"Internal review has been saved.\");\n\t\t\t\t\t\t\texit &&\n\t\t\t\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\t\t\t\t() => this.$router.push(`/business/annual_reviews`),\n\t\t\t\t\t\t\t\t\t3000\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.toast(\n\t\t\t\t\t\t\t\t\"Success\",\n\t\t\t\t\t\t\t\t\"Internal review has not been saved. Please try again.\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => console.error(error));\n\n\t\t\t\tawait this.getCurrentReviewReview(this.annualId);\n\t\t\t} catch (error) {\n\t\t\t\tthis.toast(\"Error\", error.message, true);\n\t\t\t}\n\t\t},\n\t\tasync markComplete() {\n\t\t\tconst review = this.review;\n\t\t\tconst data = {\n\t\t\t\tid: review.id,\n\t\t\t\tcomplete: !this.review.complete,\n\t\t\t};\n\t\t\ttry {\n\t\t\t\tawait this.updateAnnual(data)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tif (response.errors) {\n\t\t\t\t\t\t\tfor (const [key, value] of Object.entries(response.errors)) {\n\t\t\t\t\t\t\t\tconsole.log(`${key}: ${value}`);\n\t\t\t\t\t\t\t\tthis.toast(\"Error\", `${key}: ${value}`, true);\n\t\t\t\t\t\t\t\tthis.errors = Object.assign(this.errors, { [key]: value });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => console.error(error));\n\t\t\t\tthis.toast(\n\t\t\t\t\t\"Success\",\n\t\t\t\t\t`Category has been marked as ${\n\t\t\t\t\t\tthis.review.complete ? \"in\" : \"\"\n\t\t\t\t\t}complete.`\n\t\t\t\t);\n\t\t\t\tawait this.getCurrentReviewReview(this.annualId);\n\t\t\t} catch (error) {\n\t\t\t\tthis.toast(\"Error\", error.message, true);\n\t\t\t}\n\t\t},\n\t\taddEntry() {\n\t\t\tthis.review.annual_review_employees.push({\n\t\t\t\tname: \"\",\n\t\t\t\ttitle: \"\",\n\t\t\t\tdepartment: \"\",\n\t\t\t});\n\t\t},\n\t\taddRegulatoryChange() {\n\t\t\tthis.review.regulatory_changes.push({\n\t\t\t\tchange: \"\",\n\t\t\t\ttimestamp: new Date().getTime(),\n\t\t\t});\n\n\t\t\tthis.review.regulatory_changes.push({\n\t\t\t\tchange: \"\",\n\t\t\t\ttimestamp: new Date().getTime() + 1,\n\t\t\t});\n\t\t},\n\t\tremoveRegulatoryChange(regulatory, index) {\n\t\t\tconst change = regulatory[0];\n\t\t\tconst response = regulatory[1];\n\t\t\tif (change.id && response.id) {\n\t\t\t\tchange[\"_destroy\"] = true;\n\t\t\t\tresponse[\"_destroy\"] = true;\n\t\t\t\tconst changeIndex = this.review.regulatory_changes.findIndex(\n\t\t\t\t\t(item) => item.id === change.id\n\t\t\t\t);\n\t\t\t\tconst responseIndex = this.review.regulatory_changes.findIndex(\n\t\t\t\t\t(item) => item.id === response.id\n\t\t\t\t);\n\t\t\t\tif (changeIndex && responseIndex) {\n\t\t\t\t\tthis.$set(this.review.regulatory_changes, changeIndex, change);\n\t\t\t\t\tthis.$set(this.review.regulatory_changes, responseIndex, response);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst changeIndex = this.review.regulatory_changes.findIndex(\n\t\t\t\t\t(item) => item.timestamp === change.timestamp\n\t\t\t\t);\n\t\t\t\tif (changeIndex) {\n\t\t\t\t\tthis.review.regulatory_changes.splice(changeIndex, 2);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tduplicateEntry(i) {\n\t\t\tthis.review.annual_review_employees.push({\n\t\t\t\t...this.review.annual_review_employees[i + 1],\n\t\t\t});\n\t\t},\n\t\tdeleteEntry(i) {\n\t\t\tif (this.review.annual_review_employees[i].id) {\n\t\t\t\tconst employee = this.review.annual_review_employees[i];\n\t\t\t\temployee[\"_destroy\"] = true;\n\t\t\t\tthis.$set(this.review.annual_review_employees, i, employee);\n\t\t\t} else {\n\t\t\t\tthis.review.annual_review_employees.splice(i, 1);\n\t\t\t}\n\t\t},\n\t\tdeleteReview(reviewId) {\n\t\t\tthis.$store\n\t\t\t\t.dispatch(\"annual/deleteReview\", { id: reviewId })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.toast(\n\t\t\t\t\t\t\"Success\",\n\t\t\t\t\t\t`The internal review has been deleted! ${response.id}`\n\t\t\t\t\t);\n\t\t\t\t\t//window.location.href = `${window.location.origin}/business/annual_reviews`\n\t\t\t\t\tthis.$router.push(`/business/annual_reviews`);\n\t\t\t\t})\n\t\t\t\t.catch((error) =>\n\t\t\t\t\tthis.toast(\"Error\", `Something wrong! ${error.message}`, true)\n\t\t\t\t);\n\t\t},\n\t\tbackToList() {\n\t\t\tthis.$router.push({ name: \"annual-reviews\" });\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\n.separator {\n\tcolor: #ffc107;\n}\n\n.remove-regulatory {\n\tposition: relative;\n\ttop: 35px;\n}\n.remove-employee {\n\tposition: relative;\n\ttop: -3px;\n}\n.custom-col {\n\twidth: calc(50% - 21px);\n\tpadding-left: 15px;\n\tpadding-right: 15px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageCurrentGeneral.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageCurrentGeneral.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageCurrentGeneral.vue?vue&type=template&id=21fd655c&scoped=true&lang=pug&\"\nimport script from \"./PageCurrentGeneral.vue?vue&type=script&lang=js&\"\nexport * from \"./PageCurrentGeneral.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PageCurrentGeneral.vue?vue&type=style&index=0&id=21fd655c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21fd655c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageCurrentGeneral.vue?vue&type=style&index=0&id=21fd655c&scoped=true&lang=css&\""],"sourceRoot":""}
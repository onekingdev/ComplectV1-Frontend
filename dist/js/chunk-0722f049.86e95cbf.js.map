{"version":3,"sources":["webpack:///./src/business/projects/TimesheetsShowPage.vue?8968","webpack:///src/business/projects/TimesheetsShowPage.vue","webpack:///./src/business/projects/TimesheetsShowPage.vue?7046","webpack:///./src/business/projects/TimesheetsShowPage.vue","webpack:///./src/mixins/EtaggerMixin.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","projectId","scopedSlots","_u","key","fn","ref","project","title","url","id","etag","enrichTimesheets","timesheets","staticClass","_v","_l","timesheet","directives","name","rawName","value","expression","_s","_f","created_at","today","row","i","description","date","hours","minutes","totalDue","slot","on","$event","$bvModal","hide","_b","dispute","saved","buttonConfig","approve","status","total_time","total_due","payment_to_date","staticRenderFns","mixins","props","type","Number","required","methods","toast","message","newEtag","computed","component","etagInit","Math","random","EtaggerMixin","propertyName","prop","refreshMethodName","toUpperCase","substring","data"],"mappings":"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","file":"js/chunk-0722f049.86e95cbf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Get',{attrs:{\"project\":(\"/api/business/projects/\" + _vm.projectId)},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar project = ref.project;\nreturn [_c('Breadcrumbs',{attrs:{\"items\":['Projects', project.title, 'My Timesheet']}}),_c('Get',{attrs:{\"timesheets\":_vm.url('URL_API_PROJECT_TIMESHEETS', project.id),\"etag\":_vm.etag,\"callback\":_vm.enrichTimesheets},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar timesheets = ref.timesheets;\nreturn [_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Date of Entry\")]),_c('th',[_vm._v(\"Status\")]),_c('th',[_vm._v(\"Total Time\")]),_c('th',[_vm._v(\"Total Due\")]),_c('th',[_vm._v(\"Payment to Date\")]),_c('th')])]),_c('tbody',_vm._l((timesheets),function(timesheet){return _c('tr',{key:timesheet.id},[_c('td',[_c('a',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:((\"TimesheetModal\" + (timesheet.id))),expression:\"`TimesheetModal${timesheet.id}`\"}],attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm._f(\"asDate\")(timesheet.created_at)))]),_c('b-modal',{attrs:{\"id\":(\"TimesheetModal\" + (timesheet.id)),\"title\":\"Entry Details\"}},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Date of Entry\")]),_c('p',[_vm._v(_vm._s(_vm._f(\"asDate\")(_vm.today)))]),_vm._l((timesheet.time_logs),function(row,i){return _c('div',{key:i,staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12\"},[_c('hr'),_c('label',{staticClass:\"form-label\"},[_vm._v(\"Description\")]),_c('p',[_vm._v(_vm._s(row.description))])]),_c('div',{staticClass:\"col-md-4\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Date\")]),_c('p',[_vm._v(_vm._s(_vm._f(\"asDate\")(row.date)))])]),_c('div',{staticClass:\"col-md-4\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Hours\")]),_c('p',[_vm._v(_vm._s(row.hours))])]),_c('div',{staticClass:\"col-md-4\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Minutes\")]),_c('p',[_vm._v(_vm._s(row.minutes || 0))])])])}),_c('hr'),_c('p',{staticClass:\"text-right\"},[_vm._v(\"Total Due: \"+_vm._s(_vm._f(\"usdWhole\")(_vm.totalDue)))]),_c('template',{slot:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-link\",on:{\"click\":function($event){return _vm.$bvModal.hide((\"TimesheetModal\" + (timesheet.id)))}}},[_vm._v(\"Cancel\")]),_c('Post',_vm._b({attrs:{\"model\":{dispute:1}},on:{\"saved\":function($event){return _vm.saved(timesheet, 'Disputed')}}},'Post',_vm.buttonConfig(timesheet.id),false),[_c('button',{staticClass:\"btn btn-outline-dark\"},[_vm._v(\"Reject\")])]),_c('Post',_vm._b({attrs:{\"model\":{approve:1}},on:{\"saved\":function($event){return _vm.saved(timesheet, 'Approved')}}},'Post',_vm.buttonConfig(timesheet.id),false),[_c('button',{staticClass:\"btn btn-dark\"},[_vm._v(\"Approve\")])])],1)],2)],1),_c('td',[_vm._v(_vm._s(timesheet.status))]),_c('td',[_vm._v(_vm._s(_vm._f(\"minToHour\")(timesheet.total_time)))]),_c('td',[_vm._v(_vm._s(_vm._f(\"usdWhole\")(timesheet.total_due)))]),_c('td',[_vm._v(_vm._s(_vm._f(\"usdWhole\")(timesheet.payment_to_date)))]),_c('td',[_vm._v(\"â€¦\")])])}),0)])]}}],null,true)})]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  Get(:project=\"`/api/business/projects/${projectId}`\"): template(v-slot=\"{project}\")\n    Breadcrumbs(:items=\"['Projects', project.title, 'My Timesheet']\")\n    Get(:timesheets=\"url('URL_API_PROJECT_TIMESHEETS', project.id)\" :etag=\"etag\" :callback=\"enrichTimesheets\"): template(v-slot=\"{timesheets}\"): table.table\n      thead\n        tr\n          th Date of Entry\n          th Status\n          th Total Time\n          th Total Due\n          th Payment to Date\n          th\n      tbody\n        tr(v-for=\"timesheet in timesheets\" :key=\"timesheet.id\")\n          td\n            a(v-b-modal=\"`TimesheetModal${timesheet.id}`\" href=\"#\") {{ timesheet.created_at | asDate }}\n            b-modal(:id=\"`TimesheetModal${timesheet.id}`\" title=\"Entry Details\")\n              label.form-label Date of Entry\n              p {{ today | asDate }}\n              .row(v-for=\"(row, i) in timesheet.time_logs\" :key=\"i\")\n                .col-sm-12\n                  hr\n                  label.form-label Description\n                  p {{ row.description }}\n                .col-md-4\n                  label.form-label Date\n                  p {{ row.date | asDate }}\n                .col-md-4\n                  label.form-label Hours\n                  p {{ row.hours }}\n                .col-md-4\n                  label.form-label Minutes\n                  p {{ row.minutes || 0 }}\n              hr\n              p.text-right Total Due: {{ totalDue | usdWhole }}\n              template(slot=\"modal-footer\")\n                button.btn.btn-link(@click=\"$bvModal.hide(`TimesheetModal${timesheet.id}`)\") Cancel\n                Post(:model=\"{dispute:1}\" v-bind=\"buttonConfig(timesheet.id)\" @saved=\"saved(timesheet, 'Disputed')\")\n                  button.btn.btn-outline-dark Reject\n                Post(:model=\"{approve:1}\" v-bind=\"buttonConfig(timesheet.id)\" @saved=\"saved(timesheet, 'Approved')\")\n                  button.btn.btn-dark Approve\n          td {{ timesheet.status }}\n          td {{ timesheet.total_time | minToHour }}\n          td {{ timesheet.total_due | usdWhole }}\n          td {{ timesheet.payment_to_date | usdWhole }}\n          td &hellip;\n</template>\n\n<script>\nimport { DateTime } from 'luxon'\nimport { mapGetters } from 'vuex'\nimport EtaggerMixin from '@/mixins/EtaggerMixin'\n\nconst today = () => DateTime.local().toISODate()\n\nexport default {\n  mixins: [EtaggerMixin()],\n  props: {\n    projectId: {\n      type: Number,\n      required: true\n    }\n  },\n  methods: {\n    saved(timesheet, message) {\n      this.toast(message, message)\n      this.$bvModal.hide(`TimesheetModal${timesheet.id}`)\n      this.newEtag()\n    }\n  },\n  computed: {\n    ...mapGetters(['url', 'accessToken']),\n    enrichTimesheets() {\n      return timesheets => timesheets.map(t => ({\n        ...t,\n        total_time: 0,\n        total_due: 0,\n        payment_to_date: 0\n      }))\n    },\n    buttonConfig() {\n      return timesheetId => ({\n        action: this.url('URL_API_PROJECT_TIMESHEETS', this.projectId) + '/' + timesheetId,\n        method: 'PUT',\n        headers: { Authorization: this.accessToken }\n      })\n    },\n    totalDue() {\n      return 0\n    },\n    today\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimesheetsShowPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimesheetsShowPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimesheetsShowPage.vue?vue&type=template&id=1a70d79a&lang=pug&\"\nimport script from \"./TimesheetsShowPage.vue?vue&type=script&lang=js&\"\nexport * from \"./TimesheetsShowPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const etagInit = () => Math.random()\n\nconst EtaggerMixin = propertyName => {\n  const prop = propertyName || 'etag',\n        refreshMethodName = 'new' + prop[0].toUpperCase() + prop.substring(1)\n  return {\n    data() {\n      return {\n        [prop]: etagInit()\n      }\n    },\n    methods: {\n      [refreshMethodName]: function() {\n        this[prop] = etagInit()\n      }\n    }\n  }\n}\n\nexport default EtaggerMixin"],"sourceRoot":""}
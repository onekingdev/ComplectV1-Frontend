{"version":3,"sources":["webpack:///./src/business/filefolders/components/FilefoldersItem.vue?8dfe","webpack:///./src/business/filefolders/components/FilefoldersTable.vue?29ed","webpack:///./src/business/filefolders/components/FilefoldersItem.vue?66ac","webpack:///./src/business/filefolders/modals/FoldersModalMoveTo.vue?d22e","webpack:///src/business/filefolders/modals/FoldersModalMoveTo.vue","webpack:///./src/business/filefolders/modals/FoldersModalMoveTo.vue?f495","webpack:///./src/business/filefolders/modals/FoldersModalMoveTo.vue","webpack:///./src/business/filefolders/modals/FoldersModalEdit.vue?d8a3","webpack:///src/business/filefolders/modals/FoldersModalEdit.vue","webpack:///./src/business/filefolders/modals/FoldersModalEdit.vue?9ba1","webpack:///./src/business/filefolders/modals/FoldersModalEdit.vue","webpack:///./src/business/filefolders/modals/FilefoldersModalDelete.vue?024c","webpack:///src/business/filefolders/modals/FilefoldersModalDelete.vue","webpack:///./src/business/filefolders/modals/FilefoldersModalDelete.vue?71e0","webpack:///./src/business/filefolders/modals/FilefoldersModalDelete.vue","webpack:///src/business/filefolders/components/FilefoldersItem.vue","webpack:///./src/business/filefolders/components/FilefoldersItem.vue?b92b","webpack:///./src/business/filefolders/components/FilefoldersItem.vue","webpack:///src/business/filefolders/components/FilefoldersTable.vue","webpack:///./src/business/filefolders/components/FilefoldersTable.vue?4c88","webpack:///./src/business/filefolders/components/FilefoldersTable.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_e","_v","on","$event","sortSelect","_l","filefolders","item","key","id","check","selectedItemUp","staticRenderFns","itemType","directives","name","rawName","value","form","checked","expression","domProps","Array","isArray","_i","$$a","$$el","target","$$c","$$v","$$i","$set","concat","slice","onChange","file_addr","openFolder","_s","owner","_f","size","dateToHuman","updated_at","scopedSlots","_u","fn","proxy","disabled","zipping","moveToFileFolder","deleteFileFolderItem","class","inline","_t","modalId","getData","errors","destination","treeList","model","file_folder","callback","slot","$bvModal","hide","submit","component","error","ref","type","indexOf","_k","keyCode","apply","arguments","composing","fileFolder","title","props","components","FoldersModalMoveTo","FoldersModalEdit","FilefoldersModalDelete","data","zipCounter","filters","format_size","methods","date","invalid","toFormat","fileAddr","e","preventDefault","console","log","folderId","folderName","$store","commit","getCurrentReviewFileFoldersById","setCurrentReviewFolder","downloadFileFolder","download","a","document","createElement","href","dataurl","setAttribute","filename","click","file","status","event","$emit","FilefoldersItem","sortOptions","field","reverse","computed","sortedReview","sort","sortOption","itemA","itemB","dateB","dateA","stringA","stringB"],"mappings":"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","file":"js/chunk-13ff6386.1010ae42.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilefoldersItem.vue?vue&type=style&index=0&id=3b51b2ff&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{staticClass:\"table reviews-table\"},[_c('thead',[_c('tr',[(_vm.check)?_c('th',{attrs:{\"width\":\"5%\"}}):_vm._e(),_c('th',{attrs:{\"width\":\"45%\"}},[_vm._v(\"Name\")]),_c('th',{staticClass:\"text-right\",attrs:{\"width\":\"20%\"},on:{\"click\":function($event){return _vm.sortSelect('progress', 'number')}}},[_vm._v(\"Owner\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1),_c('th',{staticClass:\"text-right\",on:{\"click\":function($event){return _vm.sortSelect('findings', 'number')}}},[_vm._v(\"Size\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1),_c('th',{staticClass:\"text-right\",on:{\"click\":function($event){return _vm.sortSelect('updated_at', 'date')}}},[_vm._v(\"Last Modified\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1),_c('th')])]),_c('tbody',[_vm._l((_vm.filefolders.folders),function(item){return (_vm.filefolders.folders)?_c('FilefoldersItem',{key:'folder-'+item.id,attrs:{\"item\":item,\"itemType\":'folder',\"check\":_vm.check},on:{\"selectedItem\":_vm.selectedItemUp}}):_vm._e()}),_vm._l((_vm.filefolders.files),function(item){return (_vm.filefolders.files)?_c('FilefoldersItem',{key:'file-'+item.id,attrs:{\"item\":item,\"itemType\":'file',\"check\":_vm.check},on:{\"selectedItem\":_vm.selectedItemUp}}):_vm._e()})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[(_vm.check)?_c('td',{attrs:{\"width\":\"5%\"}},[(_vm.itemType === 'file')?_c('div',{staticClass:\"form-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.checked[_vm.item.id]),expression:\"form.checked[item.id]\"}],staticClass:\"valid\",attrs:{\"id\":(\"ch-\" + (_vm.item.id)),\"type\":\"checkbox\",\"name\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.form.checked[_vm.item.id])?_vm._i(_vm.form.checked[_vm.item.id],null)>-1:(_vm.form.checked[_vm.item.id])},on:{\"change\":[function($event){var $$a=_vm.form.checked[_vm.item.id],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.form.checked, _vm.item.id, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.form.checked, _vm.item.id, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.form.checked, _vm.item.id, $$c)}},_vm.onChange]}}),_c('label',{staticClass:\"form-check__label\",attrs:{\"for\":(\"ch-\" + (_vm.item.id))}})]):_vm._e()]):_vm._e(),_c('td',{staticClass:\"align-middle\"},[_c('div',{staticClass:\"d-flex align-items-center truncate\"},[_c('a',{staticClass:\"link\",attrs:{\"href\":_vm.itemType === 'file' ? _vm.item.file_addr : '#',\"target\":_vm.itemType === 'file' ? '_blank' : '_self'},on:{\"click\":function($event){return _vm.openFolder($event, _vm.item.id, _vm.item.file_addr, _vm.item.name)}}},[_c('ion-icon',{staticClass:\"m-r-1\",attrs:{\"name\":_vm.itemType === 'folder' ? 'folder-outline' : 'document-outline',\"size\":\"small\"}}),_vm._v(_vm._s(_vm.item.name))],1),(_vm.disabled)?_c('span',{staticClass:\"m-l-1\"},[_c('b-icon',{staticClass:\"m-r-1\",attrs:{\"icon\":\"arrow-counterclockwise\",\"animation\":\"spin-reverse-pulse\",\"font-scale\":\"1\"}}),_vm._v(\"Zipping...\")],1):_vm._e()])]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(_vm._s(_vm.item.owner))]),_c('td',{staticClass:\"align-middle text-right\"},[_c('div',[_vm._v(_vm._s(_vm._f(\"format_size\")(_vm.item.size ? _vm.item.size : 0)))])]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(_vm._s(_vm.dateToHuman(_vm.item.updated_at)))]),_c('td',{staticClass:\"text-right\"},[_c('div',{staticClass:\"actions\"},[_c('b-dropdown',{staticClass:\"m-0 p-0\",attrs:{\"size\":\"sm\",\"variant\":\"none\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('b-icon',{attrs:{\"icon\":\"three-dots\"}})]},proxy:true}])},[_c('FoldersModalEdit',{attrs:{\"item\":_vm.item,\"inline\":false}},[_c('b-dropdown-item',[_vm._v(\"Edit\")])],1),_c('b-dropdown-item',{attrs:{\"disabled\":_vm.disabled},on:{\"click\":function($event){return _vm.zipping(_vm.item.id, _vm.item.name)}}},[(_vm.disabled)?_c('b-icon',{staticClass:\"m-r-1\",attrs:{\"icon\":\"arrow-counterclockwise\",\"animation\":\"spin-reverse-pulse\",\"font-scale\":\"1\"}}):_vm._e(),_vm._v(\"Download\")],1),_c('FoldersModalMoveTo',{attrs:{\"item\":_vm.item,\"inline\":false},on:{\"movedConfirmed\":_vm.moveToFileFolder}},[_c('b-dropdown-item',[_vm._v(\"Move to\")])],1),_c('FilefoldersModalDelete',{attrs:{\"inline\":false},on:{\"deleteConfirmed\":function($event){return _vm.deleteFileFolderItem(_vm.item.id, _vm.itemType)}}},[_c('b-dropdown-item',{staticClass:\"delete\"},[_vm._v(\"Delete\")])],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'d-inline-block':_vm.inline}},[_c('div',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:(_vm.modalId),expression:\"modalId\"}],class:{'d-inline-block':_vm.inline}},[_vm._t(\"default\")],2),_c('b-modal',{staticClass:\"fade\",attrs:{\"id\":_vm.modalId,\"title\":\"Move To\"},on:{\"shown\":_vm.getData}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 m-b-2\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Destination\")]),_c('b-form-select',{attrs:{\"errors\":_vm.errors.destination,\"options\":_vm.treeList},model:{value:(_vm.file_folder.destination),callback:function ($$v) {_vm.$set(_vm.file_folder, \"destination\", $$v)},expression:\"file_folder.destination\"}}),_c('Errors',{attrs:{\"errors\":_vm.errors.name}})],1)]),_c('template',{slot:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-link\",on:{\"click\":function($event){return _vm.$bvModal.hide(_vm.modalId)}}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn btn-dark\",on:{\"click\":_vm.submit}},[_vm._v(\"Confirm\")])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  div(:class=\"{'d-inline-block':inline}\")\n    div(v-b-modal=\"modalId\" :class=\"{'d-inline-block':inline}\")\n      slot\n\n    b-modal.fade(:id=\"modalId\" title=\"Move To\" @shown=\"getData\")\n      .row\n        .col-12.m-b-2\n          label.form-label Destination\n          <!--ComboBox(v-model=\"file_folder.destination\" :options=\"treeList\" placeholder=\"Select target destination\")-->\n          b-form-select(v-model=\"file_folder.destination\" :errors=\"errors.destination\" :options=\"treeList\")\n          Errors(:errors=\"errors.name\")\n\n      template(slot=\"modal-footer\")\n        button.btn.btn-link(@click=\"$bvModal.hide(modalId)\") Cancel\n        button.btn.btn-dark(@click=\"submit\") Confirm\n</template>\n\n<script>\n  import { mapGetters } from \"vuex\"\n  import Errors from '@/common/Errors'\n  import ComboBox from '@/common/ComboBox'\n\n  const rnd = () => Math.random().toFixed(10).toString().replace('.', '')\n  const toOption = id => ({ id, label: id })\n\n  export default {\n    props: {\n      inline: {\n        type: Boolean,\n        default: true\n      },\n      item: {\n        type: Object,\n        required: true,\n      },\n    },\n    components: {\n      Errors,\n      ComboBox\n    },\n    data() {\n      return {\n        modalId: `modal_${rnd()}`,\n        file_folder: {\n          destination: null,\n        },\n        treeList: null,\n        errors: []\n      }\n    },\n    computed: {\n      ...mapGetters({\n        filefolders: 'filefolders/filefolders'\n      }),\n      destinationOptions() {\n        return this.filefolders.folders.map(folder => {\n          return { value: folder.id, text: folder.name }\n        })\n      },\n      linkToOptions() {\n\n        return [\n                {...toOption('Projects'), children: ['Some project', 'Another', 'One'].map(toOption)},\n                {...toOption('Annual Reviews'), children: ['Annual Review 2018', 'Annual Review 1337', 'Some Review'].map(toOption)},\n                {...toOption('Policies'), children: ['Pol', 'Icy', 'Policy 3'].map(toOption)}\n               ]\n      },\n    },\n    methods: {\n      async submit(e) {\n        e.preventDefault();\n\n        if (!this.file_folder.destination) {\n          this.toast('Error', `N - Required field`, true)\n          return\n        }\n\n        // IF THIS ITEM IS FILE\n        if (this.item.file_addr) {\n          const params = {\n            file_doc: {\n              file_folder_id: this.file_folder.destination\n            }\n          }\n\n          // if (this.currentFolderId) params.file_doc.file_folder_id = this.currentFolderId\n\n          let formData = new FormData()\n          Object.keys(params.file_doc)\n            .map(specAttr => formData.append(`file_doc[${specAttr}]`, params.file_doc[specAttr]))\n          this.$store\n            .dispatch('filefolders/updateFile', { id: this.item.id, data: formData, action: 'move' })\n            .then(response => {\n              if(!response.errors) {\n                this.toast('Success', `File has been moved.`)\n              }\n            })\n            .catch(error => {\n              console.error(error)\n              this.toast('Error', `File has not been moved. Please try again.`, true)\n            })\n\n          return\n        }\n\n        // IF THIS ITEM IS A FOLDER\n        const data = {\n          \"file_folder\": {\n            \"parent_id\": this.file_folder.destination\n          }\n        }\n\n        try {\n          const response = await this.$store.dispatch('filefolders/updateFolder', { id: this.item.id, data, action: 'move' })\n          if (response.errors) {\n            this.toast('Error', `Folder has not been moved. Please try again. ${response.status}`, true)\n            Object.keys(response.errors)\n              .map(prop => response.errors[prop].map(err => this.toast(`Error`, `${prop}: ${err}`)))\n            return\n          }\n          this.toast('Success', `Folder has been moved.`)\n          this.$emit('movedConfirmed', 'test')\n          this.$bvModal.hide(this.modalId)\n        } catch (error) {\n          this.toast('Error', error.message, true)\n        }\n      },\n      getData() {\n        this.$store.dispatch('filefolders/getFileFoldersListTree', this.item.id)\n          .then(response => {\n            console.log(response)\n            this.treeList = response.map(folder => {\n              return { value: folder[1], text: folder[0] }\n            })\n\n            // let objectOption = {}\n            // let objectOptionArr = []\n            //\n            // for(const [ name, id ] of this.treeList) {\n            //   console.log(name, id)\n            //\n            //   if (name.match(/ - /)) {\n            //     for (const prop of Object.getOwnPropertyNames(objectOption)) {\n            //       delete objectOption[prop];\n            //     }\n            //     objectOptionArr = []\n            //     objectOption = { ...{ id, label: name.slice(3) } , children: [] }\n            //   }\n            //   if (name.match(/ -- /)) {\n            //     objectOptionArr.push({ id, label: name.slice(3)})\n            //     objectOption = Object.assign(objectOption, {children: objectOptionArr} )\n            //   }\n            // }\n            //\n            // console.log('objectOption')\n            // console.log(objectOption)\n            //\n            // return\n            //\n            //\n            // const treeListOptions = this.treeList.map(node => {\n            //   const [ name, id ] = node;\n            //   console.log(name, id)\n            //   console.log('reg:' + name + '-result:', name.match(/ - /))\n            //   console.log('reg:' + name + '-result2:', name.match(/ -- /))\n            //\n            //   let objectOption = {}\n            //   let objectOptionArr = []\n            //\n            //   if (name.match(/ - /)) {\n            //     objectOption = { ...{ id, label: name.slice(3) } , children: [] }\n            //   }\n            //   if (name.match(/ -- /)) {\n            //     objectOptionArr.push({ id, label: name.slice(3)})\n            //     objectOption = Object.assign(objectOption, {children: objectOptionArr} )\n            //   }\n            //\n            //   console.log('objectOption')\n            //   console.log(objectOption)\n            //   if (objectOption) return objectOption\n            // })\n            //\n            // this.treeList = treeListOptions\n          })\n          .catch(error => {\n            console.error(error)\n            if (!this.treeList) this.treeList = this.destinationOptions\n          })\n      }\n    },\n  }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FoldersModalMoveTo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FoldersModalMoveTo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FoldersModalMoveTo.vue?vue&type=template&id=cee4c72e&lang=pug&\"\nimport script from \"./FoldersModalMoveTo.vue?vue&type=script&lang=js&\"\nexport * from \"./FoldersModalMoveTo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'d-inline-block':_vm.inline}},[_c('div',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:(_vm.modalId),expression:\"modalId\"}],class:{'d-inline-block':_vm.inline}},[_vm._t(\"default\")],2),_c('b-modal',{staticClass:\"fade\",attrs:{\"id\":_vm.modalId,\"title\":_vm.item.file_addr ? 'Edit File Name' : 'Edit Folder Name'}},[(_vm.error)?_c('b-alert',{staticClass:\"m-b-20\",attrs:{\"variant\":\"danger\",\"show\":\"\"}},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fileFolder),expression:\"fileFolder\"}],ref:\"input\",staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter the name of your folder\"},domProps:{\"value\":(_vm.fileFolder)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.fileFolder=$event.target.value}}}),_c('Errors',{attrs:{\"errors\":_vm.errors.name}})],1)]),_c('template',{slot:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-link\",on:{\"click\":function($event){return _vm.$bvModal.hide(_vm.modalId)}}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn btn-dark\",on:{\"click\":_vm.submit}},[_vm._v(\"Save\")])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  div(:class=\"{'d-inline-block':inline}\")\n    div(v-b-modal=\"modalId\" :class=\"{'d-inline-block':inline}\")\n      slot\n\n    b-modal.fade(:id=\"modalId\" :title=\"item.file_addr ? 'Edit File Name' : 'Edit Folder Name'\")\n      b-alert.m-b-20(v-if=\"error\" variant=\"danger\" show) {{ error }}\n\n      .row\n        .col-12\n          label.form-label Name\n          input.form-control(v-model=\"fileFolder\" type=\"text\" placeholder=\"Enter the name of your folder\" ref=\"input\" v-on:keyup.enter=\"submit\")\n          Errors(:errors=\"errors.name\")\n\n      template(slot=\"modal-footer\")\n        button.btn.btn-link(@click=\"$bvModal.hide(modalId)\") Cancel\n        button.btn.btn-dark(@click=\"submit\") Save\n</template>\n\n<script>\n  import Errors from '@/common/Errors'\n\n  const rnd = () => Math.random().toFixed(10).toString().replace('.', '')\n\n  export default {\n    props: {\n      inline: {\n        type: Boolean,\n        default: true\n      },\n      item: {\n        type: Object,\n        required: true\n      },\n    },\n    components: {\n      Errors,\n    },\n    data() {\n      return {\n        modalId: `modal_${rnd()}`,\n        file_folder: {\n          name: '',\n        },\n        errors: [],\n        error: ''\n      }\n    },\n    computed: {\n      fileFolder: {\n        get(){\n          return this.item.name\n        },\n        set(value) {\n          this.file_folder.name = value\n        }\n      }\n    },\n    methods: {\n      async submit(e) {\n        e.preventDefault();\n        this.error = ''\n\n        if (!this.file_folder.name) {\n          this.error = 'Required field'\n          return\n        }\n        if (this.file_folder.name.length <= 3) {\n          this.error = 'Name must be more than 3 characters.'\n          return\n        }\n\n        // IF THIS ITEM IS FILE\n        if (this.item.file_addr) {\n          const params = {\n            file_doc: {\n              name: this.file_folder.name\n            }\n          }\n\n          // if (this.currentFolderId) params.file_doc.file_folder_id = this.currentFolderId\n\n          let formData = new FormData()\n          Object.keys(params.file_doc)\n            .map(specAttr => formData.append(`file_doc[${specAttr}]`, params.file_doc[specAttr]))\n          this.$store\n            .dispatch('filefolders/updateFile', { id: this.item.id, data: formData })\n            .then(response => {\n              if(!response.errors) {\n                this.toast('Success', `File has been saved.`)\n              }\n            })\n            .catch(error => {\n              console.error(error)\n              this.toast('Error', `File has not been saved.`)\n            })\n\n          return\n        }\n\n        // IF THIS ITEM IS A FOLDER\n        const data = {\n          file_folder: {\n            // ...this.item,\n            name: this.file_folder.name,\n          },\n        }\n\n        try {\n          const response = await this.$store.dispatch('filefolders/updateFolder', { id: this.item.id, data })\n          if (response.errors) {\n            this.toast('Error', `Folder has not been saved. Please Try again. ${response.status}`, true)\n            Object.keys(response.errors)\n              .map(prop => response.errors[prop].map(err => this.toast(`Error`, `${prop}: ${err}`)))\n            return\n          }\n          if (!response.errors) {\n            this.toast('Success', `Folder has been saved.`)\n            this.$emit('editConfirmed')\n            this.$bvModal.hide(this.modalId)\n          }\n\n        } catch (error) {\n          this.toast('Error', error.message, true)\n        }\n      },\n    },\n  }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FoldersModalEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FoldersModalEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FoldersModalEdit.vue?vue&type=template&id=2e7a6eaa&lang=pug&\"\nimport script from \"./FoldersModalEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./FoldersModalEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'d-inline-block':_vm.inline}},[_c('div',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:(_vm.modalId),expression:\"modalId\"}],class:{'d-inline-block':_vm.inline}},[_vm._t(\"default\")],2),_c('b-modal',{staticClass:\"fade\",attrs:{\"id\":_vm.modalId,\"title\":\"Delete Document\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-1 text-center px-0\"},[_c('img',{attrs:{\"src\":require(\"@/assets/error_20.svg\"),\"width\":\"25\",\"height\":\"25\"}})]),_c('div',{staticClass:\"col\"},[_c('p',{staticClass:\"paragraph m-b-10\"},[_vm._v(\"Removing this document will delete any progress and tasks associated with the file.\")]),_c('p',{staticClass:\"paragraph mb-0\"},[_c('b',[_vm._v(\"Do you want to continue?\")])])])]),_c('Errors',{attrs:{\"errors\":_vm.errors.title}}),_c('template',{slot:\"modal-footer\"},[_c('button',{staticClass:\"btn link mr-2\",on:{\"click\":function($event){return _vm.$bvModal.hide(_vm.modalId)}}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn btn-dark\",on:{\"click\":_vm.submit}},[_vm._v(\"Confirm\")])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  div(:class=\"{'d-inline-block':inline}\")\n    div(v-b-modal=\"modalId\" :class=\"{'d-inline-block':inline}\")\n      slot\n\n    b-modal.fade(:id=\"modalId\" title=\"Delete Document\")\n      .row\n        .col-md-1.text-center.px-0\n          //b-icon.mt-2.ml-3(icon=\"exclamation-circle-fill\" scale=\"2\" variant=\"danger\")\n          img(src='@/assets/error_20.svg' width=\"25\" height=\"25\")\n        .col\n          p.paragraph.m-b-10 Removing this document will delete any progress and tasks associated with the file.\n          p.paragraph.mb-0\n            b Do you want to continue?\n\n      Errors(:errors=\"errors.title\")\n\n      template(slot=\"modal-footer\")\n        button.btn.link.mr-2(@click=\"$bvModal.hide(modalId)\") Cancel\n        button.btn.btn-dark(@click=\"submit\") Confirm\n</template>\n\n<script>\n  const rnd = () => Math.random().toFixed(10).toString().replace('.', '')\n  export default {\n    props: {\n      inline: {\n        type: Boolean,\n        default: true\n      },\n    },\n    data() {\n      return {\n        modalId: `modal_${rnd()}`,\n        errors: []\n      }\n    },\n    methods: {\n      submit(e) {\n        e.preventDefault();\n        this.errors = [];\n\n        this.$emit('deleteConfirmed')\n        this.$bvModal.hide(this.modalId)\n      },\n    },\n  }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilefoldersModalDelete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilefoldersModalDelete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilefoldersModalDelete.vue?vue&type=template&id=41a231e3&lang=pug&\"\nimport script from \"./FilefoldersModalDelete.vue?vue&type=script&lang=js&\"\nexport * from \"./FilefoldersModalDelete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n  tr\n    td(v-if=\"check\" width=\"5%\")\n      // b-form-checkbox(v-if=\"itemType === 'file'\" v-model='form.checked[item.id]' @change=\"onChange\")\n      .form-check(v-if=\"itemType === 'file'\")\n        input.valid(:id=\"`ch-${item.id}`\" type='checkbox' name='checkbox' v-model='form.checked[item.id]' @change=\"onChange\")\n        label(:for=\"`ch-${item.id}`\" class='form-check__label')\n    td.align-middle\n      .d-flex.align-items-center.truncate\n        a.link(:href=\"itemType === 'file' ? item.file_addr : '#'\" :target=\"itemType === 'file' ? '_blank' : '_self'\" @click=\"openFolder($event, item.id, item.file_addr, item.name)\")\n          ion-icon.m-r-1(:name=\"itemType === 'folder' ? 'folder-outline' : 'document-outline'\" size=\"small\")\n          | {{ item.name }}\n        span.m-l-1(v-if=\"disabled\")\n          b-icon.m-r-1(icon=\"arrow-counterclockwise\" animation=\"spin-reverse-pulse\" font-scale=\"1\")\n          | Zipping...\n    td.align-middle.text-right {{ item.owner }}\n    td.align-middle.text-right\n      div {{ item.size ? item.size : 0 | format_size }}\n    td.align-middle.text-right {{ dateToHuman(item.updated_at) }}\n    td.text-right\n      .actions\n        b-dropdown(size=\"sm\" variant=\"none\" class=\"m-0 p-0\" right)\n          template(#button-content)\n            b-icon(icon=\"three-dots\")\n          //- b-dropdown-item(v-if=\"item.locked\" :disabled=\"item.locked\" v-b-tooltip.hover.left=\"'Cant be edited!'\") Edit\n          FoldersModalEdit(:item=\"item\", :inline=\"false\")\n            b-dropdown-item Edit\n          b-dropdown-item(@click=\"zipping(item.id, item.name)\" :disabled=\"disabled\")\n            b-icon.m-r-1(v-if=\"disabled\" icon=\"arrow-counterclockwise\" animation=\"spin-reverse-pulse\" font-scale=\"1\")\n            | Download\n          //- b-dropdown-item(v-if=\"item.locked\" :disabled=\"item.locked\" v-b-tooltip.hover.left=\"'Cant be moved!'\") Move to\n          FoldersModalMoveTo(@movedConfirmed=\"moveToFileFolder\", :item=\"item\", :inline=\"false\")\n            b-dropdown-item Move to\n          FilefoldersModalDelete(@deleteConfirmed=\"deleteFileFolderItem(item.id, itemType)\" :inline=\"false\")\n            b-dropdown-item.delete Delete\n\n</template>\n\n<script>\nimport { mapGetters, mapActions, mapMutations } from \"vuex\"\nimport { DateTime } from 'luxon'\nimport FoldersModalMoveTo from '../modals/FoldersModalMoveTo'\nimport FoldersModalEdit from '../modals/FoldersModalEdit'\nimport FilefoldersModalDelete from '../modals/FilefoldersModalDelete'\n\nexport default {\n  name: \"ReviewItem\",\n  props: ['item', 'itemType', 'check'],\n  components: {\n    FoldersModalMoveTo,\n    FoldersModalEdit,\n    FilefoldersModalDelete\n  },\n  data () {\n    return {\n      form: {\n        checked: [],\n      },\n      zipCounter: 0,\n      disabled: false\n    }\n  },\n  filters: {\n    format_size(size) {\n      if (size >= 1000) {\n        return `${(size/1000).toFixed(1)} MB`\n      } else {\n        return `${size} KB`\n      }\n    }\n  },\n  methods: {\n    ...mapMutations({\n      setCurrentReviewFolder: 'filefolders/SET_CUREENT_FOLDER'\n    }),\n    ...mapActions({\n      getFileFolders: 'filefolders/getFileFolders',\n      getCurrentReviewFileFoldersById: 'filefolders/getFileFoldersById',\n      deleteFileFolder: 'filefolders/deleteFileFolder',\n    }),\n    dateToHuman(value) {\n      const date = DateTime.fromJSDate(new Date(value))\n      if (!date.invalid) {\n        return date.toFormat('dd/MM/yyyy')\n      }\n      if (date.invalid) {\n        return value\n      }\n    },\n    openFolder(e, folderId, fileAddr, folderName) {\n      if (fileAddr) return\n\n      e.preventDefault()\n      console.log('folderId', folderId)\n      if (folderName) this.$store.commit('filefolders/SET_CUREENT_FOLDER_NAME', folderName)\n\n      // const url = new URL(window.location);\n      // window.history.pushState({}, '', `${url}/${folderId}`);\n\n      this.getCurrentReviewFileFoldersById(folderId)\n      this.setCurrentReviewFolder(folderId)\n    },\n    downloadFileFolder(filefolderId){\n      // this.$store.dispatch('annual/duplicateReview', { id: filefolderId })\n      //   .then(response => this.toast('Success', ` ${response.message}`))\n      //   .catch(error => this.toast('Error', `Something wrong! ${error.message}`))\n    },\n    async zipping(itemId, itemName) {\n      if (!itemId) return\n\n      try {\n        // console.log('zipping')\n        this.disabled = true\n        await this.$store.dispatch('filefolders/startZipping', { id: itemId })\n          .then(response => {\n            // console.log(response)\n            this.toast('Success', `File has been downloaded.`)\n\n            setTimeout(() => {\n              this.zippinTimerChecker(itemId, itemName)\n              this.zipCounter++\n            }, 5000)\n          })\n          .catch(error => {\n            console.error(response)\n            this.zipStatus = false\n            this.disabled = false\n          })\n        // .finally(() => this.zippinTimerChecker()) // FOR TESTS\n      } catch (error) {\n        this.toast('Error', error.message, true)\n      }\n    },\n    async zippinTimerChecker(itemId, itemName){\n      try {\n        this.disabled = true\n        await this.$store.dispatch('filefolders/checkZipping', { id: itemId })\n          .then(response => {\n            if (!response.complete) {\n              setTimeout(() => {\n                this.zippinTimerChecker(itemId, itemName)\n                this.zipCounter++\n              }, 5000)\n            }\n\n            if (response.complete) {\n              this.zipStatus = true\n              this.toast('Success', 'File has been downloaded.')\n\n              this.download(response.path, `${itemName} ${itemId}.zip`);\n              this.disabled = false\n            }\n          })\n          .catch(error => {\n            console.error(error)\n            this.zipStatus = false\n            this.disabled = false\n          })\n      } catch (error) {\n        this.toast('Error', error.message, true)\n      }\n    },\n    download(dataurl, filename) {\n      var a = document.createElement(\"a\");\n      a.href = dataurl;\n      a.setAttribute(\"download\", filename);\n      a.click();\n    },\n    moveToFileFolder(e) {\n      console.log('move done')\n    },\n    // deleteFileFolder(filefolderId, itemType){\n    //   this.$store.dispatch('filefolders/deleteFileFolder', { id: filefolderId, itemType })\n    //     .then(response => this.toast('Success', `${response.message}`))\n    //     .catch(error => this.toast('Error', `Folder has not been deleted. Please try again.`, true))\n    // },\n    async deleteFileFolderItem(id, itemType) {\n      try {\n        this.deleteFileFolder({id, itemType})\n          .then(response => this.toast('Success', `${response.message}`))\n          .catch(error => this.toast('Error', `Folder has not been deleted. Please try again.`, true))\n      } catch (error) {\n        this.toast('Error', error.message, true)\n      }\n    },\n    onChange(event){\n      let data = {\n        file: this.item,\n        status: event\n      }\n      this.$emit('selectedItem', data)\n    },\n  }\n}\n</script>\n\n<style scoped>\n  ion-icon {\n    color: #565759;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilefoldersItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilefoldersItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilefoldersItem.vue?vue&type=template&id=3b51b2ff&scoped=true&lang=pug&\"\nimport script from \"./FilefoldersItem.vue?vue&type=script&lang=js&\"\nexport * from \"./FilefoldersItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilefoldersItem.vue?vue&type=style&index=0&id=3b51b2ff&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b51b2ff\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n  table.table.reviews-table\n    thead\n      tr\n        th(v-if='check' width=\"5%\")\n          // b-form-checkbox(v-model='form.checked[]')\n        th(width=\"45%\")\n          | Name\n        th(@click=\"sortSelect('progress', 'number')\" width=\"20%\").text-right\n          | Owner\n          b-icon.ml-2(icon='chevron-expand')\n        th(@click=\"sortSelect('findings', 'number')\").text-right\n          | Size\n          b-icon.ml-2(icon='chevron-expand')\n        th(@click=\"sortSelect('updated_at', 'date')\").text-right\n          | Last Modified\n          b-icon.ml-2(icon='chevron-expand')\n        th\n\n    tbody\n      FilefoldersItem(v-if=\"filefolders.folders\" v-for=\"item in filefolders.folders\" :key=\"'folder-'+item.id\" :item=\"item\" :itemType=\"'folder'\" :check=\"check\" @selectedItem=\"selectedItemUp\")\n      FilefoldersItem(v-if=\"filefolders.files\" v-for=\"item in filefolders.files\" :key=\"'file-'+item.id\" :item=\"item\" :itemType=\"'file'\" :check=\"check\" @selectedItem=\"selectedItemUp\")\n</template>\n\n<script>\n\nimport FilefoldersItem from \"./FilefoldersItem\"\nexport default {\n  components: {\n    FilefoldersItem\n  },\n  props: ['filefolders', 'check'],\n  data () {\n    return {\n      sortOptions: {\n        field: 'progress',\n        type: 'number',\n        reverse: false\n      }\n    }\n  },\n  computed: {\n    sortedReview () {\n      const sortOption = this.sortOptions\n      return this.filefolders.sort((itemA, itemB)=> {\n        if (sortOption.type === 'number') {\n          if (sortOption.reverse) {\n            return  itemB[sortOption.field] - itemA[sortOption.field]\n          }\n          return itemA[sortOption.field] - itemB[sortOption.field]\n        }\n        if (sortOption.type === 'date') {\n          const dateA = new Date(itemA[sortOption.field])\n          const dateB = new Date(itemB[sortOption.field])\n          if (sortOption.reverse) {\n            return dateB - dateA\n          }\n          return dateA - dateB\n        }\n        if (sortOption.type === 'string') {\n          const stringA = itemA[sortOption.field].toLowerCase()\n          const stringB = itemB[sortOption.field].toLowerCase()\n          if (sortOption.reverse) {\n            if (stringA > stringB) {\n              return -1\n            }\n            if (stringA < stringB) {\n              return 1\n            }\n            return 0\n          }\n          if (stringA < stringB) {\n            return -1\n          }\n          if (stringA > stringB) {\n            return 1\n          }\n          return 0\n        }\n      })\n    }\n  },\n  methods: {\n    sortSelect (field, type) {\n      const sortOption = this.sortOptions\n      if (field === sortOption.field) {\n        this.sortOptions.reverse = !sortOption.reverse\n        return\n      }\n      this.sortOptions = {\n        field: field,\n        type: type,\n        reverse: false\n      }\n    },\n    selectedItemUp (value) {\n      this.$emit('selectedItem', value)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilefoldersTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilefoldersTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilefoldersTable.vue?vue&type=template&id=12a37f6e&lang=pug&\"\nimport script from \"./FilefoldersTable.vue?vue&type=script&lang=js&\"\nexport * from \"./FilefoldersTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
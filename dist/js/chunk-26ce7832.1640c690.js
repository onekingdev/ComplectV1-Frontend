(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26ce7832"],{"173d":function(t,s,r){"use strict";r.r(s);var e=function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("div",{staticClass:"card registration"},[r("div",{staticClass:"card-body white-card-body"},[r("Loading"),r("div",{staticClass:"form"},[t._m(0),r("div",[r("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",fade:"",variant:"danger"},on:{"dismiss-count-down":t.countDownChanged}},[t._v(t._s(t.error)),r("br"),t._v("This alert will dismiss after "+t._s(t.dismissCountDown)+" seconds...")]),t.show?r("b-form",{on:{submit:t.onSubmit1}},[r("b-form-group",{staticClass:"m-b-20",attrs:{id:"input-group-4",label:"Password:","label-for":"input-4"}},[r("b-form-input",{attrs:{id:"input-4",type:"password",placeholder:"Password",required:""},model:{value:t.form.password,callback:function(s){t.$set(t.form,"password",s)},expression:"form.password"}}),t.errors.password?r("div",{staticClass:"invalid-feedback d-block"},[t._v("'Password' "+t._s(t.errors.password))]):t._e()],1),r("b-form-group",{staticClass:"m-b-20",attrs:{id:"input-group-5",label:"Repeat Password:","label-for":"input-5"}},[r("b-form-input",{attrs:{id:"input-5",type:"password",placeholder:"Repeat Password",required:""},model:{value:t.form.passwordConfirm,callback:function(s){t.$set(t.form,"passwordConfirm",s)},expression:"form.passwordConfirm"}}),t.errors.passwordConfirm?r("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors.passwordConfirm))]):t._e()],1),r("b-button",{staticClass:"registration__btn w-100",attrs:{type:"submit",variant:"dark"}},[t._v("Save")])],1):t._e()],1)])],1),r("div",{staticClass:"card-footer"},[r("b-form-group",{staticClass:"text-center mb-0"},[r("router-link",{staticClass:"link",attrs:{to:"/users/sign_in"}},[t._v("Cancel")])],1)],1)])},o=[function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("div",{staticClass:"registration-welcome"},[r("h1",{staticClass:"registration__title"},[t._v("Reset Password")])])}],n=r("9523"),a=r.n(n),i=r("278c"),c=r.n(i),l=r("e829"),d=r("ba78"),u=(Math.floor(1e3*Math.random()),{components:{Loading:l["a"],TopNavbar:d["a"]},created:function(){var t=new URL(window.location),s=t.searchParams.get("reset_password_token");this.resetPasswordToken=s},data:function(){return{userId:"",otpSecret:"",userType:"",form:{password:"",passwordConfirm:""},show:!0,error:"",errors:{},step1:!0,step2:!1,dismissSecs:8,dismissCountDown:0,showDismissibleAlert:!1,resetPasswordToken:""}},methods:{selectType:function(t){this.userType=t},onSubmit1:function(t){var s=this;if(t.preventDefault(),this.errors=[],this.form.password===this.form.passwordConfirm){var r={user:{reset_password_token:this.resetPasswordToken,password:this.form.password,password_confirmation:this.form.passwordConfirm}};this.$store.dispatch("changeEmail",r).then((function(t){if(t.errors)for(var r=0,e=Object.entries(t.errors);r<e.length;r++){var o=c()(e[r],2),n=o[0],i=o[1];s.errors=Object.assign(s.errors,a()({},n,i))}else t.errors||(s.userId=t.userid,s.step1=!1,s.step2=!0),setTimeout((function(){window.location.href="/users/sign_in"}),6e3)}))["catch"]((function(t){console.error(t);for(var r=0,e=Object.keys(t.errors);r<e.length;r++){var o=e[r];s.error="Error! ".concat(t.errors[o])}s.showAlert()}))}else this.errors={passwordConfirm:"Password does not match"}},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}},computed:{loading:function(){return this.$store.getters.loading}}}),f=u,p=r("67ae"),m=r("2877");function w(t){this["$style"]=p["default"].locals||p["default"]}var h=Object(m["a"])(f,e,o,!1,w,null,null);s["default"]=h.exports},"1d8f":function(t,s,r){},"67ae":function(t,s,r){"use strict";var e=r("8f67"),o=r.n(e);r.d(s,"default",(function(){return o.a}))},"8f67":function(t,s,r){},b9f4:function(t,s,r){t.exports=r.p+"img/primary.70f6fdd7.svg"},ba78:function(t,s,r){"use strict";var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"topbar"},[e("div",{staticClass:"logo"},[e("router-link",{staticClass:"link",attrs:{to:"/"}},[e("img",{staticClass:"logo__img logo__img_full",attrs:{src:r("b9f4")}}),e("svg",{staticClass:"logo__text",attrs:{width:"200",height:"30",xmlns:"http://www.w3.org/2000/svg"}},[e("text",{attrs:{x:"0",y:"25","font-family":"Varela"}},[t._v("complect")])])])],1),e("div",{staticClass:"navbar-nav mr-0"},[t.loggedIn&&t.userName?e("div",{staticClass:"dropdown dropdown-profile"},[t.userName?e("div",{staticClass:"dropdown-profile__btn",attrs:{"aria-expanded":t.isProfileMenuOpen},on:{click:function(s){t.isProfileMenuOpen=!t.isProfileMenuOpen}}},[e("span",[t._v(t._s(t.userName))]),e("b-icon",{staticClass:"m-l-1",attrs:{icon:"chevron-down"}})],1):t._e(),e("ul",{staticClass:"dropdown-menu",class:{show:t.isProfileMenuOpen},attrs:{"aria-labelledby":"profile_dropdown_btn"}},[e("li",{staticClass:"dropdown-item",on:{click:t.signOut}},[t._v("Sign Out")])])]):e("div",{staticClass:"ml-auto mr-3 mt-auto mb-auto"},[e("router-link",{staticClass:"btn btn btn-dark",attrs:{to:"/users/sign_in"}},[t._v("Sign in")])],1)])])},o=[],n={props:["userInfo"],data:function(){return{isProfileMenuOpen:!1}},methods:{removeCurrentUser:function(){localStorage.removeItem("app.currentUser"),localStorage.removeItem("app.currentUser.token"),localStorage.removeItem("app.currentUser.userType"),localStorage.removeItem("app.currentUser.paymentMethod"),window.location.href="".concat(window.location.origin)},signOut:function(){var t=this,s=localStorage.getItem("app.currentUser.token")?localStorage.getItem("app.currentUser.token"):"";fetch(this.$store.getters.backendUrl+"/api/users/sign_out",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:JSON.parse(s)}}).then((function(s){return s.ok||404!==s.status||t.removeCurrentUser(),s.json()})).then((function(s){t.removeCurrentUser()}))["catch"]((function(t){return console.error(t)}))}},computed:{loggedIn:function(){return this.$store.getters.loggedIn},currentUser:function(){return this.$store.getters.getUser},userName:function(){var t=this.currentUser.contact_first_name?"".concat(this.currentUser.contact_first_name," ").concat(this.currentUser.contact_last_name):"".concat(this.currentUser.first_name," ").concat(this.currentUser.last_name);return"undefined undefined"!==t?t:""},mainUrl:function(){return window.location.origin}}},a=n,i=(r("c94f"),r("2877")),c=Object(i["a"])(a,e,o,!1,null,"4d594f10",null);s["a"]=c.exports},c94f:function(t,s,r){"use strict";r("1d8f")}}]);
//# sourceMappingURL=chunk-26ce7832.1640c690.js.map
{"version":3,"sources":["webpack:///./src/specialist/tasks/Page.vue?988b","webpack:///./src/specialist/tasks/components/TaskTable.vue?add3","webpack:///./src/specialist/tasks/components/TasksItem.vue?ebdf","webpack:///src/specialist/tasks/components/TasksItem.vue","webpack:///./src/specialist/tasks/components/TasksItem.vue?4bbb","webpack:///./src/specialist/tasks/components/TasksItem.vue","webpack:///src/specialist/tasks/components/TaskTable.vue","webpack:///./src/specialist/tasks/components/TaskTable.vue?da40","webpack:///./src/specialist/tasks/components/TaskTable.vue","webpack:///src/specialist/tasks/Page.vue","webpack:///./src/specialist/tasks/Page.vue?fd5d","webpack:///./src/specialist/tasks/Page.vue","webpack:///./src/specialist/tasks/components/TaskTable.vue?86c5"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","shortTable","_e","_v","attrs","pdfUrl","on","$event","refetch","scopedSlots","_u","key","fn","_s","_f","sortedByNameGeneral","proxy","sortBy","sortedByNameAdditional","sortByType","perPage","class","sortedTasks","currentPage","length","rows","model","value","callback","$$v","expression","loading","staticRenderFns","sortSelect","_l","item","id","$emit","done_task","done_at","toggleDone","body","linkedTo","linkedToClass","linkable_type","assignee","remind_at","overdue","isOverdue","isRepeat","end_date","deleteTask","name","props","type","Object","required","Boolean","default","components","TaskFormModal","TaskDeleteConfirmModal","computed","methods","$store","dispatch","filters","linkableTypeCorrector","replace","component","Loading","EmptyState","TaskTable","data","toggleModal","sortedBy","sortedByLinkedTo","projects","mounted","getters","tasks","sortedByType","result","capitalize","toString","charAt","toUpperCase","slice"],"mappings":"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","file":"js/chunk-3c42b01c.163ca9c8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[(!_vm.shortTable)?_c('div',{staticClass:\"page-header\"},[_c('h2',{staticClass:\"page-header__title\"},[_vm._v(\"Tasks\")]),_c('div',{staticClass:\"page-header__actions\"},[(!_vm.shortTable)?_c('a',{staticClass:\"btn btn-default m-r-1 d-none\",attrs:{\"href\":_vm.pdfUrl,\"target\":\"_blank\"}},[_vm._v(\"Download\")]):_vm._e(),_c('TaskFormModal',{on:{\"saved\":function($event){return _vm.refetch()}}},[_c('a',{staticClass:\"btn btn-dark\"},[_vm._v(\"New Task\")])])],1)]):_vm._e(),_c('div',{staticClass:\"card-body white-card-body card-body_full-height p-x-40\"},[(!_vm.shortTable)?_c('div',{staticClass:\"row mb-3\"},[_c('div',{staticClass:\"col\"},[_c('div',[_c('b-dropdown',{staticClass:\"actions__dropdown actions__dropdown_tasks m-r-1\",attrs:{\"variant\":\"default\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_vm._v(\"Show: \"+_vm._s(_vm._f(\"capitalize\")(_vm.sortedByNameGeneral))),_c('ion-icon',{staticClass:\"ml-2\",attrs:{\"name\":\"chevron-down-outline\",\"size\":\"small\"}})]},proxy:true}],null,false,4232157971)},[_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.sortBy('all')}}},[_vm._v(\"All Tasks\")]),_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.sortBy('overdue')}}},[_vm._v(\"Overdue\")]),_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.sortBy('completed')}}},[_vm._v(\"Completed\")])],1),_c('b-dropdown',{staticClass:\"actions__dropdown actions__dropdown_links m-r-1\",attrs:{\"variant\":\"default\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_vm._v(_vm._s(_vm._f(\"linkableTypeCorrector\")(_vm._f(\"capitalize\")(_vm.sortedByNameAdditional)))),_c('ion-icon',{staticClass:\"ml-2\",attrs:{\"name\":\"chevron-down-outline\",\"size\":\"small\"}})]},proxy:true}],null,false,128449830)},[_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.sortByType('all')}}},[_vm._v(\"All Links\")]),_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.sortByType('LocalProject')}}},[_vm._v(\"Projects\")]),_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.sortByType('CompliancePolicy')}}},[_vm._v(\"Policies\")]),_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.sortByType('AnnualReport')}}},[_vm._v(\"Internal Reviews\")])],1),_c('b-dropdown',{staticClass:\"actions__dropdown d-none\",attrs:{\"variant\":\"default\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_vm._v(_vm._s(_vm.perPage)+\" results\"),_c('ion-icon',{staticClass:\"ml-2\",attrs:{\"name\":\"chevron-down-outline\",\"size\":\"small\"}})]},proxy:true}],null,false,1936447672)},[_c('b-dropdown-item',{on:{\"click\":function($event){_vm.perPage = 5}}},[_vm._v(\"5\")]),_c('b-dropdown-item',{on:{\"click\":function($event){_vm.perPage = 10}}},[_vm._v(\"10\")]),_c('b-dropdown-item',{on:{\"click\":function($event){_vm.perPage = 15}}},[_vm._v(\"15\")]),_c('b-dropdown-item',{on:{\"click\":function($event){_vm.perPage = 20}}},[_vm._v(\"20\")])],1)],1)])]):_vm._e(),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\",class:_vm.shortTable ? 'p-0' : ''},[_c('TaskTable',{staticClass:\"m-b-40\",attrs:{\"shortTable\":_vm.shortTable,\"tasks\":_vm.sortedTasks,\"perPage\":_vm.perPage,\"currentPage\":_vm.currentPage},on:{\"saved\":_vm.refetch}}),(!_vm.shortTable && _vm.sortedTasks.length > _vm.perPage)?_c('b-pagination',{attrs:{\"total-rows\":_vm.rows,\"per-page\":_vm.perPage,\"shortTable\":!_vm.shortTable,\"aria-controls\":\"tasks-table\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}}):_vm._e()],1)]),(_vm.loading)?_c('div',{staticClass:\"row h-100\"},[_c('div',{staticClass:\"col h-100 text-center\"},[_c('Loading',{attrs:{\"absolute\":true}})],1)]):_vm._e(),(!_vm.sortedTasks.length && !_vm.loading)?_c('div',{staticClass:\"row h-100\"},[_c('div',{staticClass:\"col h-100 text-center\"},[_c('EmptyState',{attrs:{\"name\":\"Tasks\"}})],1)]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{staticClass:\"table task_table\",attrs:{\"per-page\":_vm.perPage,\"current-page\":_vm.currentPage}},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Name\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1),(!_vm.shortTable)?_c('th',{on:{\"click\":function($event){return _vm.sortSelect('body', 'string')}}},[_vm._v(\"Linked to\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1):_vm._e(),(!_vm.shortTable)?_c('th',{on:{\"click\":function($event){return _vm.sortSelect('linkable_type', 'string')}}},[_vm._v(\"Assignee\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1):_vm._e(),(!_vm.shortTable)?_c('th',{staticClass:\"text-right\",on:{\"click\":function($event){return _vm.sortSelect('updated_at', 'date')}}},[_vm._v(\"Start date\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1):_vm._e(),_c('th',{staticClass:\"text-right\",on:{\"click\":function($event){return _vm.sortSelect('created_at', 'date')}}},[_vm._v(\"Due date\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1),(!_vm.shortTable)?_c('th',{staticClass:\"d-none text-right\",on:{\"click\":function($event){return _vm.sortSelect('files', 'number')}}},[_vm._v(\"Files\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1):_vm._e(),(!_vm.shortTable)?_c('th',{staticClass:\"d-none text-right\",on:{\"click\":function($event){return _vm.sortSelect('comments', 'number')}}},[_vm._v(\"Comments\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1):_vm._e(),_c('th',{staticClass:\"text-right\",attrs:{\"width\":\"35px\"}})])]),(_vm.sortedTaskLimited)?_c('tbody',_vm._l((_vm.sortedTaskLimited),function(item){return _c('TaskItem',{key:item.id,attrs:{\"item\":item,\"shortTable\":_vm.shortTable},on:{\"saved\":function($event){return _vm.$emit('saved')}}})}),1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',[_c('div',{staticClass:\"name\"},[_c('b-icon',{staticClass:\"pointer m-r-1\",class:{ done_task: _vm.item.done_at },attrs:{\"font-scale\":\"1\",\"icon\":_vm.item.done_at ? 'check-circle-fill' : 'check-circle'},on:{\"click\":function($event){return _vm.toggleDone(_vm.item)}}}),_c('TaskFormModal',{staticClass:\"link\",attrs:{\"task-id\":_vm.item.id},on:{\"saved\":function($event){return _vm.$emit('saved')}}},[(!_vm.item.done_at)?_c('span',[_vm._v(_vm._s(_vm.item.body))]):_c('s',[_vm._v(_vm._s(_vm.item.body))])])],1)]),(!_vm.shortTable)?_c('td',[_c('div',{staticClass:\"d-flex align-items-center\"},[(_vm.linkedTo(_vm.item))?_c('ion-icon',{staticClass:\"mr-1\",class:_vm.linkedToClass(_vm.item),attrs:{\"name\":_vm.linkedTo(_vm.item)}}):_vm._e(),(_vm.item.linkable_type)?_c('div',{staticClass:\"link\"},[_vm._v(_vm._s(_vm._f(\"linkableTypeCorrector\")(_vm.item.linkable_type)))]):_c('span',[_vm._v(\"---\")])],1)]):_vm._e(),(!_vm.shortTable)?_c('td',[_vm._v(_vm._s(_vm.item.assignee ? _vm.item.assignee : '---'))]):_vm._e(),(!_vm.shortTable)?_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"asDate\")(_vm.item.remind_at)))]):_vm._e(),_c('td',{staticClass:\"text-right\",class:{ overdue: _vm.isOverdue(_vm.item) }},[(_vm.isOverdue(_vm.item))?_c('b-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"exclamation-triangle-fill\",\"variant\":\"warning\"}}):_vm._e(),(_vm.isRepeat(_vm.item))?_c('ion-icon',{staticClass:\"text-dark mr-2\",attrs:{\"name\":\"repeat-outline\"}}):_vm._e(),_vm._v(_vm._s(_vm._f(\"asDate\")(_vm.item.end_date)))],1),(!_vm.shortTable)?_c('td',{staticClass:\"d-none text-right\"},[_vm._v(\"0\")]):_vm._e(),(!_vm.shortTable)?_c('td',{staticClass:\"d-none text-right\"},[_vm._v(\"0\")]):_vm._e(),(!_vm.shortTable)?_c('td',{staticClass:\"text-right\"},[_c('b-dropdown',{staticClass:\"m-0 p-0\",attrs:{\"size\":\"xs\",\"variant\":\"none\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('b-icon',{attrs:{\"icon\":\"three-dots\"}})]},proxy:true}],null,false,2038261878)},[_c('TaskFormModal',{attrs:{\"task-id\":_vm.item.id},on:{\"saved\":function($event){return _vm.$emit('saved')}}},[_c('b-dropdown-item',[_vm._v(\"Edit\")])],1),_c('TaskDeleteConfirmModal',{attrs:{\"inline\":false},on:{\"deleteConfirmed\":function($event){return _vm.deleteTask(_vm.item)}}},[_c('b-dropdown-item',[_vm._v(\"Delete\")])],1)],1)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  tr\n    td\n      .name\n        b-icon.pointer.m-r-1(font-scale=\"1\" :icon=\"item.done_at ? 'check-circle-fill' : 'check-circle'\" @click=\"toggleDone(item)\" v-bind:class=\"{ done_task: item.done_at }\")\n        //- ion-icon.m-r-1.pointer(@click=\"toggleDone(item)\" v-bind:class=\"{ done_task: item.done_at }\" name='checkmark-circle-outline')\n        TaskFormModal.link(:task-id=\"item.id\" @saved=\"$emit('saved')\")\n          span(v-if=\"!item.done_at\") {{ item.body }}\n          s(v-else) {{ item.body }}\n    td(v-if=\"!shortTable\")\n      .d-flex.align-items-center\n        ion-icon.mr-1(v-if=\"linkedTo(item)\" :name=\"linkedTo(item)\" :class=\"linkedToClass(item)\")\n        .link(v-if=\"item.linkable_type\") {{ item.linkable_type | linkableTypeCorrector }}\n        span(v-else) ---\n    td(v-if=\"!shortTable\") {{ item.assignee ? item.assignee : '---' }}\n    td.text-right(v-if=\"!shortTable\")\n      | {{ item.remind_at | asDate }}\n    td.text-right(:class=\"{ overdue: isOverdue(item) }\")\n      b-icon.mr-2(v-if=\"isOverdue(item)\" icon=\"exclamation-triangle-fill\" variant=\"warning\")\n      ion-icon.text-dark.mr-2(v-if=\"isRepeat(item)\" name=\"repeat-outline\")\n      | {{ item.end_date | asDate }}\n    td.d-none(v-if=\"!shortTable\").text-right 0\n    td.d-none(v-if=\"!shortTable\").text-right 0\n    td(v-if=\"!shortTable\").text-right\n      b-dropdown(size=\"xs\" variant=\"none\" class=\"m-0 p-0\" right)\n        template(#button-content)\n          b-icon(icon=\"three-dots\")\n        //- b-dropdown-item(:href=\"`/business/reminders/${item.id}`\") Edit\n        TaskFormModal(:task-id=\"item.id\" @saved=\"$emit('saved')\")\n          b-dropdown-item Edit\n        //- b-dropdown-item {{ item.done_at ? 'Incomplite' : 'Complete' }}\n        TaskDeleteConfirmModal(@deleteConfirmed=\"deleteTask(item)\" :inline=\"false\")\n          b-dropdown-item Delete\n</template>\n\n<script>\nimport { isOverdue, splitReminderOccurenceId, linkedTo, linkedToClass, isRepeat } from '@/common/TaskHelper'\nimport TaskFormModal from '@/common/TaskFormModal'\nimport TaskDeleteConfirmModal from '@/common/TaskDeleteConfirmModal'\n\nexport default {\n  name: \"TaskItem\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    shortTable: {\n      type: Boolean,\n      default: false\n    }\n  },\n  components: {\n    TaskFormModal,\n    TaskDeleteConfirmModal,\n  },\n  computed: { },\n  methods: {\n    isRepeat,\n    isOverdue,\n    linkedTo,\n    linkedToClass,\n    async toggleDone(task) {\n      const { taskId, oid } = splitReminderOccurenceId(task.id)\n      const oidParam = oid !== null ? `&oid=${oid}` : ''                // BACK RETURNS 404 with this\n      const src_id_params = oid !== null ? `&src_id=${task.id}` : ''    // BACK RETURNS 404 with this\n      let target_state = (!(!!task.done_at)).toString()\n\n      try {\n        await this.$store.dispatch('reminders/updateTaskStatus', { id: taskId, done: target_state, oidParam, src_id_params })\n          .then(response => this.toast('Success', `Updated!`))\n          .catch(error => this.toast('Error', `Something wrong! ${error.message}`, true))\n      } catch (error) {\n        console.error('error catch in task Item', error)\n      }\n    },\n    deleteTask({ id }) {\n      this.$store.dispatch('reminders/deleteTask', { id })\n        .then(response => this.toast('Success', `The task deleted!`))\n        .catch(error => this.toast('Error', `Something wrong! ${error.message}`, true))\n    },\n  },\n  filters: {\n    linkableTypeCorrector: function (value) {\n      if (value === 'AnnualReport') value = 'Internal Review'\n      return value.replace(/[A-Z]/g, ' $&')\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TasksItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TasksItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TasksItem.vue?vue&type=template&id=fec5db5c&lang=pug&\"\nimport script from \"./TasksItem.vue?vue&type=script&lang=js&\"\nexport * from \"./TasksItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n  table.table.task_table(:per-page='perPage' :current-page='currentPage')\n    thead\n      tr\n        th\n          | Name\n          b-icon.ml-2(icon='chevron-expand')\n        th(v-if=\"!shortTable\" @click=\"sortSelect('body', 'string')\")\n          | Linked to\n          b-icon.ml-2(icon='chevron-expand')\n        th(v-if=\"!shortTable\" @click=\"sortSelect('linkable_type', 'string')\")\n          | Assignee\n          b-icon.ml-2(icon='chevron-expand')\n        th(v-if=\"!shortTable\" @click=\"sortSelect('updated_at', 'date')\").text-right\n          | Start date\n          b-icon.ml-2(icon='chevron-expand')\n        th(@click=\"sortSelect('created_at', 'date')\").text-right\n          | Due date\n          b-icon.ml-2(icon='chevron-expand')\n        th.d-none(v-if=\"!shortTable\" @click=\"sortSelect('files', 'number')\").text-right\n          | Files\n          b-icon.ml-2(icon='chevron-expand')\n        th.d-none(v-if=\"!shortTable\" @click=\"sortSelect('comments', 'number')\").text-right\n          | Comments\n          b-icon.ml-2(icon='chevron-expand')\n        th.text-right(width=\"35px\")\n    tbody(v-if=\"sortedTaskLimited\")\n      TaskItem(v-for=\"item in sortedTaskLimited\" :key=\"item.id\" :item=\"item\" :shortTable=\"shortTable\" @saved=\"$emit('saved')\")\n</template>\n\n<script>\n  function paginate(array, page_size, page_number) {\n    return array.slice((page_number - 1) * page_size, page_number * page_size);\n  }\n\n  import TaskItem from \"./TasksItem\"\n  export default {\n    components: {\n      TaskItem\n    },\n    props: {\n      tasks: {\n        type: Array,\n        required: true\n      },\n      shortTable: {\n        type: Boolean,\n        default: false\n      },\n      perPage: {\n        type: Number,\n        default: 1\n      },\n      currentPage: {\n        type: Number,\n        default: 1\n      },\n    },\n    data () {\n      return {\n        sortOptions: {\n          field: 'files',\n          type: 'number',\n          reverse: false\n        }\n      }\n    },\n    computed: {\n      sortedTask () {\n        const sortOption = this.sortOptions\n        return this.tasks.sort((itemA, itemB)=> {\n          if (sortOption.type === 'number') {\n            if (sortOption.reverse) {\n              return  itemB[sortOption.field] - itemA[sortOption.field]\n            }\n            return itemA[sortOption.field] - itemB[sortOption.field]\n          }\n          if (sortOption.type === 'date') {\n            const dateA = new Date(itemA[sortOption.field])\n            const dateB = new Date(itemB[sortOption.field])\n            if (sortOption.reverse) {\n              return dateB - dateA\n            }\n            return dateA - dateB\n          }\n          if (sortOption.type === 'string') {\n            const stringA = itemA[sortOption.field].toLowerCase()\n            const stringB = itemB[sortOption.field].toLowerCase()\n            if (sortOption.reverse) {\n              if (stringA > stringB) {\n                return -1\n              }\n              if (stringA < stringB) {\n                return 1\n              }\n              return 0\n            }\n            if (stringA < stringB) {\n              return -1\n            }\n            if (stringA > stringB) {\n              return 1\n            }\n            return 0\n          }\n        })\n      },\n      sortedTaskLimited () {\n        return paginate(this.sortedTask, this.perPage, this.currentPage)\n      }\n    },\n    methods: {\n      sortSelect (field, type) {\n        const sortOption = this.sortOptions\n        if (field === sortOption.field) {\n          this.sortOptions.reverse = !sortOption.reverse\n          return\n        }\n        this.sortOptions = {\n          field: field,\n          type: type,\n          reverse: false\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  th {\n    cursor: pointer;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskTable.vue?vue&type=template&id=0e7124be&scoped=true&lang=pug&\"\nimport script from \"./TaskTable.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TaskTable.vue?vue&type=style&index=0&id=0e7124be&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e7124be\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n  .page\n    .page-header(v-if=\"!shortTable\")\n      h2.page-header__title Tasks\n      .page-header__actions\n        a.btn.btn-default.m-r-1.d-none(v-if=\"!shortTable\" :href=\"pdfUrl\" target=\"_blank\") Download\n        TaskFormModal(@saved=\"refetch()\")\n          a.btn.btn-dark New Task\n    .card-body.white-card-body.card-body_full-height.p-x-40\n      .row.mb-3(v-if=\"!shortTable\")\n        .col\n          div\n            b-dropdown.actions__dropdown.actions__dropdown_tasks.m-r-1(variant=\"default\")\n              template(#button-content)\n                | Show: {{ sortedByNameGeneral | capitalize }}\n                ion-icon.ml-2(name=\"chevron-down-outline\" size=\"small\")\n              b-dropdown-item(@click=\"sortBy('all')\") All Tasks\n              b-dropdown-item(@click=\"sortBy('overdue')\") Overdue\n              b-dropdown-item(@click=\"sortBy('completed')\") Completed\n            b-dropdown.actions__dropdown.actions__dropdown_links.m-r-1(variant=\"default\")\n              template(#button-content)\n                | {{ sortedByNameAdditional | capitalize | linkableTypeCorrector }}\n                ion-icon.ml-2(name=\"chevron-down-outline\" size=\"small\")\n              b-dropdown-item(@click=\"sortByType('all')\") All Links\n              b-dropdown-item(@click=\"sortByType('LocalProject')\") Projects\n              b-dropdown-item(@click=\"sortByType('CompliancePolicy')\") Policies\n              b-dropdown-item(@click=\"sortByType('AnnualReport')\") Internal Reviews\n            b-dropdown.actions__dropdown.d-none(variant=\"default\")\n              template(#button-content)\n                | {{ perPage }} results\n                ion-icon.ml-2(name=\"chevron-down-outline\" size=\"small\")\n              b-dropdown-item(@click=\"perPage = 5\") 5\n              b-dropdown-item(@click=\"perPage = 10\") 10\n              b-dropdown-item(@click=\"perPage = 15\") 15\n              b-dropdown-item(@click=\"perPage = 20\") 20\n      //- .row(v-if=\"!shortTable\")\n      //-   .col\n      //-     .d-flex.align-items-center\n      //-       ion-icon.m-r-1(name=\"chevron-down-outline\" size=\"small\")\n      //-       b-badge.m-r-1(variant=\"light\") 0\n      //-       h3 Compilance Program\n      .row\n        .col(:class=\"shortTable ? 'p-0' : ''\")\n          TaskTable.m-b-40(:shortTable=\"shortTable\", :tasks=\"sortedTasks\" :perPage=\"perPage\" :currentPage=\"currentPage\" @saved=\"refetch\")\n          b-pagination(v-if=\"!shortTable && sortedTasks.length > perPage\" v-model='currentPage' :total-rows='rows' :per-page='perPage' :shortTable=\"!shortTable\",  aria-controls='tasks-table')\n      .row.h-100(v-if=\"loading\")\n        .col.h-100.text-center\n          Loading(:absolute=\"true\")\n      .row.h-100(v-if=\"!sortedTasks.length && !loading\")\n        .col.h-100.text-center\n          EmptyState(name=\"Tasks\")\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\"\n\nimport { DateTime } from 'luxon'\nimport { isOverdue } from '@/common/TaskHelper'\n\nimport Loading from '@/common/Loading/Loading'\nimport EmptyState from '@/common/EmptyState'\nimport TaskTable from './components/TaskTable'\nimport TaskFormModal from '@/common/TaskFormModal'\n// const endpointUrl = '/api/business/reminders/'\n// const overdueEndpointUrl = '/api/business/overdue_reminders'\n\nconst pdfUrl = '/reminders.csv'\n\nexport default {\n  props: {\n    shortTable: {\n      type: Boolean,\n      default: false\n    }\n  },\n  components: {\n    Loading,\n    EmptyState,\n    TaskTable,\n    TaskFormModal,\n  },\n  data() {\n    return {\n      perPage: 10,\n      currentPage: 1,\n      toggleModal: false,\n      sortedBy: 'all',\n      sortedByLinkedTo: 'all',\n      sortedByNameGeneral: 'All Tasks',\n      sortedByNameAdditional: 'All Links',\n      projects: []\n    }\n  },\n  mounted() {\n    this.refetch()\n  },\n  methods: {\n    async refetch () {\n      try {\n        // await this.$store.dispatch('reminders/getTasks')\n\n        const fromTo = DateTime.local().minus({years: 10}).toSQLDate() + '/' + DateTime.local().plus({years: 10}).toSQLDate()\n        await this.$store.dispatch('reminders/getTasksByDate', fromTo)\n          .then(response => this.projects = response.projects || [])\n          .catch(error => console.error('error', error))\n        //await this.$store.dispatch('reminders/getOverdueTasks')\n        //  .then(response => console.log('response Overdue', response))\n        //  .catch(error => console.error('error', error))\n      } catch (error) {\n        this.toast('Error', error.message, true)\n      }\n    },\n    // toggleDone(task) {\n    //   const { taskId, oid } = splitReminderOccurenceId(task.id)\n    //   const oidParam = oid !== null ? `&oid=${oid}` : ''\n    //   var target_state = (!(!!task.done_at)).toString()\n    //   fetch(`${this.$store.getters.backendUrl}/api/business/reminders/${taskId}?done=${target_state}${oidParam}`, {\n    //     method: 'POST',\n    //     headers: {'Accept': 'application/json', 'Content-Type': 'application/json'}\n    //   }).then(response => this.$emit('saved'))\n    // },\n    //\n    // createTask(i){\n    //   console.log('createTask: ', i)\n    // },\n    // deleteTask(id){\n    //   fetch(`${this.$store.getters.backendUrl}${endpointUrl}${id}`, { method: 'DELETE', headers: {'Accept': 'application/json'} })\n    //     .then(response => response.json())\n    //     .then(response => {\n    //       console.log('result', response)\n    //       this.toast('Success', `Task has been deleted.`)\n    //     })\n    //     .catch(error => this.toast('Error', `${error.message}`, true))\n    // },\n    sortBy (value) {\n      this.sortedBy = value\n      this.sortedByNameGeneral = value\n    },\n    sortByType (value) {\n      this.sortedByLinkedTo = value\n      this.sortedByNameAdditional = value\n    }\n  },\n  computed: {\n    ...mapGetters({\n      tasks: 'reminders/tasks',\n    }),\n    pdfUrl: () => pdfUrl,\n    loading() {\n      return this.$store.getters.loading;\n    },\n    rows() {\n      return this.tasks.length\n    },\n    sortedTasks () {\n      const sortedBy = this.sortedBy\n      const sortedByType = this.sortedByLinkedTo\n\n      let result\n\n      if (sortedBy) {\n        if (sortedBy === 'completed')\n          result = this.tasks.filter(task => task.done_at)\n        if (sortedBy === 'overdue')\n          result = this.tasks.filter(task => isOverdue(task))\n        if (sortedBy === 'all')\n          result = this.tasks\n      }\n\n      if (sortedByType) {\n        if (sortedByType === 'LocalProject' || sortedByType === 'CompliancePolicy'|| sortedByType === 'AnnualReport')\n          result = result.filter(task => task.linkable_type === sortedByType)\n        if (sortedByType === 'all')\n          result = result ? result : this.tasks\n      }\n\n      return result ? result : this.tasks\n    },\n  },\n  filters: {\n    capitalize: function (value) {\n      if (!value) return ''\n      value = value.toString()\n      return value.charAt(0).toUpperCase() + value.slice(1)\n    },\n    linkableTypeCorrector: function (value) {\n      if (value === 'LocalProject') value = 'Projects'\n      if (value === 'CompliancePolicy') value = 'Policies'\n      if (value === 'AnnualReport') value = 'Internal Review'\n      return value.replace(/[A-Z]/g, ' $&')\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Page.vue?vue&type=template&id=2baea1a0&lang=pug&\"\nimport script from \"./Page.vue?vue&type=script&lang=js&\"\nexport * from \"./Page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskTable.vue?vue&type=style&index=0&id=0e7124be&scoped=true&lang=css&\""],"sourceRoot":""}
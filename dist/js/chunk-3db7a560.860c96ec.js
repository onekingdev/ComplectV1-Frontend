(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3db7a560"],{"2ed2":function(t,e,a){"use strict";a("ad9f")},"8d27":function(t,e,a){"use strict";a("b88f")},"8ece":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"d-inline-block":t.inline}},[n("div",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.modalId,expression:"modalId"}],class:{"d-inline-block":t.inline}},[t._t("default")],2),n("b-modal",{staticClass:"fade",attrs:{id:t.modalId,title:"Delete Exam"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-1 text-center px-0"},[n("img",{staticClass:"mt-1 ml-3",attrs:{src:a("d1db"),width:"25",height:"25"}})]),n("div",{staticClass:"col"},[n("p",{staticClass:"paragraph m-b-10"},[t._v("Removing this exam will delete any progress and tasks associated with the file.")]),n("p",{staticClass:"paragraph mb-0"},[n("b",[t._v("Do you want to continue?")])])])]),n("Errors",{attrs:{errors:t.errors.title}}),n("template",{slot:"modal-footer"},[n("button",{staticClass:"btn btn-link mr-2",on:{click:function(e){return t.$bvModal.hide(t.modalId)}}},[t._v("Cancel")]),n("button",{staticClass:"btn btn-dark",on:{click:t.submit}},[t._v("Confirm")])])],2)],1)},s=[],r=function(){return Math.random().toFixed(10).toString().replace(".","")},i={props:{inline:{type:Boolean,default:!0}},data:function(){return{modalId:"modal_".concat(r()),errors:[]}},methods:{submit:function(t){t.preventDefault(),this.errors=[],this.$emit("deleteConfirmed"),this.$bvModal.hide(this.modalId)}}},o=i,c=a("2877"),l=Object(c["a"])(o,n,s,!1,null,null,null);e["a"]=l.exports},"96c0":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"d-inline-block":t.inline}},[a("div",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.modalId,expression:"modalId"}],class:{"d-inline-block":t.inline}},[t._t("default")],2),a("b-modal",{staticClass:"fade",attrs:{id:t.modalId,title:"Edit Exam"},on:{shown:t.getData}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("label",{staticClass:"form-label"},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.exam_management.name,expression:"exam_management.name"}],ref:"input",staticClass:"form-control",attrs:{type:"text",placeholder:"Enter the name of your exam"},domProps:{value:t.exam_management.name},on:{keyup:t.onChange,input:function(e){e.target.composing||t.$set(t.exam_management,"name",e.target.value)}}})])]),a("div",{staticClass:"row m-t-1"},[a("div",{staticClass:"col-6"},[a("label",{staticClass:"form-label"},[t._v("Start Date")]),a("DatePicker",{attrs:{options:t.datepickerOptions},model:{value:t.exam_management.starts_on,callback:function(e){t.$set(t.exam_management,"starts_on",e)},expression:"exam_management.starts_on"}})],1),a("div",{staticClass:"col-6"},[a("label",{staticClass:"form-label"},[t._v("Due Date")]),a("DatePicker",{attrs:{options:t.datepickerOptions},model:{value:t.exam_management.ends_on,callback:function(e){t.$set(t.exam_management,"ends_on",e)},expression:"exam_management.ends_on"}})],1)]),a("template",{slot:"modal-footer"},[a("button",{staticClass:"btn btn-link",on:{click:function(e){return t.$bvModal.hide(t.modalId)}}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-dark",on:{click:t.submit}},[t._v("Save")])])],2)],1)},s=[],r=a("c973"),i=a.n(r),o=a("a34a"),c=a.n(o),l=a("f774"),m=function(){return Math.random().toFixed(10).toString().replace(".","")},d=function(){return{id:"",name:"",starts_on:"",ends_on:""}},u={mixins:[Object(l["a"])()],props:{inline:{type:Boolean,default:!0},exam:{type:Object,required:!0}},data:function(){return{modalId:"modal_".concat(m()),exam_management:d(),errors:[]}},methods:{onChange:function(t){13===t.keyCode&&this.submit(t)},submit:function(t){var e=this;return i()(c.a.mark((function a(){return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.preventDefault(),e.exam_management.name&&e.exam_management.starts_on&&e.exam_management.ends_on){a.next=4;break}return e.toast("Error","Please check all fields!",!0),a.abrupt("return");case 4:return a.prev=4,a.next=7,e.$store.dispatch("exams/updateExam",e.exam_management).then((function(t){e.toast("Success","Exam Management successfully updated!"),e.$emit("saved"),e.$bvModal.hide(e.modalId),e.newEtag()}))["catch"]((function(t){throw console.error(t),t}));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](4),e.toast("Error",a.t0.message,!0);case 12:case"end":return a.stop()}}),a,null,[[4,9]])})))()},getData:function(){this.exam_management=Object.assign({},this.exam_management,this.exam)}},computed:{datepickerOptions:function(){return{min:new Date}}},mounted:function(){}},p=u,f=a("2877"),b=Object(f["a"])(p,n,s,!1,null,null,null);e["a"]=b.exports},"97b1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page exam"},[a("div",{staticClass:"page-header"},[a("h2",{staticClass:"page-header__title"},[t._v(t._s(t.pageTitle))]),a("div",{staticClass:"page-header__actions"},[a("ExamModalCreate",{attrs:{"exams-id":t.exams.id}},[a("button",{staticClass:"btn btn-dark"},[t._v("New Exam")])])],1)]),a("div",{staticClass:"card-body white-card-body card-body_full-height p-x-40"},[a("RegulatoryExamsTable",{attrs:{exams:t.exams}})],1)])},s=[],r=a("c973"),i=a.n(r),o=a("9523"),c=a.n(o),l=a("a34a"),m=a.n(l),d=a("2f62"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Loading"),t.loading?t._e():a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{width:"40%"},on:{click:function(e){return t.sortSelect("name","string")}}},[a("div",{staticClass:"d-inline"})])]),a("tr",[a("th",{attrs:{width:"40%"},on:{click:function(e){return t.sortSelect("name","string")}}},[a("div",{staticClass:"d-inline"},[t._v("Name"),a("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-expand"}})],1)]),a("th",[a("div",{staticClass:"d-inline"},[t._v("Status"),a("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-expand"}})],1)]),a("th",{staticClass:"text-right",on:{click:function(e){return t.sortSelect("created_at","date")}}},[a("div",{staticClass:"d-inline"},[t._v("Date Created"),a("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-expand"}})],1)]),a("th",{staticClass:"text-right",on:{click:function(e){return t.sortSelect("updated_at","date")}}},[a("div",{staticClass:"d-inline"},[t._v("Last Modified"),a("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-expand"}})],1)]),a("th",{attrs:{width:"30px"}})])]),a("tbody",t._l(t.sortedView,(function(t){return a("ExamItem",{key:t.id,attrs:{item:t}})})),1)]),t.loading||!t.exams||t.exams.length?t._e():a("div",{staticClass:"row h-100"},[a("div",{staticClass:"col h-100 text-center"},[a("EmptyState")],1)])],1)},p=[],f=a("e829"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[a("router-link",{staticClass:"link",attrs:{to:"/business/exam_management/"+t.item.id}},[t._v(t._s(t.item.name))])],1),a("td",[a("b-badge",{attrs:{variant:t.item.complete?"success":"secondary"}},[t._v(t._s(t.item.complete?"Completed":"In progress"))])],1),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("asDate")(t.item.created_at)))]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("asDate")(t.item.updated_at)))]),a("td",{staticClass:"text-right"},[a("b-dropdown",{staticClass:"actions m-0 p-0",attrs:{size:"sm",variant:"none",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("b-icon",{attrs:{icon:"three-dots"}})]},proxy:!0}])},[t.item.complete?t._e():a("ExamsModalEdit",{attrs:{exam:t.item,inline:!1}},[a("b-dropdown-item",[t._v("Edit")])],1),a("ExamsModalDelete",{attrs:{inline:!1},on:{deleteConfirmed:function(e){return t.deleteRecord(t.item.id)}}},[a("b-dropdown-item",{staticClass:"delete"},[t._v("Delete")])],1)],1)],1)])},v=[],h=a("96c0"),x=a("8ece");function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(Object(a),!0).forEach((function(e){c()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var C={name:"ReviewItem",props:["item"],components:{ExamsModalEdit:h["a"],ExamsModalDelete:x["a"]},computed:{progressWidth:function(){var t=100/+this.item.review_categories.length;return+t*+this.item.progress}},methods:g(g({},Object(d["b"])({updateExam:"exams/updateExam",deleteExam:"exams/deleteExam"})),{},{deleteRecord:function(t){var e=this;this.deleteExam({id:t}).then((function(t){return e.toast("Success","The exam has been deleted!")}))["catch"]((function(t){return e.toast("Error","Something wrong! ".concat(t.message),!0)}))}})},w=C,y=a("2877"),k=Object(y["a"])(w,b,v,!1,null,"3d56752c",null),E=k.exports,O=a("90ca"),j={props:{exams:{type:Array,required:!1}},components:{EmptyState:O["a"],Loading:f["a"],ExamItem:E},data:function(){return{sortOptions:{field:"status",type:"number",reverse:!1}}},methods:{sortSelect:function(t,e){var a=this.sortOptions;t!==a.field?this.sortOptions={field:t,type:e,reverse:!1}:this.sortOptions.reverse=!a.reverse}},computed:{loading:function(){return this.$store.getters.loading},sortedView:function(){var t=this.sortOptions;return this.exams.sort((function(e,a){if("number"===t.type)return t.reverse?a[t.field]-e[t.field]:e[t.field]-a[t.field];if("date"===t.type){var n=new Date(e[t.field]),s=new Date(a[t.field]);return t.reverse?s-n:n-s}if("string"===t.type){var r=e[t.field].toLowerCase(),i=a[t.field].toLowerCase();return t.reverse?r>i?-1:r<i?1:0:r<i?-1:r>i?1:0}}))}}},D=j,$=(a("8d27"),Object(y["a"])(D,u,p,!1,null,"497874ce",null)),S=$.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"d-inline-block":t.inline}},[a("div",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.modalId,expression:"modalId"}],class:{"d-inline-block":t.inline}},[t._t("default")],2),a("b-modal",{staticClass:"fade",attrs:{id:t.modalId,title:"New Exam"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 m-b-2"},[a("label",{staticClass:"form-label"},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.exam_management.name,expression:"exam_management.name",modifiers:{trim:!0}}],ref:"input",staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.exam_management.name},on:{keyup:t.onChange,input:function(e){e.target.composing||t.$set(t.exam_management,"name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("Errors",{attrs:{errors:t.errors.name}})],1)]),a("div",{staticClass:"row m-b-2"},[a("div",{staticClass:"col-6"},[a("label",{staticClass:"form-label"},[t._v("Start Date")]),a("b-form-datepicker",{attrs:{"date-format-options":{year:"numeric",month:"2-digit",day:"2-digit"},locale:"en"},model:{value:t.exam_management.starts_on,callback:function(e){t.$set(t.exam_management,"starts_on",e)},expression:"exam_management.starts_on"}}),a("Errors",{attrs:{errors:t.errors.starts_on}})],1),a("div",{staticClass:"col-6"},[a("label",{staticClass:"form-label"},[t._v("End Date")]),a("b-form-datepicker",{attrs:{"date-format-options":{year:"numeric",month:"2-digit",day:"2-digit"},locale:"en"},model:{value:t.exam_management.ends_on,callback:function(e){t.$set(t.exam_management,"ends_on",e)},expression:"exam_management.ends_on"}}),a("Errors",{attrs:{errors:t.errors.ends_on}})],1)]),a("template",{slot:"modal-footer"},[a("button",{staticClass:"btn btn-link",on:{click:function(e){return t.$bvModal.hide(t.modalId)}}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-dark",on:{click:t.submit}},[t._v("Create")])])],2)],1)},P=[],M=function(){return Math.random().toFixed(10).toString().replace(".","")},N=new Date,R=(N.getFullYear(),{props:{inline:{type:Boolean,default:!0}},data:function(){return{modalId:"modal_".concat(M()),exam_management:{name:"",starts_on:"",ends_on:""},errors:{}}},methods:{resetForm:function(){this.exam_management={name:"",starts_on:"",ends_on:""}},onChange:function(t){13===t.keyCode&&this.submit(t)},validate:function(){this.errors={};for(var t=this.exam_management.name,e=this.exam_management.starts_on,a=this.exam_management.ends_on,n=["name","starts_on","ends_on"],s=0;s<=n.length-1;s++)this.exam_management[n[s]]||(this.errors[n[s]]=["Required field"]);t&&t.length<=3&&(this.errors["name"]=["Name must be more than 3 characters"]),e&&a&&e>a&&(this.errors["ends_on"]=["Date must occur after start date"])},submit:function(t){var e=this;return i()(m.a.mark((function a(){return m.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.preventDefault(),e.validate(),!(Object.keys(e.errors).length>0)){a.next=4;break}return a.abrupt("return");case 4:return a.prev=4,a.next=7,e.$store.dispatch("exams/createExam",e.exam_management).then((function(t){e.toast("Success","Exam has been created."),e.$bvModal.hide(e.modalId),e.resetForm()}))["catch"]((function(t){return e.toast("Error","Exam has not been created.",!0)}));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](4),e.toast("Error",a.t0.message,!0);case 12:case"end":return a.stop()}}),a,null,[[4,9]])})))()}}}),F=R,L=Object(y["a"])(F,I,P,!1,null,null,null),T=L.exports;function q(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function B(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?q(Object(a),!0).forEach((function(e){c()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var J={components:{RegulatoryExamsTable:S,ExamModalCreate:T},data:function(){return{pageTitle:"Exam Management"}},methods:B({},Object(d["b"])({getExams:"exams/getExams"})),computed:B({},Object(d["c"])({exams:"exams/exams"})),mounted:function(){var t=this;return i()(m.a.mark((function e(){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getExams();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e["catch"](0),console.error(e.t0),t.toast("Error",e.t0.message,!0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))()}},U=J,V=(a("2ed2"),Object(y["a"])(U,n,s,!1,null,null,null));e["default"]=V.exports},ad9f:function(t,e,a){},b88f:function(t,e,a){},d1db:function(t,e,a){t.exports=a.p+"img/error_20.5080af0b.svg"},f774:function(t,e,a){"use strict";var n=a("9523"),s=a.n(n),r=function(){return Math.random()},i=function(t){var e=t||"etag",a="new"+e[0].toUpperCase()+e.substring(1);return{data:function(){return s()({},e,r())},methods:s()({},a,(function(){this[e]=r()}))}};e["a"]=i}}]);
//# sourceMappingURL=chunk-3db7a560.860c96ec.js.map
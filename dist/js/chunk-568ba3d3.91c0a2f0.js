(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-568ba3d3","chunk-638de742"],{1752:function(t,e,r){t.exports=r.p+"img/mail.bf25b3ef.svg"},"1c03":function(t,e,r){"use strict";var s=r("6a65"),o=r.n(s);r.d(e,"default",(function(){return o.a}))},"1d8f":function(t,e,r){},"3d4b":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card registration"},[r("div",{staticClass:"card-body white-card-body"},[r("div",{staticClass:"form",class:t.step0?"d-block":"d-none",attrs:{id:"step0"}},[t._m(0),r("div",[t.show?r("b-form",{on:{submit:t.onSubmit}},[t.error?r("b-alert",{staticClass:"m-b-20",attrs:{variant:"danger",show:""}},[t._v(t._s(t.error))]):t._e(),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6 pr-md-2"},[r("b-form-group",{staticClass:"m-b-20",attrs:{id:"input-group-1",label:"First Name:","label-for":"input-1"}},[r("b-form-input",{class:{"is-invalid":t.errors.contact_first_name},attrs:{id:"input-1",type:"text",placeholder:"First Name"},model:{value:t.form.firstName,callback:function(e){t.$set(t.form,"firstName",e)},expression:"form.firstName"}}),r("Errors",{attrs:{errors:t.errors.contact_first_name}})],1)],1),r("div",{staticClass:"col-md-6 pl-md-2"},[r("b-form-group",{staticClass:"m-b-20",attrs:{id:"input-group-2",label:"Last Name:","label-for":"input-2"}},[r("b-form-input",{class:{"is-invalid":t.errors.contact_last_name},attrs:{id:"input-2",type:"text",placeholder:"Last Name"},model:{value:t.form.lastName,callback:function(e){t.$set(t.form,"lastName",e)},expression:"form.lastName"}}),r("Errors",{attrs:{errors:t.errors.contact_last_name}})],1)],1)]),r("b-form-group",{staticClass:"m-b-20",attrs:{id:"input-group-3",label:"Email:","label-for":"input-3"}},[r("b-form-input",{class:{"is-invalid":t.errors["user.email"]},attrs:{id:"input-3",type:"text",placeholder:"Email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),r("Errors",{attrs:{errors:t.errors["user.email"]}})],1),r("b-form-group",{staticClass:"m-b-20",attrs:{id:"input-group-4",label:"Password:","label-for":"input-4"}},[r("b-form-input",{class:{"is-invalid":t.errors["user.password"]},attrs:{id:"input-4",type:"password",placeholder:"Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),r("Errors",{attrs:{errors:t.errors["user.password"]}})],1),r("b-form-group",{staticClass:"m-b-20",attrs:{id:"input-group-5",label:"Repeat Password:","label-for":"input-5"}},[r("b-form-input",{class:{"is-invalid":t.errors.passwordConfirm},attrs:{id:"input-5",type:"password",placeholder:"Repeat Password"},model:{value:t.form.passwordConfirm,callback:function(e){t.$set(t.form,"passwordConfirm",e)},expression:"form.passwordConfirm"}}),r("Errors",{attrs:{errors:t.errors.passwordConfirm}})],1),r("b-form-group",{staticClass:"paragraph m-b-10"},[r("p",[t._v("By signing up, I accept the "),r("a",{staticClass:"link",attrs:{href:"https://www.complect.com/terms-of-use",target:"_blank"}},[t._v("Complect Terms of Use ")]),t._v("and acknowledge the "),r("a",{staticClass:"link",attrs:{href:"https://www.complect.com/privacy-policy",target:"_blank"}},[t._v("Privacy Policy")])])]),r("b-button",{staticClass:"registration__btn m-b-20 w-100",attrs:{type:"submit",variant:"dark"}},[t._v("Sign Up")])],1):t._e()],1)])]),r("div",{staticClass:"card-footer"},[r("b-form-group",{staticClass:"text-center mb-0"},[r("p",{staticClass:"mb-0"},[t._v("Already have a Complect account? "),r("router-link",{staticClass:"link",attrs:{to:"/users/sign_in"}},[t._v("Sign In")])],1)])],1)])},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"registration-welcome"},[r("h1",{staticClass:"registration__title"},[t._v("Let's get you started!")]),r("p",{staticClass:"registration__subtitle"},[t._v("Create your FREE account")])])}],a=r("9523"),i=r.n(a),n=r("278c"),c=r.n(n),l=r("e829"),u=r("ba78"),m=r("50b1"),d=function(){return{firstName:"",lastName:"",email:"",password:"",passwordConfirm:""}};function f(t){var e=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return e.test(t)}var p={components:{TopNavbar:u["a"],Loading:l["a"],OtpConfirm:m["default"]},created:function(){var t=new URL(window.location),e=t.searchParams.get("invite_token");this.inviteToken=e},data:function(){return{userId:"",otpSecret:"",userType:"employee",form:d(),show:!0,error:"",errors:{},step0:!0,step1:!1,seat_id:1,inviteToken:""}},methods:{selectType:function(t){},onSubmit0:function(t){t.preventDefault(),this.userType&&(this.step0=!1,this.step1=!0)},onSubmit:function(t){var e,r=this;for(var s in t.preventDefault(),this.error="",this.errors)delete this.errors[s];(this.form.email&&!f(this.form.email)&&Object.assign({},this.errors,{email:"Email not valid"}),this.form.password===this.form.passwordConfirm)?(this.form.email=this.form.email.toLowerCase(),"employee"===this.userType&&(e={invite_token:this.inviteToken,specialist:{first_name:this.form.firstName,last_name:this.form.lastName,user_attributes:{email:this.form.email,password:this.form.password}}}),this.$store.dispatch("signUp",e).then((function(t){if(t.errors)for(var e=0,s=Object.entries(t.errors[r.userType]);e<s.length;e++){var o=c()(s[e],2),a=o[0],n=o[1];r.errors=Object.assign({},r.errors,i()({},a,n))}t.errors||(r.userId=t.userid,r.$router.push({name:"verification",params:{form:r.form,userid:r.userid,userType:r.userType,emailVerified:r.emailVerified,inviteToken:r.inviteToken}}),r.toast("Success","".concat(t.message)))}))["catch"]((function(t){return console.error(t)}))):this.errors={passwordConfirm:["Password does not match"]}}},computed:{loading:function(){return this.$store.getters.loading}},watch:{email:function(t,e){t.toLowerCase()}}},h=p,v=r("1c03"),b=r("2877");function g(t){this["$style"]=v["default"].locals||v["default"]}var C=Object(b["a"])(h,s,o,!1,g,null,null);e["default"]=C.exports},"50b1":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card registration"},[s("div",{staticClass:"card-body white-card-body"},[s("div",{staticClass:"registration-welcome"},[s("h1",{staticClass:"registration__title"},[t._v("Confirm Your Email")]),s("p",{staticClass:"registration__subtitle"},[t._v("We sent a 6 digit code to "+t._s(t.form.email)+". Please enter it below.")])]),s("div",[t.show?s("b-form",{attrs:{autocomplete:"off"},on:{submit:t.onSubmit,keyup:t.onCodeChange}},[s("b-form-group",[s("div",{staticClass:"col text-center"},[s("img",{staticClass:"otp-icon",attrs:{src:r("1752"),width:"180",height:"110"}})])]),s("b-form-group",{staticClass:"m-b-40"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 mx-0"},[s("div",{staticClass:"d-flex justify-content-space-around mx-auto"},[s("b-form-input",{staticClass:"code-input ml-auto",attrs:{id:"inputCode1",type:"number",maxlength:"1"},model:{value:t.form2.codePart1,callback:function(e){t.$set(t.form2,"codePart1",e)},expression:"form2.codePart1"}}),s("b-form-input",{staticClass:"code-input",attrs:{id:"inputCode2",type:"number",maxlength:"1"},model:{value:t.form2.codePart2,callback:function(e){t.$set(t.form2,"codePart2",e)},expression:"form2.codePart2"}}),s("b-form-input",{staticClass:"code-input",attrs:{id:"inputCode3",type:"number",maxlength:"1"},model:{value:t.form2.codePart3,callback:function(e){t.$set(t.form2,"codePart3",e)},expression:"form2.codePart3"}}),s("b-form-input",{staticClass:"code-input",attrs:{id:"inputCode4",type:"number",maxlength:"1"},model:{value:t.form2.codePart4,callback:function(e){t.$set(t.form2,"codePart4",e)},expression:"form2.codePart4"}}),s("b-form-input",{staticClass:"code-input",attrs:{id:"inputCode5",type:"number",maxlength:"1"},model:{value:t.form2.codePart5,callback:function(e){t.$set(t.form2,"codePart5",e)},expression:"form2.codePart5"}}),s("b-form-input",{staticClass:"code-input mr-auto",attrs:{id:"inputCode6",type:"number",maxlength:"1"},model:{value:t.form2.codePart6,callback:function(e){t.$set(t.form2,"codePart6",e)},expression:"form2.codePart6"}})],1),t.error?s("div",{staticClass:"invalid-feedback d-block text-center"},[t._v(t._s(t.error))]):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form2.code,expression:"form2.code"}],attrs:{type:"hidden"},domProps:{value:t.form2.code},on:{input:function(e){e.target.composing||t.$set(t.form2,"code",e.target.value)}}})])])]),s("b-button",{ref:"codesubmit",staticClass:"w-100 m-b--40",attrs:{type:"submit",variant:"dark"}},[t._v("Submit")])],1):t._e()],1)]),s("div",{staticClass:"card-footer"},[s("b-form-group",{staticClass:"text-center mb-0"},[s("button",{staticClass:"btn link",on:{click:function(e){return e.stopPropagation(),t.resendOTP.apply(null,arguments)}}},[t._v("Send new code")])])],1)])},o=[],a={props:["form","userid","userType","emailVerified","inviteToken"],data:function(){return{show:!0,error:"",errors:{},form2:{codePart1:"",codePart2:"",codePart3:"",codePart4:"",codePart5:"",codePart6:"",code:""}}},created:function(){this.form||this.$router.back()},methods:{onSubmit:function(t){var e=this;if(t.preventDefault(),this.error="",this.errors=[],this.emailVerified)if(this.emailVerified){var r={user:{email:this.form.email,password:this.form.password},otp_secret:this.form2.code};this.$store.dispatch("signIn",r).then((function(t){if(t.errors&&(e.error=t.message),!t.errors&&t.specialist&&t.token&&e.inviteToken){var r="/specialist";window.location.href="".concat(r)}else if(!t.errors&&t.token){var s=t.business?"/business":"/specialist";window.location.href="".concat(s)}}))["catch"]((function(t){t.data.errors&&(e.error=t.data.errors.invalid)}))}else;else{var s={email:this.form.email,otp_secret:this.form2.code};this.$store.dispatch("confirmEmail",s).then((function(t){if(e.error=t.message,"Invalid 6 digits code"===t.message&&t.errors,!t.errors&&t.specialist&&t.token&&e.inviteToken){var r="/specialist";window.location.href="".concat(r)}else if(!t.errors&&t.token){var s=t.business?"/business":"/specialist";e.$router.push("".concat(s,"/onboarding"))}}))["catch"]((function(t){console.error(t)}))}},onCodeChange:function(t){if(this.error="",this.errors=[],6===t.target.value.length)for(var e=1;e<=6;e++)this.form2["codePart"+e]=t.target.value.charAt(e-1);var r;if(8===t.keyCode||46===t.keyCode)return t.preventDefault(),t.target.value="",null===(r=t.target.previousElementSibling)||void 0===r||r.focus(),void(this.form2.codePart1||this.form2.codePart2||this.form2.codePart3||this.form2.codePart4||this.form2.codePart5||this.form2.codePart6||(this.form2.code=""));(t.target.value.length<6&&t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105)&&(t.preventDefault(),t.target.value=t.key,t.target.nextElementSibling&&(t.target.nextElementSibling.value="",t.target.nextElementSibling.focus()),t.target.nextElementSibling||this.$refs.codesubmit.focus()),this.form2.code=this.form2.codePart1+this.form2.codePart2+this.form2.codePart3+this.form2.codePart4+this.form2.codePart5+this.form2.codePart6,13===t.keyCode&&this.onSubmit(t)},resendOTP:function(){var t=this,e={user:{email:this.form.email}};this.$store.dispatch("resendOTP",e).then((function(e){return t.toast("Success","".concat(e.message))}))["catch"]((function(e){return t.toast("Error","".concat(e.status," (").concat(e.statusText,")"),!0)}))}},computed:{currentUser:function(){return this.$store.getters.getUser}}},i=a,n=r("2877"),c=Object(n["a"])(i,s,o,!1,null,"77cbd522",null);e["default"]=c.exports},"6a65":function(t,e,r){},b9f4:function(t,e,r){t.exports=r.p+"img/primary.70f6fdd7.svg"},ba78:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topbar"},[s("div",{staticClass:"logo"},[s("router-link",{staticClass:"link",attrs:{to:"/"}},[s("img",{staticClass:"logo__img logo__img_full",attrs:{src:r("b9f4")}}),s("svg",{staticClass:"logo__text",attrs:{width:"200",height:"30",xmlns:"http://www.w3.org/2000/svg"}},[s("text",{attrs:{x:"0",y:"25","font-family":"Varela"}},[t._v("complect")])])])],1),s("div",{staticClass:"navbar-nav mr-0"},[t.loggedIn&&t.userName?s("div",{staticClass:"dropdown dropdown-profile"},[t.userName?s("div",{staticClass:"dropdown-profile__btn",attrs:{"aria-expanded":t.isProfileMenuOpen},on:{click:function(e){t.isProfileMenuOpen=!t.isProfileMenuOpen}}},[s("span",[t._v(t._s(t.userName))]),s("b-icon",{staticClass:"m-l-1",attrs:{icon:"chevron-down"}})],1):t._e(),s("ul",{staticClass:"dropdown-menu",class:{show:t.isProfileMenuOpen},attrs:{"aria-labelledby":"profile_dropdown_btn"}},[s("li",{staticClass:"dropdown-item",on:{click:t.signOut}},[t._v("Sign Out")])])]):s("div",{staticClass:"ml-auto mr-3 mt-auto mb-auto"},[s("router-link",{staticClass:"btn btn btn-dark",attrs:{to:"/users/sign_in"}},[t._v("Sign in")])],1)])])},o=[],a={props:["userInfo"],data:function(){return{isProfileMenuOpen:!1}},methods:{removeCurrentUser:function(){localStorage.removeItem("app.currentUser"),localStorage.removeItem("app.currentUser.token"),localStorage.removeItem("app.currentUser.userType"),localStorage.removeItem("app.currentUser.paymentMethod"),window.location.href="".concat(window.location.origin)},signOut:function(){var t=this,e=localStorage.getItem("app.currentUser.token")?localStorage.getItem("app.currentUser.token"):"";fetch(this.$store.getters.backendUrl+"/api/users/sign_out",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:JSON.parse(e)}}).then((function(e){return e.ok||404!==e.status||t.removeCurrentUser(),e.json()})).then((function(e){t.removeCurrentUser()}))["catch"]((function(t){return console.error(t)}))}},computed:{loggedIn:function(){return this.$store.getters.loggedIn},currentUser:function(){return this.$store.getters.getUser},userName:function(){var t=this.currentUser.contact_first_name?"".concat(this.currentUser.contact_first_name," ").concat(this.currentUser.contact_last_name):"".concat(this.currentUser.first_name," ").concat(this.currentUser.last_name);return"undefined undefined"!==t?t:""},mainUrl:function(){return window.location.origin}}},i=a,n=(r("c94f"),r("2877")),c=Object(n["a"])(i,s,o,!1,null,"4d594f10",null);e["a"]=c.exports},c94f:function(t,e,r){"use strict";r("1d8f")}}]);
//# sourceMappingURL=chunk-568ba3d3.91c0a2f0.js.map
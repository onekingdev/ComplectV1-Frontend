{"version":3,"sources":["webpack:///./src/business/projects/Page.vue?061c","webpack:///./src/business/projects/ProjectTable.vue?af9b","webpack:///src/business/projects/ProjectTable.vue","webpack:///./src/business/projects/ProjectTable.vue?9546","webpack:///./src/business/projects/ProjectTable.vue","webpack:///src/business/projects/Page.vue","webpack:///./src/business/projects/Page.vue?1955","webpack:///./src/business/projects/Page.vue","webpack:///./src/common/TaskHelper.js","webpack:///./src/business/marketplace/components/StarsRating.vue?f7cb","webpack:///src/business/marketplace/components/StarsRating.vue","webpack:///./src/business/marketplace/components/StarsRating.vue?10a7","webpack:///./src/business/marketplace/components/StarsRating.vue","webpack:///./src/business/marketplace/components/StarsRating.vue?d8b8","webpack:///./src/mixins/EtaggerMixin.js","webpack:///./src/business/projects/LocalProjectModal.vue?33f2","webpack:///src/business/projects/LocalProjectModal.vue","webpack:///./src/business/projects/LocalProjectModal.vue?cbb3","webpack:///./src/business/projects/LocalProjectModal.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","role","attrs","_v","_e","on","newEtag","scopedSlots","_u","key","fn","_s","filteredStatus","proxy","_l","status","$event","filterStatus","etag","ref","projects","filterProjects","getContacts","contacts","contact","id","name","location","rating","length","loading","ratings","rater_pic","project_title","rater_name","_f","created_at","review","value","staticRenderFns","toggleSorting","project","title","projectCollaboratorsAvatars","collaborator","i","_b","tasks_left","cost","class","businessProjectBadgeClass","status_business","starts_on","overdue","isOverdue","ends_on","projectsSorted","components","EmptyState","props","type","Array","required","data","sortField","sortDirection","methods","field","initialDirection","collaborators","map","computed","a","b","projectsPrepared","sort","compare","filters","underscoreToCapitalized","component","all","not_started","draft","in_progres","pending","complete","mixins","Object","keys","FILTER_STATUSES","ProjectTable","LocalProjectModal","StarsRating","reduce","spec","result","find","push","first_name","last_name","visibility","filter","filterStatuses","isProject","task","hasOwnProperty","isTask","end_date","DateTime","fromISO","local","minus","days","isRepeat","repeat_every","repeat_on","repeats","isComplete","splitReminderOccurenceId","oid","done_occurencies","completed_at","done_at","toEvent","start","remind_at","end","body","icons","iconArray","cssClass","v","indexOf","val","matches","matchAll","taskId","badgeClass","linkedTo","linkableType","linkable_type","linkedToClass","style","idx","totalStars","Number","default","rate","widthOfFilledLine","transitionDuration","filledLineStyles","width","mounted","window","setTimeout","etagInit","Math","random","EtaggerMixin","propertyName","prop","refreshMethodName","toUpperCase","substring","inline","directives","rawName","expression","_t","modalId","projectId","submitUrl","undefined","initialProject","loadProject","domProps","target","composing","$set","errors","model","callback","$$v","description","slot","$bvModal","hide","httpMethod","saved","remindAt","String","Boolean","assign","$emit","toast","canBeDraft","toId","daysOfWeek","index","months","dateFormat","watch","handler","invalid"],"mappings":"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","file":"js/chunk-5b4d2fad.272bec81.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"page-header\"},[_vm._m(0),_c('div',{staticClass:\"page-header__actions mt-0 mb-auto\"},[(_vm.role !=='basic')?_c('router-link',{staticClass:\"btn btn-default m-r-1\",attrs:{\"to\":\"/business/projects/new\"}},[_vm._v(\"Post Project\")]):_vm._e(),_c('LocalProjectModal',{on:{\"saved\":_vm.newEtag}},[_c('a',{staticClass:\"btn btn-primary\"},[_vm._v(\"New Project\")])])],1)]),_c('b-tabs',{staticClass:\"special-navs\",attrs:{\"content-class\":\"mt-0 h-100\"}},[_c('b-tab',{attrs:{\"title\":\"My Projects\",\"active\":\"\"}},[_c('div',{staticClass:\"card-body white-card-body card-body_full-height\"},[_c('div',{staticClass:\"m-b-20\"},[_c('b-dropdown',{staticClass:\"m-r-1\",attrs:{\"variant\":\"default\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_vm._v(\"Filter by: \"+_vm._s(_vm.filteredStatus)),_c('ion-icon',{staticClass:\"ml-2\",attrs:{\"name\":\"chevron-down-outline\",\"size\":\"small\"}})]},proxy:true}])},_vm._l((_vm.filterStatuses),function(status,key){return _c('b-dropdown-item',{key:key,on:{\"click\":function($event){_vm.filterStatus = key}}},[_vm._v(_vm._s(status))])}),1)],1),_c('Get',{attrs:{\"projects\":\"/api/local_projects/\",\"etag\":_vm.etag},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar projects = ref.projects;\nreturn [_c('ProjectTable',{attrs:{\"projects\":_vm.filterProjects(projects)}})]}}])})],1)]),_c('b-tab',{attrs:{\"title\":\"Contacts\"}},[_c('div',{staticClass:\"card-body white-card-body card-body_full-height\"},[_c('Get',{attrs:{\"contacts\":\"/api/local_projects/\",\"etag\":_vm.etag,\"callback\":_vm.getContacts},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar contacts = ref.contacts;\nreturn [_c('div',[_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Name\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1),_c('th',[_vm._v(\"Location\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1),_c('th',[_vm._v(\"Status\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1),_c('th',{attrs:{\"width\":\"140px\"}},[_vm._v(\"Rating\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1),_c('th',{attrs:{\"width\":\"40px\"}})])]),_c('tbody',_vm._l((contacts),function(contact){return _c('tr',{key:contact.id},[_c('td',[_vm._v(_vm._s(contact.name))]),_c('td',[_vm._v(_vm._s(contact.location))]),_c('td',[_c('div',{staticClass:\"badge badge-success\"},[_vm._v(_vm._s(contact.status))])]),_c('td',{staticClass:\"text-right\"},[_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('StarsRating',{attrs:{\"rate\":contact.rating}})],1)]),_c('td',{staticClass:\"text-right\",attrs:{\"width\":\"40px\"}},[_c('b-dropdown',{staticClass:\"m-0 p-0\",attrs:{\"size\":\"xs\",\"variant\":\"none\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('b-icon',{attrs:{\"icon\":\"three-dots\"}})]},proxy:true}],null,true)},[_c('b-dropdown-item',[_vm._v(\"Message\")]),_c('b-dropdown-item',[_vm._v(\"Remove Contact\")])],1)],1)])}),0)]),(contacts && !contacts.length && !_vm.loading)?_c('div',{staticClass:\"row h-100\"},[_c('div',{staticClass:\"col h-100 text-center\"},[_c('EmptyState',{attrs:{\"name\":\"Tasks\"}})],1)]):_vm._e()])]}}])})],1)]),_c('b-tab',{staticClass:\"h-100\",attrs:{\"title\":\"Ratings and Reviews\"}},[_c('div',{staticClass:\"card-body white-card-body card-body_full-height h-100\"},[_c('Get',{staticClass:\"h-100\",attrs:{\"ratings\":\"/api/project_ratings\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar ratings = ref.ratings;\nreturn [(ratings.length)?_c('table',{staticClass:\"rating_table\"},[_c('tbody',_vm._l((ratings),function(rating){return _c('tr',[_c('td',[_c('img',{staticClass:\"m-r-1 userpic_small\",attrs:{\"src\":rating.rater_pic}})]),_c('td',[_c('h3',[_vm._v(_vm._s(rating.project_title))]),_c('p',[_vm._v(_vm._s(rating.rater_name)+\" | \"+_vm._s(_vm._f(\"asDate\")(rating.created_at)))]),_c('p',[_c('i',[_vm._v(\"\\\"\"+_vm._s(rating.review)+\"\\\"\")])])]),_c('td',[_c('StarRating',{attrs:{\"stars\":rating.value}})],1)])}),0)]):_vm._e(),(!ratings.length)?_c('div',{staticClass:\"d-flex flex-grow-1 justify-content-center align-items-cener h-100\"},[_c('EmptyState',{attrs:{\"name\":\"Tasks\"}})],1):_vm._e()]}}])})],1)])],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-header__title\"},[_c('h2',{staticClass:\"m-b-10\"},[_vm._v(\"Projects\")]),_c('p',{staticClass:\"page-header__subtitle mb-0\"},[_vm._v(\"Plan projects with employees or hire external specialists to help\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('table',{staticClass:\"table task_table project-table\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"project-table__name project-table__name_head\"},[_c('span',{staticClass:\"pointer\",on:{\"click\":function($event){return _vm.toggleSorting('title')}}},[_vm._v(\"Name\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1)]),_c('th',{staticClass:\"project-table__assignee project-table__assignee_head\"},[_c('span',{staticClass:\"pointer\",on:{\"click\":function($event){return _vm.toggleSorting('collaborators_count', true)}}},[_vm._v(\"Collaborators\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1)]),_c('th',{staticClass:\"project-table__left project-table__left_head text-right\"},[_c('span',{staticClass:\"pointer\",on:{\"click\":function($event){return _vm.toggleSorting('tasks_left', true)}}},[_vm._v(\"Tasks Left\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1)]),_c('th',{staticClass:\"project-table__coast project-table__coast_head text-right\"},[_c('span',{staticClass:\"pointer\",on:{\"click\":function($event){return _vm.toggleSorting('cost_int', true)}}},[_vm._v(\"Cost\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1)]),_c('th',{staticClass:\"project-table__status project-table__status_head\"},[_c('span',{staticClass:\"pointer\",on:{\"click\":function($event){return _vm.toggleSorting('status_business')}}},[_vm._v(\"Status\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1)]),_c('th',{staticClass:\"project-table__start-date project-table__start-date_head\"},[_c('span',{staticClass:\"pointer\",on:{\"click\":function($event){return _vm.toggleSorting('starts_on_int')}}},[_vm._v(\"Start Date\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1)]),_c('th',{staticClass:\"project-table__end-date project-table__end-date_head text-right\"},[_c('span',{staticClass:\"pointer\",on:{\"click\":function($event){return _vm.toggleSorting('ends_on_int')}}},[_vm._v(\"End Date\"),_c('b-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"chevron-expand\"}})],1)])])]),_c('tbody',_vm._l((_vm.projectsSorted),function(project){return _c('tr',{key:_vm.key(project)},[_c('td',{staticClass:\"project-table__name\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":(\"\" + (project.href))}},[_vm._v(_vm._s(project.title))])],1),_c('td',{staticClass:\"project-table__assignee\"},[_c('b-avatar-group',{attrs:{\"size\":\"2em\"}},_vm._l((_vm.projectCollaboratorsAvatars(project)),function(collaborator,i){return _c('b-avatar',_vm._b({key:((project.id) + \"_\" + i),attrs:{\"variant\":\"light\"}},'b-avatar',collaborator,false))}),1)],1),_c('td',{staticClass:\"project-table__left text-right\"},[_vm._v(_vm._s(project.tasks_left || ''))]),_c('td',{staticClass:\"project-table__coast text-right\"},[_vm._v(_vm._s(_vm._f(\"usdWhole\")(project.cost)))]),_c('td',{staticClass:\"project-table__status\"},[_c('span',{staticClass:\"badge\",class:_vm.businessProjectBadgeClass(project)},[_vm._v(_vm._s(_vm._f(\"underscoreToCapitalized\")(project.status_business)))])]),_c('td',{staticClass:\"project-table__start-date\"},[_vm._v(_vm._s(_vm._f(\"asDate\")(project.starts_on)))]),_c('td',{staticClass:\"project-table__end-date text-right due-date\",class:{ overdue: _vm.isOverdue(project) }},[(_vm.isOverdue(project))?_c('b-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"exclamation-triangle-fill\",\"variant\":\"warning\"}}):_vm._e(),_c('span',{staticClass:\"end-date\"},[_vm._v(_vm._s(_vm._f(\"asDate\")(project.ends_on)))])],1)])}),0)]),(!_vm.projectsSorted.length)?_c('div',{staticClass:\"row h-100\"},[_c('div',{staticClass:\"col h-100 text-center\"},[_c('EmptyState',{attrs:{\"name\":\"Tasks\"}})],1)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  div\n    table.table.task_table.project-table\n      thead\n        tr\n          th.project-table__name.project-table__name_head\n            span.pointer(@click=\"toggleSorting('title')\")\n              | Name\n              b-icon.ml-2(icon='chevron-expand')\n          th.project-table__assignee.project-table__assignee_head\n            span.pointer(@click=\"toggleSorting('collaborators_count', true)\")\n              | Collaborators\n              b-icon.ml-2(icon='chevron-expand')\n          th.project-table__left.project-table__left_head.text-right\n            span.pointer(@click=\"toggleSorting('tasks_left', true)\")\n              | Tasks Left\n              b-icon.ml-2(icon='chevron-expand')\n          th.project-table__coast.project-table__coast_head.text-right\n            span.pointer(@click=\"toggleSorting('cost_int', true)\")\n              | Cost\n              b-icon.ml-2(icon='chevron-expand')\n          th.project-table__status.project-table__status_head\n            span.pointer(@click=\"toggleSorting('status_business')\")\n              | Status\n              b-icon.ml-2(icon='chevron-expand')\n          th.project-table__start-date.project-table__start-date_head\n            span.pointer(@click=\"toggleSorting('starts_on_int')\")\n              | Start Date\n              b-icon.ml-2(icon='chevron-expand')\n          th.project-table__end-date.project-table__end-date_head.text-right\n            span.pointer(@click=\"toggleSorting('ends_on_int')\")\n              | End Date\n              b-icon.ml-2(icon='chevron-expand')\n      tbody\n        tr(v-for=\"project in projectsSorted\" :key=\"key(project)\")\n          td.project-table__name: router-link.link(:to='`${project.href}`') {{ project.title }}\n          td.project-table__assignee\n            b-avatar-group(size=\"2em\")\n              b-avatar(v-for=\"(collaborator, i) in projectCollaboratorsAvatars(project)\" :key=\"`${project.id}_${i}`\" v-bind=\"collaborator\" variant=\"light\")\n          td.project-table__left.text-right {{ project.tasks_left || '' }}\n          td.project-table__coast.text-right {{ project.cost | usdWhole }}\n          td.project-table__status\n            span.badge(:class=\"businessProjectBadgeClass(project)\") {{ project.status_business | underscoreToCapitalized }}\n          td.project-table__start-date {{ project.starts_on | asDate }}\n          td.project-table__end-date.text-right(class=\"due-date\" :class=\"{ overdue: isOverdue(project) }\")\n            b-icon.mr-2(v-if=\"isOverdue(project)\" icon=\"exclamation-triangle-fill\" variant=\"warning\")\n            span.end-date {{ project.ends_on | asDate }}\n    .row.h-100(v-if=\"!projectsSorted.length\")\n        .col.h-100.text-center\n          EmptyState(name=\"Tasks\")\n</template>\n\n<script>\nimport { isOverdue, businessProjectBadgeClass } from '@/common/TaskHelper'\nimport EmptyState from '@/common/EmptyState'\n\nconst key = project => `${project.id}${project.type ? '-p' : '-l'}`\nconst tasks_left = project => project.reminders.filter(r => !r.done_at).length\n\nexport default {\n  components: {\n    EmptyState\n  },\n  props: {\n    projects: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      sortField: null,\n      sortDirection: 1\n    }\n  },\n  methods: {\n    key,\n    isOverdue,\n    businessProjectBadgeClass,\n    toggleSorting(field, startDescending = false) {\n      const initialDirection = startDescending ? -1 : 1\n      this.sortDirection = this.sortField === field ? -1 * this.sortDirection : initialDirection\n      this.sortField = field\n    },\n    projectCollaboratorsAvatars(project) {\n      return project.collaborators.map(collaborator => collaborator.photo\n        ? { src: collaborator.photo }\n        : { text: `${collaborator.first_name[0]}${collaborator.last_name[0]}` })\n    }\n  },\n  computed: {\n    projectsSorted() {\n      if (this.sortField) {\n        const compare = (aField, bField) => {\n          const [a, b] = [aField[this.sortField], bField[this.sortField]]\n          return a > b ? this.sortDirection : (a < b ? (this.sortDirection * -1) : 0)\n        }\n        return this.projectsPrepared.sort(compare)\n      }\n      return this.projectsPrepared\n    },\n    projectsPrepared() {\n      // unset values should be considered \"less\" than zeroes, and are replaced with -1\n      const asSortableNonNeg = val => val ? +val.replace(/\\-/g, '') : -1\n      return this.projects.map(p => ({\n        ...p,\n        href: this.$store.getters.url('URL_PROJECT_SHOW', p.id),\n        tasks_left: tasks_left(p),\n        cost_int: asSortableNonNeg(p.cost),\n        starts_on_int: asSortableNonNeg(p.starts_on),\n        ends_on_int: asSortableNonNeg(p.ends_on),\n        collaborators_count: p.collaborators.length\n      }))\n    }\n  },\n  filters: {\n    underscoreToCapitalized: value => value.replace(/_/g, ' ').replace(/(?: |\\b)(\\w)/g, key => key.toUpperCase())\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectTable.vue?vue&type=template&id=887826fe&lang=pug&\"\nimport script from \"./ProjectTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n  .page\n    .page-header\n      .page-header__title\n        h2.m-b-10 Projects\n        p.page-header__subtitle.mb-0 Plan projects with employees or hire external specialists to help\n      .page-header__actions.mt-0.mb-auto\n        router-link.btn.btn-default.m-r-1(v-if=\"role !=='basic'\" to='/business/projects/new') Post Project\n        LocalProjectModal(@saved=\"newEtag\")\n          a.btn.btn-primary New Project\n    b-tabs.special-navs(content-class=\"mt-0 h-100\")\n      b-tab(title=\"My Projects\" active)\n        .card-body.white-card-body.card-body_full-height\n          div.m-b-20\n            b-dropdown.m-r-1(variant=\"default\")\n              template(#button-content)\n                | Filter by: {{filteredStatus}}\n                ion-icon.ml-2(name=\"chevron-down-outline\" size=\"small\")\n              b-dropdown-item(v-for=\"(status, key) in filterStatuses\" :key=\"key\" @click=\"filterStatus = key\") {{status}}\n            //b-dropdown.m-r-1(variant=\"default\")\n            //  template(#button-content)\n            //    | Year: All\n            //    ion-icon.ml-2(name=\"chevron-down-outline\" size=\"small\")\n            //  b-dropdown-item 2021\n            //  b-dropdown-item 2020\n          Get(projects=\"/api/local_projects/\" :etag=\"etag\"): template(v-slot=\"{projects}\")\n            ProjectTable(:projects=\"filterProjects(projects)\")\n      b-tab(title=\"Contacts\")\n        .card-body.white-card-body.card-body_full-height\n          Get(contacts=\"/api/local_projects/\" :etag=\"etag\" :callback=\"getContacts\"): template(v-slot=\"{contacts}\"): div\n            table.table\n              thead\n                tr\n                  th Name\n                    b-icon.ml-2(icon='chevron-expand')\n                  th Location\n                    b-icon.ml-2(icon='chevron-expand')\n                  th Status\n                    b-icon.ml-2(icon='chevron-expand')\n                  th(width=\"140px\") Rating\n                    b-icon.ml-2(icon='chevron-expand')\n                  th(width=\"40px\")\n              tbody\n                tr(v-for=\"contact in contacts\" :key=\"contact.id\")\n                  td {{ contact.name }}\n                  td {{ contact.location }}\n                  td: .badge.badge-success {{ contact.status }}\n                  //td: StarRating(:stars=\"contact.rating\")\n                  //td &hellip;\n                  td.text-right\n                    .d-flex.justify-content-end\n                      StarsRating(:rate=\"contact.rating\")\n                  td(width=\"40px\").text-right\n                    b-dropdown(size=\"xs\" variant=\"none\" class=\"m-0 p-0\" right)\n                      template(#button-content)\n                        b-icon(icon=\"three-dots\")\n                      b-dropdown-item Message\n                      b-dropdown-item Remove Contact\n            .row.h-100(v-if=\"contacts && !contacts.length && !loading\")\n              .col.h-100.text-center\n                EmptyState(name=\"Tasks\")\n      b-tab.h-100(title=\"Ratings and Reviews\")\n        .card-body.white-card-body.card-body_full-height.h-100\n          Get.h-100(ratings='/api/project_ratings'): template(v-slot=\"{ratings}\")\n            table.rating_table(v-if=\"ratings.length\")\n              tbody\n                tr(v-for=\"rating in ratings\")\n                  td\n                    img.m-r-1.userpic_small(v-bind:src=\"rating.rater_pic\")\n                  td\n                    h3 {{rating.project_title}}\n                    p {{rating.rater_name}} | {{rating.created_at | asDate}}\n                    p: i \"{{rating.review}}\"\n                  td: StarRating(:stars=\"rating.value\")\n                //tr(v-if=\"!ratings.length\")\n                //  td.text-center\n                //    h3.text-dark.p-y-2 No ratings\n            .d-flex.flex-grow-1.justify-content-center.align-items-cener.h-100(v-if=\"!ratings.length\")\n              EmptyState(name=\"Tasks\")\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\"\nimport EmptyState from '@/common/EmptyState'\nimport ProjectTable from './ProjectTable'\nimport LocalProjectModal from './LocalProjectModal'\nimport EtaggerMixin from '@/mixins/EtaggerMixin'\nimport StarsRating from '@/business/marketplace/components/StarsRating'\n\nconst FILTER_STATUSES = {\n  all: 'All',\n  not_started: 'Not Started',\n  draft: 'Draft',\n  in_progres: 'In Progress',\n  pending: 'Pending',\n  complete: 'Complete',\n  overdue: 'Overdue'\n}\n\nexport default {\n  mixins: [EtaggerMixin()],\n  data() {\n    return {\n      filterStatus: Object.keys(FILTER_STATUSES)[0]\n    }\n  },\n  components: {\n    ProjectTable,\n    LocalProjectModal,\n    StarsRating,\n    EmptyState\n  },\n  methods: {\n    getContacts(projects) {\n      return projects.reduce((result, project) => {\n        for (const p in project.projects) {\n          const spec = project.projects[p].specialist\n          if (spec && !result.find(s => s.id === spec.id)) {\n            result.push({\n              id: spec.id,\n              name: spec.first_name + ' ' + spec.last_name,\n              // location: [spec.country, spec.state, spec.city].filter(a => a).join(', '),\n              location: spec.location,\n              status: spec.visibility === 'is_public' ? 'Available' : 'Unavailable',\n              rating: 5\n            })\n          }\n        }\n        return result\n      }, [])\n    },\n    filterProjects(projects) {\n      return projects.filter(project => ['all', project.status_business].includes(this.filterStatus))\n    }\n  },\n  computed: {\n    ...mapGetters({\n      roles: 'roles/roles',\n      role: 'roles/currentRole',\n      plan: 'roles/currentPlan',\n    }),\n    filterStatuses: () => FILTER_STATUSES,\n    filteredStatus() {\n      return FILTER_STATUSES[this.filterStatus]\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Page.vue?vue&type=template&id=77a8bf7e&lang=pug&\"\nimport script from \"./Page.vue?vue&type=script&lang=js&\"\nexport * from \"./Page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { DateTime } from 'luxon'\n\nconst isProject = task => task.hasOwnProperty('starts_on') && task.hasOwnProperty('ends_on')\nconst isTask = task => task.hasOwnProperty('remindable_type')\nconst isOverdue = task => (task.end_date || task.ends_on) && DateTime.fromISO(task.end_date || task.ends_on) <= DateTime.local().minus({ days: 1 })\nconst isRepeat = task => task.repeat_every || task.repeat_on || task.repeats\nconst isComplete = task => {\n  const { oid } = splitReminderOccurenceId(task.id)\n  if (oid !== null) {\n    return task.done_occurencies.hasOwnProperty(`${oid}`)\n  } else {\n    return (task.completed_at || task.done_at)\n  }\n}\nconst toEvent = (task) => ({\n  ...task,\n  ...splitReminderOccurenceId(task.id),\n  start: task.starts_on || task.remind_at,\n  end: ( task.end_date || task.ends_on )+\" 20:00:00\",\n  title: task.title || task.body,\n  icons: iconArray(task)\n})\nconst cssClass = task => isComplete(task) ? 'task-is-complete'\n                       : isOverdue(task) ? 'task-is-overdue'\n                       : isProject(task) ? 'task-is-project'\n                       : isTask(task) ? 'task-is-task'\n                       : isRepeat(task) ? 'task-is-repeat' : ''\nconst iconArray = (task) => [\n  isComplete(task) ? 'checkbox-outline' : isOverdue(task) ? 'warning' : null,\n  isProject(task) ? 'list-outline' : isTask(task) ? 'checkbox-outline' : null\n].filter(i => i).filter((v, i, a) => a.indexOf(v) === i)\nconst splitReminderOccurenceId = val => {\n  const matches = [...`${val}`.matchAll(/(\\d+)_(\\d+)/ig)]\n  return (matches && matches[0])\n    ? { taskId: +matches[0][1], oid: +matches[0][2] }\n    : { taskId: val, oid: null }\n}\nconst badgeClass = project => project.status == \"pending\" ? 'badge-secondary'\n                            : project.status == \"inprogress\" ? \"badge-progress\"\n                            : project.status == \"complete\" ? \"badge-success\"\n                            : project.status == \"draft\" ? 'badge-secondary'\n                            : project.status == \"published\" ? 'badge-success'\n                            : isOverdue(project) ? \"badge-warning\" : ''\n\nconst businessProjectBadgeClass = project => project.status_business == \"not_started\" ? 'badge-secondary'\n                                           : project.status_business == \"in_progress\" ? \"badge-progress\"\n                                           : project.status_business == \"complete\" ? \"badge-success\"\n                                           : project.status_business == \"draft\" ? 'badge-secondary'\n                                           : project.status_business == \"pending\" ? 'badge-light' : ''\n\nconst linkedTo = linkableType => linkableType.linkable_type === 'CompliancePolicy' ? 'document-text'\n                               : linkableType.linkable_type === \"AnnualReport\" ? \"reader\"\n                               : linkableType.linkable_type === \"LocalProject\" ? \"list-circle\"\n                               : linkableType.linkable_type === \"Exam\" ? \"list-circle\" : ''\n\nconst linkedToClass = linkableType => linkableType.linkable_type === 'CompliancePolicy' ? 'black'\n                                    : linkableType.linkable_type === \"AnnualReport\" ? \"yellow\"\n                                    : linkableType.linkable_type === \"LocalProject\" ? \"blue\"\n                                    : linkableType.linkable_type === \"Exam\" ? \"red\" : ''\n\nexport { isProject, isTask, isOverdue, isRepeat, isComplete, toEvent, cssClass, splitReminderOccurenceId, iconArray, badgeClass, businessProjectBadgeClass, linkedTo, linkedToClass }\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"stars-rating\"},[_c('div',{staticClass:\"stars-rating_filled-line\",style:(_vm.filledLineStyles)}),_vm._l((_vm.totalStars),function(idx){return _c('div',{key:idx,staticClass:\"stars-rating_item\"})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  .stars-rating\n    .stars-rating_filled-line(:style=\"filledLineStyles\")\n    .stars-rating_item(v-for=\"idx in totalStars\" :key=\"idx\")\n</template>\n\n<script>\n/**\n*  Render rating by SVG stars\n*  filled-line is a yellow line that stays behind SVG clipped stars and it has per cent width\n*  @see {@link https://css-tricks.com/five-methods-for-five-star-ratings/}\n*/\n\nexport default {\n  name: 'StarsRating',\n  props: {\n    totalStars: {\n      type: Number,\n      default: 5\n    },\n    rate: {\n      type: Number,\n      default: 0\n    },\n  },\n  data () {\n    return {\n      // percent of yellow lines width\n      widthOfFilledLine: 0\n    }\n  },\n  computed: {\n    // If we don't do this, then we have\n    // different animation speed and one star will\n    // be filled as slow as all 5 stars\n    transitionDuration () {\n      return this.rate / this.totalStars\n    },\n    // styles object for yellow filled line\n    filledLineStyles () {\n      return {\n        width: this.widthOfFilledLine + '%',\n        transitionDuration: this.transitionDuration + 's'\n      }\n    }\n  },\n  mounted () {\n    // special for filling animation after mountig\n    // I'm not sure about this. In Vue Docs is recommended\n    // to use GSAP, but I didn't want to load any library yet\n    window.setTimeout(() => {\n      this.widthOfFilledLine = (this.rate / this.totalStars * 100).toFixed(2)\n    }, 300)\n  }\n}\n</script>\n\n<style scoped>\n.stars-rating {\n  display: flex;\n  position: relative;\n  background-color: #F3F6F9;\n  width: 125px;\n}\n.stars-rating_filled-line {\n  width: 0;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  background-color: #FFC900;\n  transition: width .3s ease-out;\n}\n.stars-rating_item {\n  position: relative;\n  width: 20px;\n  height: 20px;\n  margin-right: 5px;\n  z-index: 2;\n  background-image: url(../../../assets/star.svg); /* probably, the best way is to use \"<svg use=''>\". May be I remake it later */\n  background-size: 105%;\n}\n.stars-rating_item::after {\n  content: '';\n  display: block;\n  position: absolute;\n  width: 5px;\n  height: 100%;\n  right: -5px;\n  top: 0;\n  background-color: #fff;\n}\n.stars-rating_item:last-child {\n  margin-right: 0;\n}\n.stars-rating_item >>> svg {\n  fill: #fff;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StarsRating.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StarsRating.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StarsRating.vue?vue&type=template&id=91665d90&scoped=true&lang=pug&\"\nimport script from \"./StarsRating.vue?vue&type=script&lang=js&\"\nexport * from \"./StarsRating.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StarsRating.vue?vue&type=style&index=0&id=91665d90&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"91665d90\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StarsRating.vue?vue&type=style&index=0&id=91665d90&scoped=true&lang=css&\"","const etagInit = () => Math.random()\n\nconst EtaggerMixin = propertyName => {\n  const prop = propertyName || 'etag',\n        refreshMethodName = 'new' + prop[0].toUpperCase() + prop.substring(1)\n  return {\n    data() {\n      return {\n        [prop]: etagInit()\n      }\n    },\n    methods: {\n      [refreshMethodName]: function() {\n        this[prop] = etagInit()\n      }\n    }\n  }\n}\n\nexport default EtaggerMixin","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'d-inline-block':_vm.inline}},[_c('div',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:(_vm.modalId),expression:\"modalId\"}],class:{'d-inline-block':_vm.inline}},[_vm._t(\"default\")],2),_c('b-modal',{staticClass:\"fade\",attrs:{\"id\":_vm.modalId,\"title\":_vm.projectId ? 'Edit project' : 'New project'},on:{\"show\":_vm.newEtag}},[_c('ModelLoader',{attrs:{\"url\":_vm.projectId ? _vm.submitUrl : undefined,\"default\":_vm.initialProject,\"etag\":_vm.etag},on:{\"loaded\":_vm.loadProject}},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Title\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.project.title),expression:\"project.title\"}],staticClass:\"form-control\",attrs:{\"placeholder\":\"Enter the name of your project\"},domProps:{\"value\":(_vm.project.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.project, \"title\", $event.target.value)}}}),_c('Errors',{attrs:{\"errors\":_vm.errors.title}}),_c('b-row',{staticClass:\"m-t-1\",attrs:{\"no-gutters\":\"\"}},[_c('div',{staticClass:\"col-sm m-r-1\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Start Date\")]),_c('DatePicker',{model:{value:(_vm.project.starts_on),callback:function ($$v) {_vm.$set(_vm.project, \"starts_on\", $$v)},expression:\"project.starts_on\"}}),_c('Errors',{attrs:{\"errors\":_vm.errors.starts_on}})],1),_c('div',{staticClass:\"col-sm\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Due Date\")]),_c('DatePicker',{model:{value:(_vm.project.ends_on),callback:function ($$v) {_vm.$set(_vm.project, \"ends_on\", $$v)},expression:\"project.ends_on\"}}),_c('Errors',{attrs:{\"errors\":_vm.errors.ends_on}})],1)]),_c('label',{staticClass:\"m-t-1 form-label\"},[_vm._v(\"Description\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.project.description),expression:\"project.description\"}],staticClass:\"form-control\",attrs:{\"rows\":\"3\"},domProps:{\"value\":(_vm.project.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.project, \"description\", $event.target.value)}}}),_c('Errors',{attrs:{\"errors\":_vm.errors.description}}),_c('div',{staticClass:\"form-text text-muted\"},[_vm._v(\"Optional\")])],1),_c('template',{slot:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-link\",on:{\"click\":function($event){return _vm.$bvModal.hide(_vm.modalId)}}},[_vm._v(\"Cancel\")]),_c('Post',{attrs:{\"action\":_vm.submitUrl,\"model\":_vm.project,\"method\":_vm.httpMethod},on:{\"errors\":function($event){_vm.errors = $event},\"saved\":_vm.saved}},[_c('button',{staticClass:\"btn btn-dark\"},[_vm._v(_vm._s(_vm.projectId ? 'Save' : 'Create'))])])],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  div(:class=\"{'d-inline-block':inline}\")\n    div(v-b-modal=\"modalId\" :class=\"{'d-inline-block':inline}\")\n      slot\n\n    b-modal.fade(:id=\"modalId\" :title=\"projectId ? 'Edit project' : 'New project'\" @show=\"newEtag\")\n      ModelLoader(:url=\"projectId ? submitUrl : undefined\" :default=\"initialProject\" :etag=\"etag\" @loaded=\"loadProject\")\n        label.form-label Title\n        input.form-control(v-model=\"project.title\" type=text placeholder=\"Enter the name of your project\")\n        Errors(:errors=\"errors.title\")\n\n        b-row.m-t-1(no-gutters)\n          .col-sm.m-r-1\n            label.form-label Start Date\n            DatePicker(v-model=\"project.starts_on\")\n            Errors(:errors=\"errors.starts_on\")\n          .col-sm\n            label.form-label Due Date\n            DatePicker(v-model=\"project.ends_on\")\n            Errors(:errors=\"errors.ends_on\")\n\n        label.m-t-1.form-label Description\n        textarea.form-control(v-model=\"project.description\" rows=3)\n        Errors(:errors=\"errors.description\")\n        .form-text.text-muted Optional\n\n      template(slot=\"modal-footer\")\n        button.btn.btn-link(@click=\"$bvModal.hide(modalId)\") Cancel\n        //- Post(v-if=\"canBeDraft\" :action=\"`${submitUrl}?draft=1`\" :model=\"project\" :method=\"httpMethod\" @errors=\"errors = $event\" @saved=\"saved\")\n        //-   button.btn.btn-default Save as Draft\n        Post(:action=\"submitUrl\" :model=\"project\" :method=\"httpMethod\" @errors=\"errors = $event\" @saved=\"saved\")\n          button.btn.btn-dark {{ projectId ? 'Save' : 'Create' }}\n</template>\n\n<script>\nimport { DateTime } from 'luxon'\nimport EtaggerMixin from '@/mixins/EtaggerMixin'\n\nconst rnd = () => Math.random().toFixed(10).toString().replace('.', '')\nconst dateFormat = 'MM/DD/YYYY'\nconst index = (text, i) => ({ text, value: 1 + i })\n\nconst initialProject = () => ({\n  title: \"\",\n  starts_on: null,\n  ends_on: null,\n  description: \"\"\n})\n\nexport default {\n  mixins: [EtaggerMixin()],\n  props: {\n    projectId: Number,\n    remindAt: String,\n    inline: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      modalId: `modal_${rnd()}`,\n      project: initialProject(),\n      errors: []\n    }\n  },\n  methods: {\n    loadProject(project) {\n      this.project = Object.assign({}, this.project, project)\n    },\n    saved() {\n      this.$emit('saved')\n      this.toast('Success', 'The project has been saved')\n      this.$bvModal.hide(this.modalId)\n      this.newEtag()\n    }\n  },\n  computed: {\n    initialProject: () => initialProject,\n    canBeDraft() {\n      return !this.projectId || ('draft' === this.project.status)\n    },\n    submitUrl() {\n      const toId = this.projectId ? `/${this.projectId}` : ''\n      return '/api/local_projects' + toId\n    },\n    httpMethod() {\n      return this.projectId ? 'PUT' : 'POST'\n    },\n    daysOfWeek() {\n      return ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'].map(index)\n    },\n    months() {\n      return ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'].map(index)\n    },\n    dateFormat: () => dateFormat\n  },\n  watch: {\n    'project.starts_on': {\n      handler: function(value, oldVal) {\n        const start = DateTime.fromSQL(value), end = DateTime.fromSQL(this.project.ends_on)\n        if (!start.invalid && (end.invalid || (end.startOf('day') < start.startOf('day')))) {\n          this.project.ends_on = value\n        }\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocalProjectModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocalProjectModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LocalProjectModal.vue?vue&type=template&id=d464ff42&lang=pug&\"\nimport script from \"./LocalProjectModal.vue?vue&type=script&lang=js&\"\nexport * from \"./LocalProjectModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
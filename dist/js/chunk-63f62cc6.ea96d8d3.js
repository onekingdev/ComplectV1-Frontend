(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63f62cc6"],{"1d8f":function(r,e,t){},2480:function(r,e,t){"use strict";var s=t("6adf"),a=t.n(s);t.d(e,"default",(function(){return a.a}))},"6adf":function(r,e,t){},b1d5:function(r,e,t){"use strict";t.r(e);var s=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"card registration"},[t("div",{staticClass:"card-body white-card-body"},[t("div",{staticClass:"form"},[r._m(0),t("div",[r.error?t("b-alert",{staticClass:"m-b-20",attrs:{variant:"danger",show:""}},[r._v(r._s(r.error))]):r._e(),r.show?t("b-form",{on:{submit:r.onSubmit}},[t("b-form-group",{staticClass:"m-b-20",attrs:{id:"input-group-1",label:"Email:","label-for":"input-1"}},[t("b-form-input",{class:{"is-invalid":r.errors.email},attrs:{id:"input-1",type:"text",placeholder:"Email"},model:{value:r.form.email,callback:function(e){r.$set(r.form,"email",e)},expression:"form.email"}}),r.errors.email?t("div",{staticClass:"invalid-feedback d-block"},[r._v(r._s(r.errors.email))]):r._e()],1),t("b-form-group",{staticClass:"m-b-20",attrs:{id:"input-group-2",label:"Password:","label-for":"input-2"}},[t("b-form-input",{class:{"is-invalid":r.errors.password},attrs:{id:"input-2",type:"password",placeholder:"Password"},model:{value:r.form.password,callback:function(e){r.$set(r.form,"password",e)},expression:"form.password"}}),r.errors.password?t("div",{staticClass:"invalid-feedback d-block"},[r._v(r._s(r.errors.password))]):r._e()],1),t("b-button",{staticClass:"m-b-20 w-100",attrs:{type:"submit",variant:"dark"}},[r._v("Sign In")]),t("b-form-group",{staticClass:"text-center forgot-password mb-0"},[t("router-link",{staticClass:"link o-8 forgot-password",attrs:{to:"/users/password/new"}},[r._v("Forgot Password")])],1)],1):r._e()],1)])]),t("div",{staticClass:"card-footer"},[t("b-form-group",{staticClass:"text-center mb-0"},[t("p",{staticClass:"mb-0"},[r._v("Don't have an account yet?Â "),t("router-link",{staticClass:"link",attrs:{to:"/users/sign_up"}},[r._v("Sign Up")])],1)])],1)])},a=[function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"registration-welcome"},[t("h1",{staticClass:"registration__title"},[r._v("Let's get you started!")])])}],o=t("e829"),i=t("ba78"),n=function(){return{firstName:"",lastName:"",email:"",password:"",passwordConfirm:""}},c={components:{TopNavbar:i["a"],Loading:o["a"]},data:function(){return{userId:"",otpSecret:"",userType:"",form:n(),show:!0,error:"",errors:{},emailVerified:!0}},methods:{selectType:function(r){this.userType=r},onSubmit:function(r){var e=this;for(var t in r.preventDefault(),this.error="",this.errors)delete this.errors[t];var s=localStorage.getItem("app.currentUser.userType")?JSON.parse(localStorage.getItem("app.currentUser.userType")):"";this.form.email=this.form.email.toLowerCase();var a={user:{email:this.form.email,password:this.form.password}};this.$store.dispatch("signIn",a).then((function(r){if(r.errors&&(r.errors.onboarding&&e.$router.push("/".concat(s,"/onboarding")),"Invalid email or password"===r.errors&&(e.error=r.errors),"Please, confirm your email"===r.error||"Please, confirm your email"===r.errors||"Please confirm email"===r.errors)){e.emailVerified=!1,e.$router.push({name:"verification",params:{form:e.form,userid:e.userid,userType:e.userType,emailVerified:e.emailVerified}});var t={user:{email:e.form.email}};e.$store.dispatch("resendOTP",t).then((function(r){return e.$router.push({name:"verification",params:{form:e.form,userid:e.userid,userType:e.userType,emailVerified:e.emailVerified}})}))["catch"]((function(r){return console.error(r)}))}r.errors||e.$router.push({name:"verification",params:{form:e.form,userid:e.userid,userType:e.userType,emailVerified:e.emailVerified}})}))["catch"]((function(r){r.data.errors&&(e.error=r.data.errors.invalid)}))}},computed:{loading:function(){return this.$store.getters.loading}},watch:{email:function(r,e){r.toLowerCase()}}},l=c,u=t("2480"),d=t("2877");function m(r){this["$style"]=u["default"].locals||u["default"]}var f=Object(d["a"])(l,s,a,!1,m,null,null);e["default"]=f.exports},b9f4:function(r,e,t){r.exports=t.p+"img/primary.70f6fdd7.svg"},ba78:function(r,e,t){"use strict";var s=function(){var r=this,e=r.$createElement,s=r._self._c||e;return s("div",{staticClass:"topbar"},[s("div",{staticClass:"logo"},[s("router-link",{staticClass:"link",attrs:{to:"/"}},[s("img",{staticClass:"logo__img logo__img_full",attrs:{src:t("b9f4")}}),s("svg",{staticClass:"logo__text",attrs:{width:"200",height:"30",xmlns:"http://www.w3.org/2000/svg"}},[s("text",{attrs:{x:"0",y:"25","font-family":"Varela"}},[r._v("complect")])])])],1),s("div",{staticClass:"navbar-nav mr-0"},[r.loggedIn&&r.userName?s("div",{staticClass:"dropdown dropdown-profile"},[r.userName?s("div",{staticClass:"dropdown-profile__btn",attrs:{"aria-expanded":r.isProfileMenuOpen},on:{click:function(e){r.isProfileMenuOpen=!r.isProfileMenuOpen}}},[s("span",[r._v(r._s(r.userName))]),s("b-icon",{staticClass:"m-l-1",attrs:{icon:"chevron-down"}})],1):r._e(),s("ul",{staticClass:"dropdown-menu",class:{show:r.isProfileMenuOpen},attrs:{"aria-labelledby":"profile_dropdown_btn"}},[s("li",{staticClass:"dropdown-item",on:{click:r.signOut}},[r._v("Sign Out")])])]):s("div",{staticClass:"ml-auto mr-3 mt-auto mb-auto"},[s("router-link",{staticClass:"btn btn btn-dark",attrs:{to:"/users/sign_in"}},[r._v("Sign in")])],1)])])},a=[],o={props:["userInfo"],data:function(){return{isProfileMenuOpen:!1}},methods:{removeCurrentUser:function(){localStorage.removeItem("app.currentUser"),localStorage.removeItem("app.currentUser.token"),localStorage.removeItem("app.currentUser.userType"),localStorage.removeItem("app.currentUser.paymentMethod"),window.location.href="".concat(window.location.origin)},signOut:function(){var r=this,e=localStorage.getItem("app.currentUser.token")?localStorage.getItem("app.currentUser.token"):"";fetch(this.$store.getters.backendUrl+"/api/users/sign_out",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:JSON.parse(e)}}).then((function(e){return e.ok||404!==e.status||r.removeCurrentUser(),e.json()})).then((function(e){r.removeCurrentUser()}))["catch"]((function(r){return console.error(r)}))}},computed:{loggedIn:function(){return this.$store.getters.loggedIn},currentUser:function(){return this.$store.getters.getUser},userName:function(){var r=this.currentUser.contact_first_name?"".concat(this.currentUser.contact_first_name," ").concat(this.currentUser.contact_last_name):"".concat(this.currentUser.first_name," ").concat(this.currentUser.last_name);return"undefined undefined"!==r?r:""},mainUrl:function(){return window.location.origin}}},i=o,n=(t("c94f"),t("2877")),c=Object(n["a"])(i,s,a,!1,null,"4d594f10",null);e["a"]=c.exports},c94f:function(r,e,t){"use strict";t("1d8f")}}]);
//# sourceMappingURL=chunk-63f62cc6.ea96d8d3.js.map
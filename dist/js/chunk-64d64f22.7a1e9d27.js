(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64d64f22"],{"07d1":function(t,e,r){"use strict";r.d(e,"g",(function(){return i})),r.d(e,"h",(function(){return a})),r.d(e,"e",(function(){return c})),r.d(e,"a",(function(){return l})),r.d(e,"c",(function(){return u})),r.d(e,"i",(function(){return p})),r.d(e,"j",(function(){return d})),r.d(e,"b",(function(){return b})),r.d(e,"d",(function(){return j})),r.d(e,"f",(function(){return h})),r.d(e,"k",(function(){return y}));var s=r("278c"),o=r.n(s),n=r("1315"),i=[{id:"fixed",label:"Fixed Price",text:"Budget-friendly approach for scoped projects."},{id:"hourly",label:"Hourly Price",text:"Pay by the hour. Provides more flexibility."}],a=Object.fromEntries(i.map((function(t){return[t.id,t.label]}))),c={remote:"Remote",remote_and_travel:"Remote + Travel",onsite:"Onsite"},l={upfront:"Upfront",fifty_fifty:"50/50",upon_completion:"Upon Completion",bi_weekly:"Bi-Weekly",monthly:"Monthly"},u={upon_completion:"Upon Completion",bi_weekly:"Bi-Weekly",monthly:"Monthly"},p=function(t){return _(t,m)},d=function(t){return _(t,f)},m=["Investment Adviser","Broker-Dealer","Banking","Commodities Trader","Insurance Provider","Fintech","Other"],f=["USA","Canada","Europe","Central America","South America","Australasia","Asia","Africa","Caribbean","Middle East"],_=function(t,e){var r=t.reduce((function(t,r){return t[e.includes(r.name)?0:1].push(r),t}),[[],[]]),s=o()(r,2),n=s[0],i=s[1];return n.sort((function(t,r){return e.indexOf(t.name)-e.indexOf(r.name)})).concat(i)},b=function(t,e){return v(l,t,e)},j=function(t,e){return v(u,t,e)},v=function(t,e,r){var s=1;if(e&&r){var i=n["DateTime"].fromSQL(e),a=n["DateTime"].fromSQL(r);s=i.isValid&&a.isValid&&a.diff(i,"days").as("days")||1}return Object.fromEntries(Object.entries(t).filter((function(t){var e=o()(t,1),r=e[0];return({bi_weekly:14,monthly:30}[r]||0)<s})))},h={0:"Junior",1:"Intermediate",2:"Expert"},y={none:"None",basic:"Basic",trusted:"Trusted",admin:"Admin"}},4082:function(t,e,r){var s=r("f0e4");function o(t,e){if(null==t)return{};var r,o,n=s(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}t.exports=o,t.exports["default"]=t.exports,t.exports.__esModule=!0},f0e4:function(t,e){function r(t,e){if(null==t)return{};var r,s,o={},n=Object.keys(t);for(s=0;s<n.length;s++)r=n[s],e.indexOf(r)>=0||(o[r]=t[r]);return o}t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},f34e:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page bg-white"},[r("Get",{attrs:{staticCollections:"/api/static_collection",localProject:t.localProjectUrl},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.staticCollections,o=s.industries,n=s.jurisdictions,i=e.localProject;return[r("Wizard",t._b({},"Wizard",{projectId:t.projectId,industryIds:o,jurisdictionIds:n,localProject:i},!1))]}}])})],1)},o=[],n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ModelLoader",{attrs:{url:t.projectId?t.endpointUrl:void 0,default:t.defaultProject,callback:t.transformBackendModel},on:{loaded:t.loadProject}},[r("div",{staticClass:"page-header"},[r("div",{staticClass:"d-flex flex-column"},[r("Breadcrumbs",{staticClass:"mb-2",attrs:{items:["Projects",t.pageTitle]}}),r("div",{staticClass:"page-header__title my-0 ml-0 m-b-10"},[t._v(t._s(t.pageTitle))]),r("p",{staticClass:"page-header__subtitle mb-0"},[t._v("Tell us more about your project and get connected to our experienced specialists.")])],1)]),r("div",{staticClass:"white-card-body card-body_full-height p-x-40 h-100"},[r("WizardProgress",t._b({},"WizardProgress",{step:t.step,steps:t.steps},!1)),r("div",{staticClass:"row no-gutters"},[t.step===t.steps[0]?r("div",{staticClass:"col-lg-6"},[r("InputText",{attrs:{errors:t.errors.title},model:{value:t.project.title,callback:function(e){t.$set(t.project,"title",e)},expression:"project.title"}},[t._v("Name")]),r("div",{staticClass:"row m-t-1"},[r("div",{staticClass:"col-sm"},[r("InputDate",{attrs:{errors:t.errors.starts_on,options:t.datepickerOptions},model:{value:t.project.starts_on,callback:function(e){t.$set(t.project,"starts_on",e)},expression:"project.starts_on"}},[t._v("Start Date")])],1),r("div",{staticClass:"col-sm"},[r("InputDate",{attrs:{errors:t.errors.ends_on,options:t.datepickerOptions},model:{value:t.project.ends_on,callback:function(e){t.$set(t.project,"ends_on",e)},expression:"project.ends_on"}},[t._v("Due Date")])],1)]),r("InputTextarea",{staticClass:"m-t-1",attrs:{errors:t.errors.description,placeholder:"General project description"},model:{value:t.project.description,callback:function(e){t.$set(t.project,"description",e)},expression:"project.description"}},[t._v("Description")]),r("InputTextarea",{staticClass:"m-t-1",attrs:{errors:t.errors.role_details,placeholder:"Describe specific specialist role in the project"},model:{value:t.project.role_details,callback:function(e){t.$set(t.project,"role_details",e)},expression:"project.role_details"}},[t._v("Role Details")]),r("InputSelect",{staticClass:"m-t-1 form-control_no-icon",attrs:{errors:t.errors.location_type,options:t.locationTypes},model:{value:t.project.location_type,callback:function(e){t.$set(t.project,"location_type",e)},expression:"project.location_type"}},[t._v("Location Type")]),t.isLocationVisible?r("div",{staticClass:"m-t-1"},[r("label",{staticClass:"form-label"},[t._v("Location")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.project.location,expression:"project.location"},{name:"google-maps-autocomplete",rawName:"v-google-maps-autocomplete"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.project.location},on:{input:function(e){e.target.composing||t.$set(t.project,"location",e.target.value)}}}),r("Errors",{attrs:{errors:t.errors.location}})],1):t._e(),r("label",{staticClass:"m-t-1 form-label"},[t._v("Industry")]),r("ComboBox",{attrs:{options:t.industryIdsOptions,multiple:!0},model:{value:t.project.industry_ids,callback:function(e){t.$set(t.project,"industry_ids",e)},expression:"project.industry_ids"}}),r("Errors",{attrs:{errors:t.errors.industry_ids}}),r("label",{staticClass:"m-t-1 form-label"},[t._v("Jurisdiction")]),r("ComboBox",{attrs:{options:t.jurisdictionIdsOptions,multiple:!0},model:{value:t.project.jurisdiction_ids,callback:function(e){t.$set(t.project,"jurisdiction_ids",e)},expression:"project.jurisdiction_ids"}}),r("Errors",{attrs:{errors:t.errors.jurisdiction_ids}})],1):t._e()]),r("div",{staticClass:"row no-gutters"},[t.step===t.steps[1]?r("div",{staticClass:"col-lg-6"},[r("InputSelect",{staticClass:"form-control_no-icon",attrs:{errors:t.errors.minimum_experience,options:t.experienceOptions},model:{value:t.project.minimum_experience,callback:function(e){t.$set(t.project,"minimum_experience",e)},expression:"project.minimum_experience"}},[t._v("Minimum Experience")]),r("b-form-checkbox",{staticClass:"m-y-1",model:{value:t.project.only_regulators,callback:function(e){t.$set(t.project,"only_regulators",e)},expression:"project.only_regulators"}},[t._v("Only former regulators")]),r("Errors",{attrs:{errors:t.errors.only_regulators}}),r("label",{staticClass:"form-label"},[t._v("Skills")]),r("Get",{attrs:{skills:"/api/skills",callback:t.getSkillOptions},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.skills;return[r("ComboBox",{attrs:{multiple:!0,"id-as-label":!0,"tree-props":t.comboboxProps(s)},on:{input:t.inputSkills},model:{value:t.project.skill_names,callback:function(e){t.$set(t.project,"skill_names",e)},expression:"project.skill_names"}})]}}],null,!1,1936382230)}),r("Errors",{attrs:{errors:t.errors.skill_names}})],1):t._e()]),r("div",{staticClass:"row no-gutters"},[t.step===t.steps[2]?r("div",{staticClass:"col-lg-6"},[r("b-row",{staticClass:"no-gutters"},t._l(t.pricingTypes,(function(e,s){return r("div",{key:s,staticClass:"card project-card col-sm pointer",class:t.cardClass(e,s),on:{click:function(r){t.project.pricing_type=e.id}}},[r("div",{staticClass:"card-body project-card__body"},[r("div",[r("ion-icon",{staticClass:"project-card__icon",attrs:{name:0===s?"pricetags-outline":"time-outline"}})],1),r("div",{staticClass:"d-block"},[r("h5",{staticClass:"project-card__title"},[t._v(t._s(e.label))]),r("p",{staticClass:"card-text project-card__text"},[t._v(t._s(e.text))])])])])})),0),t.project.pricing_type===t.pricingTypes[0].id?r("div",{staticClass:"m-t-1"},[r("InputText",{attrs:{errors:t.errors.est_budget},model:{value:t.project.est_budget,callback:function(e){t.$set(t.project,"est_budget",e)},expression:"project.est_budget"}},[t._v("Estimated Budget")]),r("InputSelect",{staticClass:"form-control_no-icon m-t-1",attrs:{errors:t.errors.fixed_payment_schedule,options:t.fixedPaymentScheduleOptions},model:{value:t.project.fixed_payment_schedule,callback:function(e){t.$set(t.project,"fixed_payment_schedule",e)},expression:"project.fixed_payment_schedule"}},[t._v("Method of Payment")])],1):r("div",[r("div",{staticClass:"m-t-1"},[r("InputText",{attrs:{errors:t.errors.hourly_rate},model:{value:t.project.hourly_rate,callback:function(e){t.$set(t.project,"hourly_rate",e)},expression:"project.hourly_rate"}},[t._v("Estimated Hourly Rate")])],1),r("div",{staticClass:"m-t-1"},[r("InputText",{attrs:{errors:t.errors.upper_hourly_rate},model:{value:t.project.upper_hourly_rate,callback:function(e){t.$set(t.project,"upper_hourly_rate",e)},expression:"project.upper_hourly_rate"}},[t._v("Upper Hourly Rate")])],1),r("div",{staticClass:"m-t-1"},[r("InputSelect",{staticClass:"form-control_no-icon m-t-1",attrs:{errors:t.errors.hourly_payment_schedule,options:t.hourlyPaymentScheduleOptions},model:{value:t.project.hourly_payment_schedule,callback:function(e){t.$set(t.project,"hourly_payment_schedule",e)},expression:"project.hourly_payment_schedule"}},[t._v("Method of Payment")])],1)])],1):t._e()]),r("div",{staticClass:"row no-gutters"},[r("div",{staticClass:"col-lg-6 m-t-2 m-b-40"},[r("div",{staticClass:"d-flex"},[t.prevEnabled?r("button",{staticClass:"btn btn-default float-left",on:{click:t.prev}},[r("b-icon",{staticClass:"mr-2",attrs:{icon:"chevron-left"}}),t._v("Previous")],1):t._e(),r("ExitLocalProjectModal",{staticClass:"m-r-1 ml-auto"},[r("button",{staticClass:"btn btn-link"},[t._v("Exit")])]),t.saveDraftEnabled&&!t.canSaveDraft?r("button",{staticClass:"btn btn-default m-r-1",on:{click:function(e){return t.toast("Error","Please enter title")}}},[t._v("Save as Draft")]):t.saveDraftEnabled?r("Post",{attrs:{action:t.endpointUrl,model:t.draftProject,method:t.method},on:{saved:t.saved,errors:function(e){t.errors=e}}},[r("button",{staticClass:"btn btn-default m-r-1"},[t._v("Save as Draft")])]):t._e(),t.nextEnabled?r("button",{staticClass:"btn btn-dark",on:{click:t.next}},[t._v("Next"),r("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-right"}})],1):r("Post",{attrs:{action:t.endpointUrl,model:t.publishedProject,method:t.method},on:{saved:t.saved,errors:function(e){t.errors=e}}},[r("button",{staticClass:"btn btn-dark"},[t._v("Submit")])])],1)])])],1)])},i=[],a=r("4082"),c=r.n(a),l=r("9523"),u=r.n(l),p=r("448a"),d=r.n(p),m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"steps"},[t._l(t.stepsActive,(function(e,s){return r("div",{key:e,staticClass:"step active"},[r("h4",{staticClass:"step__name"},[t._v(t._s(1+s)+". "+t._s(e))])])})),t._l(t.stepsInactive,(function(e,s){return r("div",{key:e,staticClass:"step"},[r("h4",{staticClass:"step__name"},[t._v(t._s(1+s+t.stepsActive.length)+". "+t._s(e))])])}))],2)},f=[],_={props:{step:{type:String,required:!0},steps:{type:Array,required:!0}},computed:{stepsActive:function(){return this.steps.slice(0,1+this.steps.indexOf(this.step))},stepsInactive:function(){return this.steps.slice(1+this.steps.indexOf(this.step))}}},b=_,j=r("2877"),v=Object(j["a"])(b,m,f,!1,null,null,null),h=v.exports,y=r("c388"),x=r("07d1"),g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:{"d-inline-block":t.inline}},[r("div",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.modalId,expression:"modalId"}],class:{"d-inline-block":t.inline}},[t._t("default")],2),r("b-modal",{staticClass:"fade",attrs:{id:t.modalId,title:"Unsaved Changes"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var s=e.hide;return[r("button",{staticClass:"btn btn-link",on:{click:s}},[t._v("Cancel")]),r("button",{staticClass:"btn btn-dark",on:{click:t.exit}},[t._v("Confirm")])]}}])},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-1 text-center px-0"},[r("b-icon",{staticClass:"mt-1 ml-3",attrs:{icon:"exclamation-triangle-fill",variant:"warning",width:"25",height:"25"}})],1),r("div",{staticClass:"col"},[r("div",[r("p",{staticClass:"m-b-10"},[t._v("Exiting will remove any unsaved changes.")]),r("p",{staticClass:"mb-0"},[r("strong",[t._v("Do you want to continue?")])])])])])])],1)},C=[],k=function(){return Math.random().toFixed(10).toString().replace(".","")},O={props:{inline:{type:Boolean,default:!0}},data:function(){return{modalId:"modal_".concat(k())}},methods:{exit:function(){this.$bvModal.hide(this.modalId),this.back()}}},P=O,I=Object(j["a"])(P,g,C,!1,null,null,null),S=I.exports,E=r("1315"),w=["status"];function D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D(Object(r),!0).forEach((function(e){u()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var $="Required field",A=["Project Details","Expertise","Budget"],B="rfp",M=function(t){var e=t.id,r=t.name;return{id:e,label:r}},N=function(t){return{type:B,local_project_id:t&&t.id||null,title:t&&t.title||null,starts_on:t&&t.starts_on||null,ends_on:t&&t.ends_on||null,description:t&&t.description||null,role_details:null,industry_ids:[],jurisdiction_ids:[],location_type:null,location:null,minimum_experience:null,only_regulators:null,skill_names:[],pricing_type:x["g"][0].id,est_budget:null,hourly_rate:null,fixed_payment_schedule:null,hourly_payment_schedule:null,status:null}},U={props:{projectId:{type:Number},industryIds:{type:Array,required:!0},jurisdictionIds:{type:Array,required:!0},localProject:{type:Object}},data:function(){return{step:A[0],project:N(this.localProject),errors:{}}},methods:{inputSkills:function(){var t=document.getElementsByClassName("vue-treeselect__input")[0];t&&(t.value="")},comboboxProps:function(t){return{async:!0,loadOptions:function(e){var r=e.action,s=e.searchQuery,o=e.callback;o(null,"ASYNC_SEARCH"===r?[{id:s,label:s}].concat(d()(t)):t)}}},loadProject:function(t){this.project=Object.assign({},this.project,t)},next:function(){this.nextEnabled&&this.preValidateStep()&&(this.step=this.steps[1+this.currentStep])},prev:function(){this.prevEnabled&&(this.step=this.steps[this.currentStep-1])},cardClass:function(t,e){return{"border-dark":this.project.pricing_type===t.id,"m-r-1":0===e}},preValidateStep:function(){var t=this;return this.errors={},0===this.currentStep?(["title","description","role_details","starts_on","location_type"].map((function(e){t.project[e]||(t.errors[e]=[$])})),this.isLocationVisible&&!this.project.location&&(this.errors.location=[$]),["industry_ids","jurisdiction_ids"].map((function(e){t.project[e].length||(t.errors[e]=[$])}))):1===this.currentStep&&isNaN(parseInt(this.project.minimum_experience))&&(this.errors.minimum_experience=[$]),!Object.keys(this.errors).length},saved:function(){var t="/business/projects/".concat(this.project.local_project_id||"");Object(y["b"])(t,"The project has been saved")},getSkillOptions:function(t){return t.map((function(t){var e=t.name;return{id:e,label:e}}))}},computed:{draftProject:function(){return T(T({},this.project),{},{status:"draft"})},publishedProject:function(){var t=this.project,e=(t.status,c()(t,w));return e},method:function(){return this.projectId?"PUT":"POST"},transformBackendModel:function(){var t=function(t,e){return t.map((function(t){return t[e]}))},e=function(t){return+t||null};return function(r){return T(T({},r),{},{skill_names:t(r.skills,"name"),industry_ids:t(r.industries,"id"),jurisdiction_ids:t(r.jurisdictions,"id"),est_budget:e(r.est_budget),only_regulators:!!r.only_regulators})}},pageTitle:function(){return this.projectId?"Edit Project":"Post Project"},defaultProject:function(){var t=this;return function(){return N(t.localProject)}},endpointUrl:function(){return"/api/business/projects/"+(this.projectId||"")},steps:function(){return A},pricingTypes:function(){return x["g"]},locationTypes:function(){return x["e"]},fixedPaymentScheduleOptions:function(){return Object(x["b"])(this.project.starts_on,this.project.ends_on)},hourlyPaymentScheduleOptions:function(){return Object(x["d"])(this.project.starts_on,this.project.ends_on)},experienceOptions:function(){return x["f"]},skillsOptions:function(){return["SEC","Policy Writing","FINRA"].map((function(t){return{id:t,label:t}}))},industryIdsOptions:function(){return Object(x["i"])(this.industryIds).map(M)},jurisdictionIdsOptions:function(){return Object(x["j"])(this.jurisdictionIds).map(M)},currentStep:function(){return this.steps.indexOf(this.step)},nextEnabled:function(){return this.currentStep<this.steps.length-1},prevEnabled:function(){return this.currentStep>0},saveDraftEnabled:function(){return"published"!==this.project.status},canSaveDraft:function(){return this.project.title&&this.project.title.length},datepickerOptions:function(){return{min:E["DateTime"].now().toISODate()}},isLocationVisible:function(){return["remote_and_travel","onsite"].includes(this.project.location_type)}},components:{ExitLocalProjectModal:S,WizardProgress:h}},L=U,W=Object(j["a"])(L,n,i,!1,null,null,null),R=W.exports,V={props:{projectId:{type:Number},localProjectId:{type:Number}},components:{Wizard:R},computed:{localProjectUrl:function(){return this.localProjectId&&"/api/local_projects/".concat(this.localProjectId)}}},z=V,q=Object(j["a"])(z,s,o,!1,null,null,null);e["default"]=q.exports}}]);
//# sourceMappingURL=chunk-64d64f22.7a1e9d27.js.map
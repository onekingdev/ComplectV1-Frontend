(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-653bc8c7"],{"7c92":function(t,e,s){},"7fac":function(t,e,s){"use strict";s("d3c4")},d229:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[t._m(0),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"container portal"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col m-b-2"},[s("div",{staticClass:"card-body white-card-body reviews__card"},[s("div",{staticClass:"greeting"},[s("ion-icon",{staticClass:"greeting__icon",attrs:{name:"search-outline"}}),t._m(1)],1)])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("ExamReqeustsAuditorPortalExternal",{attrs:{examUuid:t.examUuid}})],1)])])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col text-center px-0 position-relative"},[s("div",{staticClass:"header-top p-y-1"},[s("p",{staticClass:"mb-0"},[s("b",[t._v("Viewing Auditor's Portal"),s("a",{staticClass:"link m-l-1",attrs:{href:"/business/exam_management/"}},[t._v("Exit")])])])]),s("div",{staticClass:"bg-black"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"greeting-text"},[s("h1",{staticClass:"greeting-text__title"},[t._v("Welcome")]),s("p",{staticClass:"greeting-text__subtitle"},[t._v("Click on the reqeust item below to view their contents and download any document")])])}],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Loading"),t.loading?t._e():s("div",{staticClass:"form",class:t.step1?"d-block":"d-none",attrs:{id:"step1"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-6 col-lg-8 col m-x-auto"},[s("div",{staticClass:"card-body white-card-body reviews__card px-5 registration"},[s("h1",{staticClass:"text-center"},[t._v("Confirm your email!")]),s("div",[s("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",fade:"",variant:"danger"},on:{"dismiss-count-down":t.countDownChanged}},[t._v(t._s(t.error)),s("br"),t._v("This alert will dismiss after "+t._s(t.dismissCountDown)+" seconds...")]),t.show?s("b-form",{on:{submit:t.onSubmit1}},[s("b-form-group",{attrs:{id:"input-group-1",label:"Email:","label-for":"input-1"}},[s("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:"Email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t.errors.email?s("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors.email))]):t._e()],1),s("b-button",{staticClass:"w-100",attrs:{type:"submit",variant:"dark"}},[t._v("Confirm")])],1):t._e()],1)])])])]),t.loading?t._e():s("div",{staticClass:"form",class:t.step2?"d-block":"d-none",attrs:{id:"step2"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-6 col-lg-8 col m-x-auto"},[s("div",{staticClass:"card-body white-card-body reviews__card registration px-5 mt-0"},[s("h1",{staticClass:"text-center"},[t._v("Confirm your email!")]),s("p",{staticClass:"text-center"},[t._v("We send a 6 digit code to email.com. Please enter it below.")]),s("div",[t.show?s("b-form",{attrs:{autocomplete:"off"},on:{submit:t.onSubmitStep2,keyup:t.onCodeChange}},[s("b-form-group",[s("div",{staticClass:"col text-center"},[s("ion-icon",{attrs:{name:"mail-outline"}})],1)]),s("b-form-group",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 mx-0"},[s("div",{staticClass:"d-flex justify-content-space-around mx-auto w-75"},[s("b-form-input",{staticClass:"code-input ml-auto",attrs:{id:"inputCode1",type:"number",maxlength:"1",required:""},model:{value:t.form2.codePart1,callback:function(e){t.$set(t.form2,"codePart1",e)},expression:"form2.codePart1"}}),s("b-form-input",{staticClass:"code-input",attrs:{id:"inputCode2",type:"number",maxlength:"1",required:""},model:{value:t.form2.codePart2,callback:function(e){t.$set(t.form2,"codePart2",e)},expression:"form2.codePart2"}}),s("b-form-input",{staticClass:"code-input",attrs:{id:"inputCode3",type:"number",maxlength:"1",required:""},model:{value:t.form2.codePart3,callback:function(e){t.$set(t.form2,"codePart3",e)},expression:"form2.codePart3"}}),s("b-form-input",{staticClass:"code-input",attrs:{id:"inputCode4",type:"number",maxlength:"1",required:""},model:{value:t.form2.codePart4,callback:function(e){t.$set(t.form2,"codePart4",e)},expression:"form2.codePart4"}}),s("b-form-input",{staticClass:"code-input",attrs:{id:"inputCode5",type:"number",maxlength:"1",required:""},model:{value:t.form2.codePart5,callback:function(e){t.$set(t.form2,"codePart5",e)},expression:"form2.codePart5"}}),s("b-form-input",{staticClass:"code-input mr-auto",attrs:{id:"inputCode6",type:"number",maxlength:"1",required:""},model:{value:t.form2.codePart6,callback:function(e){t.$set(t.form2,"codePart6",e)},expression:"form2.codePart6"}})],1),t.errors.code?s("div",{staticClass:"invalid-feedback d-block text-center"},[t._v(t._s(t.errors.code))]):t._e()])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form2.code,expression:"form2.code"}],attrs:{type:"hidden"},domProps:{value:t.form2.code},on:{input:function(e){e.target.composing||t.$set(t.form2,"code",e.target.value)}}})])])]),s("b-button",{ref:"codesubmit",staticClass:"w-100 mb-2",attrs:{type:"submit",variant:"dark"}},[t._v("Submit")]),s("b-form-group",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 text-center"},[s("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),t.resendOTP.apply(null,arguments)}}},[t._v("Send new code")])])])])],1):t._e()],1)])])])]),!t.loading&&t.currentExam?s("div",{staticClass:"card-body white-card-body reviews__card px-5",class:t.step3?"d-block":"d-none",attrs:{id:"step3"}},[t._m(0),s("div",{staticClass:"reviews__topiclist"},[t._l(t.currentExam.exam_requests,(function(e,r){return t.currentExam.exam_requests?[s("div",{key:t.currentExam.name+"-"+r,staticClass:"reviews__card--internal exams__card--internal"},[s("div",{staticClass:"row m-b-1"},[s("div",{staticClass:"col"},[s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("div",{staticClass:"d-flex"},[e.shared?s("b-badge",{staticClass:"mr-2",attrs:{variant:"success"}},[t._v(t._s(e.shared?"Shared":""))]):t._e(),s("div",{staticClass:"exams__input exams__topic-name"},[t._v(t._s(e.name))])],1)])])]),s("div",{staticClass:"row m-b-1"},[s("div",{staticClass:"col"},[s("p",[t._v(t._s(e.details))])])]),s("div",{staticClass:"row m-b-1"},[s("div",{staticClass:"col"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("span",[s("b-icon",{staticClass:"mr-2",attrs:{icon:t.itemsTotal&&t.itemsTotal.length?"chevron-down":"chevron-right"}}),t._v(t._s(t.itemsTotal[r])+" Items")],1)])])]),e.text_items?s("hr"):t._e(),e.text_items?s("div",{staticClass:"row"},[t._l(e.text_items,(function(a,i){return[s("div",{key:e.name+"-"+r+"-"+a+"-"+i,staticClass:"col-12 exams__text"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col m-b-1"},[t._v(t._s(e.text_items[i].text))])])])]}))],2):t._e(),s("div",{staticClass:"row"},[t._l(e.exam_request_files,(function(a,i){return[s("div",{key:e.name+"-"+r+"-"+a+"-"+i,staticClass:"col-md-6 m-b-1"},[s("div",{staticClass:"file-card"},[s("div",{staticClass:"mr-2"},[s("b-icon",{staticClass:"file-card__icon",attrs:{icon:"file-earmark-text-fill","font-scale":"2"}})],1),s("div",{staticClass:"ml-0 mr-auto"},[s("p",{staticClass:"file-card__name"},[s("b",[t._v(t._s(a.name))])]),s("a",{staticClass:"file-card__link link",attrs:{href:a.file_url,target:"_blank"}},[t._v("Download")])])])])]}))],2)])])])]:t._e()}))],2)]):t._e()],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"reviews__card--internal d-flex justify-content-between p-y-1 m-b-2"},[s("h3",[t._v("Shared with me")])])}],n=s("9523"),c=s.n(n),l=s("2f62"),d=s("e829");function m(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?m(Object(s),!0).forEach((function(e){c()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var f={props:["examUuid"],components:{Loading:d["a"]},data:function(){return{otpSecret:"",userType:"",form:{email:"",password:""},form2:{codePart1:"",codePart2:"",codePart3:"",codePart4:"",codePart5:"",codePart6:"",code:""},show:!0,error:"",errors:{},step1:!0,step2:!1,step3:!1,dismissSecs:8,dismissCountDown:0,showDismissibleAlert:!1,dashboardLink:""}},methods:u(u({},Object(l["b"])({getCurrentExam:"exams/getExamById",confirmEmail:"exams/confirmEmail",confirmOTP:"exams/confirmOTP"})),{},{selectType:function(t){this.userType=t},onSubmit1:function(t){var e=this;if(t.preventDefault(),this.errors=[],this.form.email){var s={uuid:this.examUuid,email:this.form.email};this.confirmEmail(s).then((function(t){t.error&&(e.error=t.error,e.toast("Error","".concat(t.error," ").concat(t.message?t.message:t.status),!0)),t.error||(e.toast("Success","".concat(t.message?t.message:t.status)),e.step1=!1,e.step2=!0)}))["catch"]((function(t){console.error(t);for(var s=0,r=Object.keys(t.errors);s<r.length;s++){var a=r[s];e.toast("Error","".concat(t.errors[a]),!0),e.error="Error! ".concat(t.errors[a])}e.showAlert()}))}else this.toast("Error","Please check all fields!",!0)},onSubmitStep2:function(t){var e=this;if(t.preventDefault(),this.errors=[],6===this.form2.code.length){var s={uuid:this.examUuid,email:this.form.email,otp:this.form2.code};this.confirmOTP(s).then((function(t){if(t.errors)for(var s=0,r=Object.keys(t.errors);s<r.length;s++){var a=r[s];e.errors=t.errors[a],e.toast("Error","Email successful confirmed!",!0)}t.errors||(e.toast("Success","".concat(t.message?t.message:t.status)),e.step2=!1,e.step3=!0)}))["catch"]((function(t){return e.toast("Error","Couldn't submit form! ".concat(t.message),!0)}))}else this.toast("Error","Code length incorrect!",!0)},onCodeChange:function(t){var e;if(this.errors=[],8===t.keyCode||46===t.keyCode)return t.preventDefault(),t.target.value="",void(null===(e=t.target.previousElementSibling)||void 0===e||e.focus());if(t.target.value.length<6&&(t.preventDefault(),t.target.value=t.key,t.target.nextElementSibling&&(t.target.nextElementSibling.value="",t.target.nextElementSibling.focus()),t.target.nextElementSibling||this.$refs.codesubmit.focus()),6===t.target.value.length)for(var s=1;s<=6;s++)this.form2["codePart"+s]=t.target.value.charAt(s-1);this.form2.code=this.form2.codePart1+this.form2.codePart2+this.form2.codePart3+this.form2.codePart4+this.form2.codePart5+this.form2.codePart6,13===t.keyCode&&this.onSubmitStep2(t)},resendOTP:function(){var t=this,e={uuid:this.examUuid,email:this.form.email};this.confirmEmail(e).then((function(e){return t.toast("Success","".concat(e.message))}))["catch"]((function(e){return t.toast("Error","".concat(e.message),!0)}))},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}}),computed:u(u({},Object(l["c"])({currentExam:"exams/currentExam"})),{},{loading:function(){return this.$store.getters.loading},logIn:function(){return this.$store.getters.logIn},itemsTotal:function(){var t=this.currentExam.exam_requests.map((function(t){var e=t.text_items.length+t.exam_request_files.length;return e||0}));return t}})},v=f,p=(s("7fac"),s("2877")),b=Object(p["a"])(v,i,o,!1,null,"054e8a12",null),h=b.exports,_={props:{examUuid:{type:String,required:!0}},components:{ExamReqeustsAuditorPortalExternal:h}},C=_,g=(s("f8d1"),Object(p["a"])(C,r,a,!1,null,"50688e8e",null));e["default"]=g.exports},d3c4:function(t,e,s){},f8d1:function(t,e,s){"use strict";s("7c92")}}]);
//# sourceMappingURL=chunk-653bc8c7.58ba8efe.js.map
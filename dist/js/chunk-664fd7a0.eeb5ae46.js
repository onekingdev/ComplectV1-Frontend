(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-664fd7a0"],{"1d8f":function(t,e,r){},"4f69":function(t,e,r){"use strict";var s=r("e4ac"),a=r.n(s);r.d(e,"default",(function(){return a.a}))},aedb:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card registration"},[r("div",{staticClass:"card-body white-card-body"},[r("div",{staticClass:"form"},[t._m(0),r("div",[t.error?r("div",{staticClass:"invalid-feedback d-block text-center m-b-20"},[t._v(t._s(t.error))]):t._e(),t.show?r("b-form",{on:{submit:t.onSubmit1}},[r("b-form-group",{staticClass:"m-b-20",attrs:{id:"input-group-1",label:"Email Address:","label-for":"input-1"}},[r("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:"Email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t.errors["user.email"]?r("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors["user.email"]))]):t._e()],1),r("b-button",{staticClass:"registration__btn w-100",attrs:{type:"submit",variant:"dark"}},[t._v("Reset")])],1):t._e()],1)])]),r("div",{staticClass:"card-footer"},[r("b-form-group",{staticClass:"text-center mb-0"},[r("router-link",{staticClass:"btn link",attrs:{to:"/users/sign_in"}},[t._v("Cancel")])],1)],1)])},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"registration-welcome"},[r("h1",{staticClass:"registration__title"},[t._v("Reset Password")]),r("p",{staticClass:"registration__subtitle registration__subtitle_forgot"},[t._v("Please enter the email address used to log into your account to receive a link to reset your password. If you no longer have access to that email account, please contact us at help@complect.com for assistance.")])])}],o=r("ba78"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:{"d-inline-block":t.inline}},[r("div",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.modalId,expression:"modalId"}],class:{"d-inline-block":t.inline}},[t._t("default")],2),r("b-modal",{staticClass:"fade",attrs:{id:t.modalId,title:"Reset status"}},[r("div",{staticClass:"d-block"},[r("p",[r("b-icon",{staticClass:"mr-3",attrs:{icon:"exclamation-triangle-fill",scale:"2",variant:"warning"}}),t._v("We've sent an email to the address used to log in to your Complect account. Please follow the instructions in the email to reset your password."),r("br"),t._v("Didn't receive an email?"),r("br"),t._v("Check your spam folder or try again.")],1)]),r("p",[r("b",[t._v("Do you want to continue?")])]),r("Errors",{attrs:{errors:t.errors.title}}),r("template",{slot:"modal-footer"},[r("button",{staticClass:"btn",on:{click:function(e){return t.$bvModal.hide(t.modalId)}}},[t._v("Cancel")]),r("button",{staticClass:"btn btn-dark",on:{click:t.submit}},[t._v("Send Email Again")])])],2)],1)},i=[],c=function(){return Math.random().toFixed(10).toString().replace(".","")},l={props:{inline:{type:Boolean,default:!0}},data:function(){return{modalId:"modal_".concat(c()),errors:[]}},methods:{submit:function(t){t.preventDefault(),this.errors=[],this.$emit("resetPasswordAgainConfirmed"),this.$bvModal.hide(this.modalId)}}},u=l,d=r("2877"),m=Object(d["a"])(u,n,i,!1,null,null,null),f=m.exports,p={components:{TopNavbar:o["a"],ResetPasswordModal:f},data:function(){return{userId:"",otpSecret:"",userType:"",form:{email:""},show:!0,error:"",errors:{}}},methods:{selectType:function(t){this.userType=t},onSubmit1:function(t){var e=this;t.preventDefault(),this.error="",this.errors=[];var r={email:this.form.email};this.$store.dispatch("resetEmail",r).then((function(t){if(t.errors){Object.keys(t.errors);for(var r=0,s=Object.keys(t.errors);r<s.length;r++){var a=s[r];"not_found"===a&&(e.error=t.errors[a]),e.errors=t.errors[a]}}t.errors||(e.toast("Success","".concat(t.message)),e.$router.push("/users/sign_in"))}))["catch"]((function(t){console.error(t),e.error="".concat(t.status," ").concat(t.statusText),e.toast("Error","".concat(t.status," ").concat(t.statusText),!0)}))}},computed:{}},v=p,b=r("4f69");function _(t){this["$style"]=b["default"].locals||b["default"]}var h=Object(d["a"])(v,s,a,!1,_,null,null);e["default"]=h.exports},b9f4:function(t,e,r){t.exports=r.p+"img/primary.70f6fdd7.svg"},ba78:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topbar"},[s("div",{staticClass:"logo"},[s("router-link",{staticClass:"link",attrs:{to:"/"}},[s("img",{staticClass:"logo__img logo__img_full",attrs:{src:r("b9f4")}}),s("svg",{staticClass:"logo__text",attrs:{width:"200",height:"30",xmlns:"http://www.w3.org/2000/svg"}},[s("text",{attrs:{x:"0",y:"25","font-family":"Varela"}},[t._v("complect")])])])],1),s("div",{staticClass:"navbar-nav mr-0"},[t.loggedIn&&t.userName?s("div",{staticClass:"dropdown dropdown-profile"},[t.userName?s("div",{staticClass:"dropdown-profile__btn",attrs:{"aria-expanded":t.isProfileMenuOpen},on:{click:function(e){t.isProfileMenuOpen=!t.isProfileMenuOpen}}},[s("span",[t._v(t._s(t.userName))]),s("b-icon",{staticClass:"m-l-1",attrs:{icon:"chevron-down"}})],1):t._e(),s("ul",{staticClass:"dropdown-menu",class:{show:t.isProfileMenuOpen},attrs:{"aria-labelledby":"profile_dropdown_btn"}},[s("li",{staticClass:"dropdown-item",on:{click:t.signOut}},[t._v("Sign Out")])])]):s("div",{staticClass:"ml-auto mr-3 mt-auto mb-auto"},[s("router-link",{staticClass:"btn btn btn-dark",attrs:{to:"/users/sign_in"}},[t._v("Sign in")])],1)])])},a=[],o={props:["userInfo"],data:function(){return{isProfileMenuOpen:!1}},methods:{removeCurrentUser:function(){localStorage.removeItem("app.currentUser"),localStorage.removeItem("app.currentUser.token"),localStorage.removeItem("app.currentUser.userType"),localStorage.removeItem("app.currentUser.paymentMethod"),window.location.href="".concat(window.location.origin)},signOut:function(){var t=this,e=localStorage.getItem("app.currentUser.token")?localStorage.getItem("app.currentUser.token"):"";fetch(this.$store.getters.backendUrl+"/api/users/sign_out",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:JSON.parse(e)}}).then((function(e){return e.ok||404!==e.status||t.removeCurrentUser(),e.json()})).then((function(e){t.removeCurrentUser()}))["catch"]((function(t){return console.error(t)}))}},computed:{loggedIn:function(){return this.$store.getters.loggedIn},currentUser:function(){return this.$store.getters.getUser},userName:function(){var t=this.currentUser.contact_first_name?"".concat(this.currentUser.contact_first_name," ").concat(this.currentUser.contact_last_name):"".concat(this.currentUser.first_name," ").concat(this.currentUser.last_name);return"undefined undefined"!==t?t:""},mainUrl:function(){return window.location.origin}}},n=o,i=(r("c94f"),r("2877")),c=Object(i["a"])(n,s,a,!1,null,"4d594f10",null);e["a"]=c.exports},c94f:function(t,e,r){"use strict";r("1d8f")},e4ac:function(t,e,r){}}]);
//# sourceMappingURL=chunk-664fd7a0.eeb5ae46.js.map
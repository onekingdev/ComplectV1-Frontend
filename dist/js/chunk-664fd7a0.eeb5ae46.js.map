{"version":3,"sources":["webpack:///./src/auth/ResetPassword/Page.vue?0de7","webpack:///./src/auth/ResetPassword/Page.vue?1d11","webpack:///./src/auth/ResetPassword/Modals/ResetPasswordModal.vue?45ab","webpack:///src/auth/ResetPassword/Modals/ResetPasswordModal.vue","webpack:///./src/auth/ResetPassword/Modals/ResetPasswordModal.vue?2429","webpack:///./src/auth/ResetPassword/Modals/ResetPasswordModal.vue","webpack:///src/auth/ResetPassword/Page.vue","webpack:///./src/auth/ResetPassword/Page.vue?4f7d","webpack:///./src/auth/ResetPassword/Page.vue","webpack:///./src/assets/primary.svg","webpack:///./src/auth/components/TopNavbar.vue?1d3e","webpack:///src/auth/components/TopNavbar.vue","webpack:///./src/auth/components/TopNavbar.vue?ed42","webpack:///./src/auth/components/TopNavbar.vue","webpack:///./src/auth/components/TopNavbar.vue?4ae6"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","_s","error","_e","on","onSubmit1","attrs","model","value","form","callback","$$v","$set","expression","errors","staticRenderFns","class","inline","directives","name","rawName","_t","modalId","title","slot","$event","$bvModal","hide","submit","component","injectStyles","context","locals","module","exports","loggedIn","userName","isProfileMenuOpen","show","signOut"],"mappings":"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","file":"js/chunk-664fd7a0.eeb5ae46.js","sourcesContent":["export { default } from  \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=style&index=0&module=true&lang=css&\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=style&index=0&module=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card registration\"},[_c('div',{staticClass:\"card-body white-card-body\"},[_c('div',{staticClass:\"form\"},[_vm._m(0),_c('div',[(_vm.error)?_c('div',{staticClass:\"invalid-feedback d-block text-center m-b-20\"},[_vm._v(_vm._s(_vm.error))]):_vm._e(),(_vm.show)?_c('b-form',{on:{\"submit\":_vm.onSubmit1}},[_c('b-form-group',{staticClass:\"m-b-20\",attrs:{\"id\":\"input-group-1\",\"label\":\"Email Address:\",\"label-for\":\"input-1\"}},[_c('b-form-input',{attrs:{\"id\":\"input-1\",\"type\":\"email\",\"placeholder\":\"Email\",\"required\":\"\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}}),(_vm.errors['user.email'])?_c('div',{staticClass:\"invalid-feedback d-block\"},[_vm._v(_vm._s(_vm.errors['user.email']))]):_vm._e()],1),_c('b-button',{staticClass:\"registration__btn w-100\",attrs:{\"type\":\"submit\",\"variant\":\"dark\"}},[_vm._v(\"Reset\")])],1):_vm._e()],1)])]),_c('div',{staticClass:\"card-footer\"},[_c('b-form-group',{staticClass:\"text-center mb-0\"},[_c('router-link',{staticClass:\"btn link\",attrs:{\"to\":\"/users/sign_in\"}},[_vm._v(\"Cancel\")])],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"registration-welcome\"},[_c('h1',{staticClass:\"registration__title\"},[_vm._v(\"Reset Password\")]),_c('p',{staticClass:\"registration__subtitle registration__subtitle_forgot\"},[_vm._v(\"Please enter the email address used to log into your account to receive a link to reset your password. If you no longer have access to that email account, please contact us at help@complect.com for assistance.\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'d-inline-block':_vm.inline}},[_c('div',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:(_vm.modalId),expression:\"modalId\"}],class:{'d-inline-block':_vm.inline}},[_vm._t(\"default\")],2),_c('b-modal',{staticClass:\"fade\",attrs:{\"id\":_vm.modalId,\"title\":\"Reset status\"}},[_c('div',{staticClass:\"d-block\"},[_c('p',[_c('b-icon',{staticClass:\"mr-3\",attrs:{\"icon\":\"exclamation-triangle-fill\",\"scale\":\"2\",\"variant\":\"warning\"}}),_vm._v(\"We've sent an email to the address used to log in to your Complect account. Please follow the instructions in the email to reset your password.\"),_c('br'),_vm._v(\"Didn't receive an email?\"),_c('br'),_vm._v(\"Check your spam folder or try again.\")],1)]),_c('p',[_c('b',[_vm._v(\"Do you want to continue?\")])]),_c('Errors',{attrs:{\"errors\":_vm.errors.title}}),_c('template',{slot:\"modal-footer\"},[_c('button',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.$bvModal.hide(_vm.modalId)}}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn btn-dark\",on:{\"click\":_vm.submit}},[_vm._v(\"Send Email Again\")])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  div(:class=\"{'d-inline-block':inline}\")\n    div(v-b-modal=\"modalId\" :class=\"{'d-inline-block':inline}\")\n      slot\n\n    b-modal.fade(:id=\"modalId\" title=\"Reset status\")\n      .d-block\n        p\n          b-icon.mr-3(icon=\"exclamation-triangle-fill\" scale=\"2\" variant=\"warning\")\n          | We've sent an email to the address used to log in to your Complect account. Please follow the instructions in the email to reset your password.\n          br\n          | Didn't receive an email?\n          br\n          | Check your spam folder or try again.\n      p\n        b Do you want to continue?\n      Errors(:errors=\"errors.title\")\n\n      template(slot=\"modal-footer\")\n        button.btn(@click=\"$bvModal.hide(modalId)\") Cancel\n        button.btn.btn-dark(@click=\"submit\") Send Email Again\n</template>\n\n<script>\n  const rnd = () => Math.random().toFixed(10).toString().replace('.', '')\n  export default {\n    props: {\n      inline: {\n        type: Boolean,\n        default: true\n      },\n    },\n    data() {\n      return {\n        modalId: `modal_${rnd()}`,\n        errors: []\n      }\n    },\n    methods: {\n      submit(e) {\n        e.preventDefault();\n        this.errors = [];\n\n        this.$emit('resetPasswordAgainConfirmed')\n        this.$bvModal.hide(this.modalId)\n      },\n    },\n  }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPasswordModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPasswordModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResetPasswordModal.vue?vue&type=template&id=7e228c12&lang=pug&\"\nimport script from \"./ResetPasswordModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ResetPasswordModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n  .card.registration\n    .card-body.white-card-body\n      //Loading\n      // #step1.form(v-if='!loading' :class=\"step1 ? 'd-block' : 'd-none'\")\n      .form\n        .registration-welcome\n          h1.registration__title Reset Password\n          p.registration__subtitle.registration__subtitle_forgot Please enter the email address used to log into your account to receive a link to reset your password. If you no longer have access to that email account, please contact us at help@complect.com for assistance.\n        div\n          .invalid-feedback.d-block.text-center.m-b-20(v-if=\"error\") {{ error }}\n          b-form(@submit='onSubmit1' v-if='show')\n            b-form-group#input-group-1.m-b-20(label='Email Address:' label-for='input-1')\n              b-form-input#input-1(v-model='form.email' type='email' placeholder='Email' required)\n              .invalid-feedback.d-block(v-if=\"errors['user.email']\") {{ errors['user.email'] }}\n            b-button.registration__btn.w-100(type='submit' variant='dark') Reset\n    .card-footer\n      b-form-group.text-center.mb-0\n        router-link.btn.link(to='/users/sign_in') Cancel\n</template>\n\n<script>\n  // import Loading from '@/common/Loading/Loading'\n  import TopNavbar from \"../components/TopNavbar\";\n  import ResetPasswordModal from './Modals/ResetPasswordModal'\n\n  export default {\n    components: {\n      // Loading,\n      TopNavbar,\n      ResetPasswordModal,\n    },\n    data() {\n      return {\n        userId: '',\n        otpSecret: '',\n        userType: '',\n        form: {\n          email: '',\n        },\n        show: true,\n        error: '',\n        errors: {},\n      }\n    },\n    methods: {\n      selectType(type){\n        this.userType = type\n      },\n      onSubmit1(event) {\n        event.preventDefault()\n        // clear errors\n        this.error = ''\n        this.errors = []\n\n        const data = {\n          \"email\": this.form.email,\n        }\n\n        this.$store.dispatch('resetEmail', data)\n          .then((response) => {\n            if (response.errors) {\n              const properties = Object.keys(response.errors);\n              for (const type of Object.keys(response.errors)) {\n                if (type === 'not_found') {\n                  this.error = response.errors[type]\n                }\n\n                this.errors = response.errors[type]\n                // this.toast('Error', `Form has errors! Please recheck fields! ${error}`)\n                // Object.keys(response.errors[type]).map(prop => response.errors[prop].map(err => this.toast(`Error`, `${prop}: ${err}`)))\n              }\n            }\n            if (!response.errors) {\n              // this.userId = response.userid\n              // this.toast('Success', `${response.message}`)\n\n              // open step 2\n              // this.step1 = false\n              // this.step2 = true\n              this.toast('Success', `${response.message}`)\n              // window.location.href = `${window.location.origin}/users/sign_in`\n              this.$router.push(`/users/sign_in`)\n            }\n\n            // setTimeout(() => {\n            //   window.location.href = `/users/sign_in`;\n            // }, 3000)\n          })\n          .catch((error) => {\n            console.error(error)\n            this.error = `${error.status} ${error.statusText}`\n            this.toast('Error', `${error.status} ${error.statusText}`, true)\n          })\n      },\n    },\n    computed: {\n      // loading() {\n      //   return this.$store.getters.loading;\n      // },\n    },\n  }\n</script>\n\n<style module>\n  @import \"../styles.css\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Page.vue?vue&type=template&id=10420f6e&lang=pug&\"\nimport script from \"./Page.vue?vue&type=script&lang=js&\"\nexport * from \"./Page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Page.vue?vue&type=style&index=0&module=true&lang=css&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/primary.70f6fdd7.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"topbar\"},[_c('div',{staticClass:\"logo\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":\"/\"}},[_c('img',{staticClass:\"logo__img logo__img_full\",attrs:{\"src\":require(\"@/assets/primary.svg\")}}),_c('svg',{staticClass:\"logo__text\",attrs:{\"width\":\"200\",\"height\":\"30\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('text',{attrs:{\"x\":\"0\",\"y\":\"25\",\"font-family\":\"Varela\"}},[_vm._v(\"complect\")])])])],1),_c('div',{staticClass:\"navbar-nav mr-0\"},[(_vm.loggedIn && _vm.userName)?_c('div',{staticClass:\"dropdown dropdown-profile\"},[(_vm.userName)?_c('div',{staticClass:\"dropdown-profile__btn\",attrs:{\"aria-expanded\":_vm.isProfileMenuOpen},on:{\"click\":function($event){_vm.isProfileMenuOpen = !_vm.isProfileMenuOpen}}},[_c('span',[_vm._v(_vm._s(_vm.userName))]),_c('b-icon',{staticClass:\"m-l-1\",attrs:{\"icon\":\"chevron-down\"}})],1):_vm._e(),_c('ul',{staticClass:\"dropdown-menu\",class:{ show: _vm.isProfileMenuOpen },attrs:{\"aria-labelledby\":\"profile_dropdown_btn\"}},[_c('li',{staticClass:\"dropdown-item\",on:{\"click\":_vm.signOut}},[_vm._v(\"Sign Out\")])])]):_c('div',{staticClass:\"ml-auto mr-3 mt-auto mb-auto\"},[_c('router-link',{staticClass:\"btn btn btn-dark\",attrs:{\"to\":\"/users/sign_in\"}},[_vm._v(\"Sign in\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  .topbar\n    .logo\n      router-link.link(to='/')\n        //a.logo__link(href=\"/\")\n        img.logo__img.logo__img_full(src='@/assets/primary.svg')\n        svg.logo__text(width='200' height='30' xmlns='http://www.w3.org/2000/svg')\n          text(x='0' y='25' font-family='Varela') complect\n    .navbar-nav.mr-0\n      .dropdown.dropdown-profile(v-if=\"loggedIn && userName\")\n        .dropdown-profile__btn(v-if=\"userName\" @click=\"isProfileMenuOpen = !isProfileMenuOpen\" :aria-expanded=\"isProfileMenuOpen\")\n          span {{ userName }}\n          b-icon.m-l-1(icon=\"chevron-down\")\n        ul.dropdown-menu(aria-labelledby=\"profile_dropdown_btn\" :class=\"{ show: isProfileMenuOpen }\")\n          li(class=\"dropdown-item\" @click=\"signOut\") Sign Out\n      .ml-auto.mr-3.mt-auto.mb-auto(v-else)\n        router-link.btn.btn.btn-dark(to='/users/sign_in') Sign in\n</template>\n\n<script>\n    export default {\n      props: ['userInfo'],\n      data() {\n        return {\n          isProfileMenuOpen: false,\n        }\n      },\n      methods: {\n        removeCurrentUser() {\n          localStorage.removeItem('app.currentUser');\n          localStorage.removeItem('app.currentUser.token');\n          localStorage.removeItem('app.currentUser.userType');\n          localStorage.removeItem('app.currentUser.paymentMethod');\n          window.location.href = `${window.location.origin}`\n        },\n        signOut() {\n          const accessTokenLocalStorage = localStorage.getItem('app.currentUser.token')\n            ? localStorage.getItem('app.currentUser.token')\n            : ''\n\n          fetch(this.$store.getters.backendUrl + '/api/users/sign_out', {\n            method: 'DELETE',\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json',\n              'Authorization': JSON.parse(accessTokenLocalStorage)\n            }\n          })\n          .then(response => {\n            if (!response.ok && response.status === 404) {\n              // Remove current user if user not found\n              this.removeCurrentUser();\n            }\n\n            return response.json()\n          })\n          .then(data => {\n            this.removeCurrentUser();\n          })\n          .catch(error => console.error(error))\n        }\n      },\n      computed: {\n        loggedIn() {\n          return this.$store.getters.loggedIn;\n        },\n        currentUser() {\n          return this.$store.getters.getUser;\n        },\n        userName() {\n          const fullName = this.currentUser.contact_first_name\n            ? `${this.currentUser.contact_first_name} ${this.currentUser.contact_last_name}`\n            : `${this.currentUser.first_name} ${this.currentUser.last_name}`\n          return (fullName !== 'undefined undefined') ? fullName : ''\n        },\n        mainUrl() {\n          return window.location.origin\n        }\n      },\n    }\n</script>\n\n<style scoped>\n  @import \"../styles.css\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopNavbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopNavbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopNavbar.vue?vue&type=template&id=4d594f10&scoped=true&lang=pug&\"\nimport script from \"./TopNavbar.vue?vue&type=script&lang=js&\"\nexport * from \"./TopNavbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TopNavbar.vue?vue&type=style&index=0&id=4d594f10&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d594f10\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopNavbar.vue?vue&type=style&index=0&id=4d594f10&scoped=true&lang=css&\""],"sourceRoot":""}
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ab22f83","chunk-14e79c4b","chunk-638de742"],{"04aa":function(t){t.exports=JSON.parse('{"billingPlans":[{"id":1,"name":"Standard","description":"Try out our product for free!","coast":"FREE","coastMonthlyDiscount":"FREE","coastMonthlyDiscountFormatted":"FREE","coastMonthly":"FREE","coastMonthlyFormatted":"FREE","coastAnnually":"FREE","coastAnnuallyFormatted":"FREE","users":"1 admin user","usersCount":0,"additionalUserMonthly":0,"additionalUserAnnually":0,"features":["Compliance Calendar","Project Management"]},{"id":2,"name":"All Access Membership","description":"Full access to all features and resources","coast":"$400/year","coastMonthlyDiscount":0,"coastMonthlyDiscountFormatted":"$0","coastMonthly":0,"coastMonthlyFormatted":"$0","coastAnnually":400,"coastAnnuallyFormatted":"$400/year","users":"3 free users plus $15/mo per person","usersCount":3,"additionalUserMonthly":15,"additionalUserAnnually":120,"features":["Compliance Calendar","Project Management","Job Board","Specialist Marketplace Profile","Automated Billing","Client Account Access"]}]}')},1752:function(t,e,s){t.exports=s.p+"img/mail.bf25b3ef.svg"},"23b4":function(t,e,s){},"2c2b":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"registration-onboarding",class:{full:t.isSidebarOpen}},[t.overlay.active?s("Overlay"):t._e(),t.isSidebarOpen?t._e():s("div",{staticClass:"col m-x-auto"},[s("div",{staticClass:"card"},[t._m(0),s("div",{staticClass:"card-body white-card-body borderless onboarding"},[s("Steps",{attrs:{steps:t.steps,currentStep:t.currentStep}}),t.show?s("b-form",{on:{submit:t.onSubmit,change:t.onChangeInput}},[s("div",{staticClass:"form",class:1===t.currentStep?"d-block":"d-none",attrs:{id:"step1"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h3",{staticClass:"onboarding__title m-b-10"},[t._v("What jurisdiction does your expertise extend to?")]),s("p",{staticClass:"onboarding__sub-title"},[t._v("Providing your jurisdiction(s) will help find clients within your domain of expertise. Select all that apply.")])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-6"},[s("b-form-group",{attrs:{id:"inputS-group-1",label:"Jurisdiction","label-for":"selectS-1","label-class":"onboarding__label required"}},[s("div",{class:{invalid:t.errors.jurisdiction_ids}},[s("multiselect",{attrs:{id:"selectS-1",options:t.staticCollection.jurisdictions,multiple:!0,"show-labels":!1,"track-by":"name",label:"name",placeholder:"Select jurisdiction",required:""},model:{value:t.form.specialist.jurisdiction_ids,callback:function(e){t.$set(t.form.specialist,"jurisdiction_ids",e)},expression:"form.specialist.jurisdiction_ids"}}),t.errors.jurisdiction_ids?s("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors.jurisdiction_ids[0]))]):t._e()],1)])],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-6"},[s("b-form-group",{staticClass:"m-b-40",attrs:{id:"inputB-group-7",label:"Your Time Zone","label-for":"selectB-7","label-class":"onboarding__label required"}},[s("div",{class:{invalid:t.errors.time_zone}},[s("multiselect",{attrs:{id:"selectB-7",options:t.staticCollection.timezones,multiple:!1,"show-labels":!1,"track-by":"name",label:"name",placeholder:"Select Time Zone",required:""},model:{value:t.form.specialist.time_zone,callback:function(e){t.$set(t.form.specialist,"time_zone",e)},expression:"form.specialist.time_zone"}}),t.errors.time_zone?s("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors.time_zone[0]))]):t._e()],1)])],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h3",{staticClass:"onboarding__title m-b-10"},[t._v("What industries do you serve?")]),s("p",{staticClass:"onboarding__sub-title"},[t._v("Select all that apply:")])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-6"},[s("b-form-group",{attrs:{id:"inputS-group-4",label:"Industry","label-for":"selectS-4","label-class":"onboarding__label required"}},[s("div",{class:{invalid:t.errors.industry_ids}},[s("multiselect",{attrs:{id:"selectS-4",options:t.staticCollection.industries,multiple:!0,"show-labels":!1,"track-by":"name",label:"name",placeholder:"Select Industry",required:""},on:{input:t.onChangeIndustries},model:{value:t.form.specialist.industry_ids,callback:function(e){t.$set(t.form.specialist,"industry_ids",e)},expression:"form.specialist.industry_ids"}}),t.errors.industry_ids?s("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors.industry_ids[0]))]):t._e()],1)])],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-6"},[s("b-form-group",{staticClass:"m-b-40",attrs:{id:"inputS-group-5",label:"Sub-Industry","label-for":"selectS-5","label-class":"onboarding__label"}},[s("div",{class:{invalid:t.errors.sub_industries}},[s("multiselect",{attrs:{id:"selectS-5",options:t.subIndustryOptions,multiple:!0,"show-labels":!1,"track-by":"name",label:"name",placeholder:"Select Sub-Industry",required:""},model:{value:t.form.specialist.sub_industry_ids,callback:function(e){t.$set(t.form.specialist,"sub_industry_ids",e)},expression:"form.specialist.sub_industry_ids"}}),t.errors.sub_industries?s("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors.sub_industries[0]))]):t._e()],1)])],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h3",{staticClass:"onboarding__title"},[t._v("Are you a former regulator?")]),s("p",{staticClass:"onboarding__sub-title"},[t._v("Select all that apply:")])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("b-form-group",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.ariaDescribedby;return[s("b-form-radio-group",{attrs:{options:t.regulatorOptions,"aria-describedby":i,name:"radios-stacked",stacked:""},model:{value:t.form.specialist.former_regulator,callback:function(e){t.$set(t.form.specialist,"former_regulator",e)},expression:"form.specialist.former_regulator"}})]}}],null,!1,2745362135)})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-11 offset-lg-1"},[t.form.specialist.former_regulator?s("b-form-group",{attrs:{label:"Where did you work?","label-for":"selectS-6","label-class":"onboarding__label pb-0"}},[s("div",{class:{invalid:t.errors.specialist_other}},[s("multiselect",{attrs:{id:"selectS-6",options:t.specialistOtherOptions,multiple:!0,"show-labels":!1,"track-by":"name",label:"name","tag-placeholder":"Add this as new tag",placeholder:"Search or add a tag",taggable:!0,required:""},on:{tag:t.addTag},model:{value:t.specialist_other,callback:function(e){t.specialist_other=e},expression:"specialist_other"}}),t.errors.specialist_other?s("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors.specialist_other[0]))]):t._e()],1)]):t._e()],1)])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"text-right m-t-30"},[s("b-button",{attrs:{type:"button",variant:"dark"},on:{click:function(e){return t.nextStep(2)}}},[t._v("Next"),s("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-right"}})],1)],1)])])]),s("div",{staticClass:"form",class:2===t.currentStep?"d-block":"d-none",attrs:{id:"step2"}},[s("div",{staticClass:"d-flex justify-content-between"},[s("div",{staticClass:"text-left"},[s("h3",{staticClass:"onboarding__title"},[t._v("Tell us more about yourself:")]),s("p",{staticClass:"onboarding__sub-title"},[t._v("Enter any relevant skills to better match you with suitable projects.")])])]),s("b-form-group",{staticClass:"onboarding-group m-b-30",attrs:{label:"Skills","label-for":"selectS-7","label-class":"onboarding__label"}},[s("div",{class:{invalid:t.errors.skill_names}},[s("multiselect",{attrs:{id:"selectS-7",options:t.skillsTags,multiple:!0,"show-labels":!1,"track-by":"name",label:"name","tag-placeholder":"Add this as new tag",placeholder:"Search or add a tag",taggable:!0,required:""},on:{tag:t.addSkillsTag},model:{value:t.form.specialist.skill_names,callback:function(e){t.$set(t.form.specialist,"skill_names",e)},expression:"form.specialist.skill_names"}}),t.errors.skill_names?s("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors.skill_names))]):t._e()],1)]),s("h3",{staticClass:"onboarding__title"},[t._v("What's your experience?")]),t.errors.experience?s("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors.experience[0]))]):t._e(),s("label",{staticClass:"onboarding__sub-title label required"},[t._v("Select one that best matches your level of your expertise.")]),s("b-form-group",{staticClass:"onboarding-group m-b-30"},[s("b-button",{staticClass:"exp__btn",class:"0"===t.form.specialist.experience?"active":"",attrs:{variant:"default",type:"button","data-toggle":"button","aria-pressed":"false",autocomplete:"off"},on:{click:function(e){return t.onexperienceChange(e,"0")}}},[s("span",{staticClass:"exp__btn--main"},[t._v("Junior")]),s("span",{staticClass:"exp__btn--sub"},[t._v("Beginner consultant with some industry experience.")])]),s("b-button",{staticClass:"exp__btn",class:"1"===t.form.specialist.experience?"active":"",attrs:{variant:"default",type:"button","data-toggle":"button","aria-pressed":"false",autocomplete:"off"},on:{click:function(e){return t.onexperienceChange(e,"1")}}},[s("span",{staticClass:"exp__btn--main"},[t._v("Intermediate")]),s("span",{staticClass:"exp__btn--sub"},[t._v("Good experience and solid knowledge of the industry.")])]),s("b-button",{staticClass:"exp__btn",class:"2"===t.form.specialist.experience?"active":"",attrs:{variant:"default",type:"button","data-toggle":"button","aria-pressed":"false",autocomplete:"off"},on:{click:function(e){return t.onexperienceChange(e,"2")}}},[s("span",{staticClass:"exp__btn--main"},[t._v("Expert")]),s("span",{staticClass:"exp__btn--sub"},[t._v("Deep understanding of industry with varied experience.")])])],1),s("h3",{staticClass:"onboarding__title m-b-10"},[t._v("Upload your resume:")]),s("p",{staticClass:"onboarding__sub-title"},[t._v("Optional")]),t.file?t._e():s("label",{staticClass:"dropbox w-100",attrs:{for:"upload-file"}},[s("input",{ref:"file",staticClass:"input-file",attrs:{type:"file",id:"upload-file",accept:"application/pdf"},on:{change:t.selectFile}}),t.file?t._e():s("p",[t._v("Drop resume here OR"),s("button",{staticClass:"btn btn-default"},[t._v("Upload")])]),t.file?s("p",[t._v("Selected file: "+t._s(t.file.name))]):t._e()]),t.file?s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 m-b-1"},[s("div",{staticClass:"file-card"},[s("div",[s("b-icon",{staticClass:"file-card__icon",attrs:{icon:"file-earmark-text-fill"}})],1),s("div",{staticClass:"ml-0 mr-auto"},[s("p",{staticClass:"file-card__name"},[t._v(t._s(t.file.name))]),s("a",{staticClass:"file-card__link link",attrs:{href:t.file.file_url,target:"_blank"}},[t._v("Download")])]),s("div",{staticClass:"ml-auto my-auto align-self-start actions"},[s("b-dropdown",{staticClass:"m-0 p-0",attrs:{size:"sm",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("b-icon",{attrs:{icon:"three-dots"}})]},proxy:!0}],null,!1,2038261878)},[s("b-dropdown-item",{staticClass:"delete",on:{click:t.removeFile}},[t._v("Delete File")])],1)],1)])])]):t._e(),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"text-right m-t-30"},[s("b-button",{staticClass:"mr-2",attrs:{type:"button",variant:"default"},on:{click:function(e){return t.prevStep(1)}}},[s("b-icon",{staticClass:"mr-2",attrs:{icon:"chevron-left"}}),t._v("Go Back")],1),s("b-button",{attrs:{type:"button",variant:"dark"},on:{click:function(e){return t.nextStep(3)}}},[t._v("Next"),s("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-right"}})],1)],1)])])],1),s("div",{staticClass:"form",class:3===t.currentStep?"d-block":"d-none",attrs:{id:"step3"}},[s("SelectPlan",{attrs:{userType:t.userType},on:{goBack:function(e){return t.prevStep(2)},openDetails:t.openDetails}})],1)]):t._e()],1)])]),s("SelectPlanPaymentAndSummary",{attrs:{userType:t.userType,isSidebarOpen:t.isSidebarOpen,selectedPlan:t.selectedPlan},on:{sidebarToggle:function(e){t.isSidebarOpen=e}}})],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header"},[s("h2",{staticClass:"registration-onboarding__title"},[t._v("Set Up Your Account")])])}],r=s("278c"),o=s.n(r),n=s("ba78"),l=s("9065"),c=s("8e5f"),d=s.n(c),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col mb-2 text-center"},[s("h2",{staticClass:"mb-3"},[t._v("Choose your Membership Plan")]),s("p",{staticClass:"onboarding__sub-title m-b-10"},[t._v("Want to skip selecting a plan?")]),s("b-form-group",{staticClass:"m-b-40"},[s("b-button",{attrs:{type:"button",variant:"outline-primary"},on:{click:function(e){return t.$emit("openDetails",t.freePlan)}}},[t._v("Continue With Free Plan")])],1)],1)]),s("div",{staticClass:"billing-plans"},t._l(t.billingPlans,(function(e,i){return s("b-card",{key:i,staticClass:"billing-plan billing-plan_specialist",class:[0===i?"billing-plan_default":"",1===i?"billing-plan_high":""]},[s("b-button",{staticClass:"m-b-20",attrs:{type:"button",variant:1===e.id?"dark":"secondary"},on:{click:function(s){return t.$emit("openDetails",e)}}},[t._v(t._s(1===e.id?"Current":"Select")+" Plan")]),s("b-card-text",{staticClass:"billing-plan__common-info"},[s("h4",{staticClass:"billing-plan__name"},[t._v(t._s(e.name))]),s("p",{staticClass:"billing-plan__descr"},[t._v(t._s(e.description))]),s("h5",{staticClass:"billing-plan__coast"},[t._v(t._s("annually"===t.billingTypeSelected?e.coastAnnuallyFormatted:e.coastMonthlyFormatted))])]),s("hr"),s("ul",{staticClass:"list-unstyled billing-plan__list"},t._l(e.features,(function(e){return s("li",{staticClass:"billing-plan__item"},[s("b-icon",{staticClass:"billing-plan__icon",attrs:{icon:"check-circle-fill",variant:"success"}}),t._v(t._s(e))],1)})),0)],1)})),1),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"text-right m-t-30"},[s("b-button",{staticClass:"mr-2",attrs:{type:"button",variant:"default"},on:{click:function(e){return t.$emit("goBack")}}},[s("b-icon",{staticClass:"mr-2",attrs:{icon:"chevron-left"}}),t._v("Go Back")],1)],1)])])])},p=[],m=s("04aa"),f={props:{userType:{type:String,required:!0}},data:function(){return{billingTypeSelected:"annually",billingTypeOptions:[{text:"Billed Annually",value:"annually"},{text:"Billed Monthly",value:"monthly"}],billingPlans:m.billingPlans,currentPlan:{id:null,status:!1},openId:null,isSidebarOpen:!1,selectedPlan:null,overlay:!1,overlayStatus:"",overlayStatusText:""}},methods:{},computed:{freePlan:function(){return this.billingPlans.find((function(t){return 1===t.id}))}}},b=f,h=s("2877"),_=Object(h["a"])(b,u,p,!1,null,"4db0d670",null),v=_.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isSidebarOpen?s("div",{staticClass:"select-plan"},[s("div",{staticClass:"card registration-card"},[s("div",{staticClass:"borderless m-b-40 px-0 pt-0"},[s("div",{staticClass:"d-flex justify-content-between m-b-40"},[s("b-button",{attrs:{variant:"default"},on:{click:function(e){return t.$emit("sidebarToggle",!1)}}},[s("b-icon",{staticClass:"mr-2",attrs:{icon:"chevron-left",variant:"dark"}}),t._v("Back")],1)],1),t._m(0)]),s("BillingDetails",{attrs:{billingTypeSelected:t.billingTypeSelected,billingTypeOptions:t.billingTypeOptions,plan:t.selectedPlan},on:{updateBiliing:t.onBiliingChange,updateAdditionalUsers:t.updateAdditionalUsers,complitedPaymentMethod:t.complitedPaymentMethod}})],1),t.isSidebarOpen?s("PurchaseSummary",{attrs:{billingTypeSelected:t.billingTypeSelected,billingTypeOptions:t.billingTypeOptions,plan:t.selectedPlan,additionalUsers:t.additionalUsers,disabled:t.disabled},on:{complitePurchaseConfirmed:t.selectPlanAndComplitePurchase}}):t._e()],1):t._e()},y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"registration-card__header"},[s("h2",{staticClass:"registration-card__main-title"},[t._v("Time to power up")]),s("p",{staticClass:"registration-card__main-subtitle"},[t._v("Review and confirm your subscription")])])}],C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("div",{staticClass:"registration-card-header p-y-20 px-0"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h4",{staticClass:"registration-card-header__title"},[t._v(t._s(t.planComputed.name))]),s("p",{staticClass:"registration-card-header__subtitle"},[t._v(t._s(t.planComputed.description))])]),s("div",{staticClass:"col text-right"},[s("h4",{staticClass:"registration-card-header__title"},[t._v(t._s("annually"===t.billingTypeSelected?t.planComputed.coastAnnuallyFormatted:t.planComputed.scratched))])])])]),s("AddPaymentMethod",{attrs:{billingTypeSelected:t.billingTypeSelected,billingTypeOptions:t.billingTypeOptions,plan:t.plan,userType:t.userType},on:{complitedPaymentMethod:t.complitedPaymentMethod}})],1)},w=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"registration-card-header p-b-20 px-0"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h4",{staticClass:"registration-card__main-title"},[t._v("Plan")])])])])}],k=s("d0a0"),S={props:["billingTypeSelected","billingTypeOptions","plan"],components:{AddPaymentMethod:k["a"]},data:function(){return{userType:"specialist",additionalUsersCount:0}},methods:{onBiliingChange:function(t){this.$emit("updateBiliing",t)},complitedPaymentMethod:function(t){this.$emit("complitedPaymentMethod",t)}},computed:{planComputed:function(){return this.plan}}},x=S,P=Object(h["a"])(x,C,w,!1,null,null,null),T=P.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card purchase-summary"},[s("div",{staticClass:"card-header purchase-summary-header"},[t._v("Purchase Summary")]),s("div",{staticClass:"card-body purchase-summary-body p-y-20"},[s("Coupon",{on:{couponApplied:t.addDiscount}})],1),s("div",{staticClass:"card-body purchase-summary-body borderless p-40 pb-0"},[s("dl",{staticClass:"row mb-0"},[s("dt",{staticClass:"col-7"},[t._v(t._s(t.planComputed.name)+" plan")]),s("dd",{staticClass:"col-5 text-right font-weight-bold"},[t._v(t._s("annually"===t.billingTypeSelected?t.planComputed.coastAnnuallyFormatted:t.planComputed.coastMonthlyFormatted))])]),t.percent_off||t.amount_off?s("dl",{staticClass:"row mb-0"},[s("div",{staticClass:"col-6 text-success"},[t._v("Discount")]),t.percent_off?s("dd",{staticClass:"col-6 text-right text-success"},[t._v(t._s(t.percent_off)+"%")]):t._e(),t.amount_off?s("dd",{staticClass:"col-6 text-right text-success"},[t._v("$"+t._s(t.amount_off))]):t._e()]):t._e(),s("hr"),s("dl",{staticClass:"row mb-0 purchase-summary__total"},[t._m(0),s("dd",{staticClass:"col-6 text-right m-b-0"},[s("b",[t._v(t._s(t.planComputed.total))])])])]),s("div",{staticClass:"card-footer purchase-summary-footer borderless p-40"},[s("b-button",{staticClass:"purchase-summary__btn",attrs:{type:"button",variant:"dark",disabled:t.disabled},on:{click:t.complitePurchase}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"lds-ring lds-ring-small"},[s("div"),s("div"),s("div"),s("div")]),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[t._v("Complete Purchase")])])],1)])},$=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("dt",{staticClass:"col-6"},[s("b",[t._v("Total")])])}],E=s("9523"),j=s.n(E),I=s("6cee");function A(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function F(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?A(Object(s),!0).forEach((function(e){j()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):A(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var M={props:["billingTypeSelected","billingTypeOptions","plan","additionalUsers","disabled"],components:{Coupon:I["a"]},data:function(){return{loading:!1,percent_off:0,amount_off:null,coupon_id:""}},methods:{calcAdditionalUserCoast:function(t,e,s,i,a){var r;return e<=s?"+$0":("monthly"===t&&(r=(e-s)*i),"annually"===t&&(r=(e-s)*a),"FREE0"!==r?"+$".concat(r):"FREE")},countTotalCoast:function(t,e,s,i,a,r,o){var n,l=0,c=this.percent_off,d=this.amount_off;return"monthly"===t&&(i>a&&(l=(i-a)*r),n=e+l),"annually"===t&&(i>a&&(l=(i-a)*o),n=s+l),c&&"FREE0"!==n&&(n=(n-n/100*c).toFixed(2)),d&&"FREE0"!==n&&(n=(n-d).toFixed(2)),"FREE0"!==n?"+$".concat(n):"FREE"},complitePurchase:function(){var t=this.planComputed;this.coupon_id&&(t.coupon_id=this.coupon_id),this.$emit("complitePurchaseConfirmed",t)},addDiscount:function(t){this.coupon_id=t.coupon_id,this.percent_off=t.percent_off,this.amount_off=t.amount_off/100}},computed:{planComputed:function(){return F(F({},this.plan),{},{total:this.countTotalCoast(this.billingTypeSelected,this.plan.coastMonthly,this.plan.coastAnnually,this.additionalUsers,this.plan.usersCount,this.plan.additionalUserMonthly,this.plan.additionalUserAnnually)})}}},D=M,U=Object(h["a"])(D,O,$,!1,null,null,null),N=U.exports,B={props:["isSidebarOpen","selectedPlan","userType"],components:{BillingDetails:T,PurchaseSummary:N},data:function(){return{billingTypeSelected:"annually",billingTypeOptions:[{text:"Billed Annually",value:"annually"},{text:"Billed Monthly",value:"monthly"}],additionalUsers:0,paymentSourceId:null,disabled:!0}},methods:{onBiliingChange:function(t){this.billingTypeSelected=t},updateAdditionalUsers:function(t){this.additionalUsers=t},complitedPaymentMethod:function(t){this.paymentSourceId=t.id,this.disabled=!1},selectPlanAndComplitePurchase:function(t){var e,s=this;this.errors=[],this.$store.dispatch("setOverlay",{active:!0,message:"Setting up account",status:""}),1===t.id&&(e="free"),2===t.id&&(e="specialist_pro");var i={userType:this.userType,planName:e,paymentSourceId:this.paymentSourceId};t.coupon_id&&(i.coupon_id=t.coupon_id),this.$store.dispatch("updateSubscribe",i).then((function(t){if(t.errors)throw new Error("Response error!");t.errors||(s.$store.dispatch("setOverlay",{active:!0,message:"Setting up account",status:"success"}),s.redirect())}))["catch"]((function(t){console.error(t),s.$store.dispatch("setOverlay",{active:!0,message:"Payment failed to process.",status:"error"}),setTimeout((function(){return s.$store.dispatch("setOverlay",{active:!1,message:"",status:""})}),3e3)}))["finally"]((function(){return s.disabled=!0}))},redirect:function(){var t="business"===this.userType?"/business":"/specialist";setTimeout((function(){window.location.href="".concat(t)}),3e3)}}},R=B,z=Object(h["a"])(R,g,y,!1,null,null,null),L=z.exports,q=s("99d8");function J(t,e){var s="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=W(t))||e&&t&&"number"===typeof t.length){s&&(t=s);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,n=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return o=t.done,t},e:function(t){n=!0,r=t},f:function(){try{o||null==s["return"]||s["return"]()}finally{if(n)throw r}}}}function W(t,e){if(t){if("string"===typeof t)return V(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?V(t,e):void 0}}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}var Y=function(){return{specialist:{jurisdiction_ids:[],time_zone:"",industry_ids:[],sub_industry_ids:[],former_regulator:!1,skill_names:[],experience:null,resume:null}}},G={props:["userInfo"],components:{Steps:l["a"],TopNavbar:n["a"],Multiselect:d.a,SelectPlan:v,SelectPlanPaymentAndSummary:L,Overlay:q["a"]},created:function(){var t=localStorage.getItem("app.currentUser"),e=JSON.parse(t);if(t&&(this.form.specialist.industry_ids=e.industries||[],this.onChangeIndustries(e.industries),this.form.specialist.jurisdiction_ids=e.jurisdictions||[],this.form.specialist.time_zone={name:e.time_zone,value:e.time_zone},this.form.specialist.skill_names=e.skills||[],this.form.specialist.experience=e.experience,e.resume_url&&(this.file={name:"Uploaded File",file_url:e.resume_url}),e.specialist_other)){this.form.specialist.former_regulator=!0;var s=e.specialist_other.split(", ");this.specialist_other=s.map((function(t){return{name:t,value:t}})),this.form.specialist.specialist_other=this.specialist_other}var i=new URL(window.location),a=+i.searchParams.get("step");this.currentStep=a||1},data:function(){return{userType:"specialist",steps:["Background","Skills and education","Choose plan"],form:Y(),subIndustryOptions:[],regulatorOptions:[{text:"No",value:!1},{text:"Yes",value:!0}],specialist_other:[],specialistOtherOptions:[],regulatorOptionsTags:[],skillsTags:[],file:null,notify:{show:"show",mainText:"Verify information",subText:"The following fields were filled in based on the CRD number you provided. Please carefully review each field before proceeding.",variant:"primary",dismissible:!0,icon:null,scale:2},show:!0,errors:{},currentStep:1,billingTypeSelected:"annually",billingTypeOptions:[{text:"Billed Annually",value:"annually"},{text:"Billed Monthly",value:"monthly"}],openId:null,isSidebarOpen:!1,selectedPlan:[],additionalUsers:0,paymentSourceId:null,disabled:!0,currentPlan:{id:null,status:!1}}},methods:{addTag:function(t){var e={name:t,code:t.substring(0,2)+Math.floor(1e7*Math.random())};this.regulatorOptionsTags.push(e),this.specialistOtherOptions.push(e)},addSkillsTag:function(t){var e={name:t,code:t.substring(0,2)+Math.floor(1e7*Math.random())};this.skillsTags.push(e),this.form.skill_names.push(e)},onexperienceChange:function(t,e){document.querySelectorAll(".exp__btn").forEach((function(t){return t.classList.remove("active")})),t.target.classList.contains("exp__btn")?t.target.classList.toggle("active"):t.target.closest(".exp__btn").classList.toggle("active"),this.form.specialist.experience=e},onSubmit:function(t){t.preventDefault()},navigation:function(t){var e=new URL(window.location);e.searchParams.set("step",t),window.history.pushState({},"",e),this.currentStep=t},prevStep:function(t){this.navigation(t)},applyData:function(t,e,s){s.length?s.forEach((function(s){return t.append(e,s)})):t.append(e,s)},nextStep:function(t){var e=this;for(var s in this.errors)delete this.errors[s];if(!this.form.specialist.former_regulator||this.specialist_other.length){if(2===t){if(this.form.specialist.jurisdiction_ids.length||(this.errors=Object.assign({},this.errors,{jurisdiction_ids:["Required field"]})),this.form.specialist.time_zone.value||(this.errors=Object.assign({},this.errors,{time_zone:["Required field"]})),this.form.specialist.industry_ids.length||(this.errors=Object.assign({},this.errors,{industry_ids:["Required field"]})),!this.form.specialist.jurisdiction_ids.length||!this.form.specialist.time_zone.value||!this.form.specialist.industry_ids.length)return;this.navigation(t)}if(3===t){var i={specialist:{jurisdiction_ids:this.form.specialist.jurisdiction_ids?this.form.specialist.jurisdiction_ids.map((function(t){return t.id})):[],time_zone:this.form.specialist.time_zone.value?this.form.specialist.time_zone.value:"",industry_ids:this.form.specialist.industry_ids?this.form.specialist.industry_ids.map((function(t){return t.id})):[],sub_industry_ids:this.form.specialist.sub_industry_ids?this.form.specialist.sub_industry_ids.map((function(t){return t.value})):[],former_regulator:this.form.specialist.former_regulator,skill_names:this.form.specialist.skill_names?this.form.specialist.skill_names.map((function(t){return t.name})):[],experience:this.form.specialist.experience||"",resume:this.file?this.file:""}},a=i.specialist,r=new FormData;this.applyData(r,"specialist[jurisdiction_ids][]",a.jurisdiction_ids),r.append("specialist[time_zone]",a.time_zone),this.applyData(r,"specialist[industry_ids][]",a.industry_ids),this.applyData(r,"specialist[sub_industry_ids][]",a.sub_industry_ids),r.append("specialist[former_regulator]",a.former_regulator),this.applyData(r,"specialist[skill_names][]",a.skill_names),r.append("specialist[experience]",a.experience),a.resume.lastModifiedDate&&r.append("specialist[resume]",a.resume),this.form.specialist.former_regulator&&r.append("specialist[specialist_other]",this.specialist_other?this.specialist_other.map((function(t){return t.name})).join(", "):[]),this.$store.dispatch("updateAccountInfoWithFile",r).then((function(s){if(s.errors){for(var i=0,a=Object.keys(s.errors);i<a.length;i++){var r=a[i];e.errors=s.errors[r]}(s.errors.specialist.industry_ids||s.errors.specialist.jurisdiction_ids||s.errors.specialist.sub_industries||s.errors.specialist.time_zone||s.errors.specialist.specialist_other)&&e.navigation(1)}s.errors||e.navigation(t)}))["catch"]((function(t){console.error("updateAccountInfoWithFile",t),e.toast("Error","".concat(t.status," ").concat(t.statusText),!0)}))}}else this.errors=Object.assign({},this.errors,{specialist_other:["Required field"]})},openDetails:function(t){var e=this;if(1!==t.id)this.openId=t.id,this.isSidebarOpen=!0,this.selectedPlan=t;else{this.$store.dispatch("setOverlay",{active:!0,message:"Setting up account",status:""});var s={userType:this.userType,planName:"free",paymentSourceId:null};this.$store.dispatch("updateSubscribe",s).then((function(t){e.currentPlan={id:1,status:!0},e.redirect()}))["catch"]((function(t){console.error("updateSubscribe",t),e.$store.dispatch("setOverlay",{active:!0,message:"Something wrong! ".concat(t),status:"error"}),setTimeout((function(){return e.$store.dispatch("setOverlay",{active:!1,message:"",status:""})}),2e3)}))}},closeSidebar:function(){this.openId=null,this.project=null,this.isSidebarOpen=!1},selectFile:function(t){this.file=t.target.files[0]},onChangeIndustries:function(t){if(t){delete this.errors.industry_ids,this.subIndustryOptions=[];var e=t.map((function(t){return t.id}));if(this.staticCollection.sub_industries_specialist)for(var s=0,i=Object.entries(this.staticCollection.sub_industries_specialist);s<i.length;s++){var a,r=o()(i[s],2),n=r[0],l=r[1],c=J(e);try{for(c.s();!(a=c.n()).done;){var d=a.value;d===+n.split("_")[0]&&this.subIndustryOptions.push({value:n,name:l})}}catch(u){c.e(u)}finally{c.f()}}}},onChangeInput:function(t){t.target&&t.target.classList.remove("is-invalid"),t.target.nextElementSibling&&t.target.nextElementSibling.classList.remove("d-block")},redirect:function(){window.location.href="/".concat(this.userType)},removeFile:function(){this.file=null}},computed:{staticCollection:function(){return this.$store.getters.staticCollection},currentUser:function(){return this.$store.getters.getUser},overlay:function(){return this.$store.getters.overlay}},mounted:function(){var t=this;this.$store.dispatch("getSkills").then((function(e){return t.skillsTags=e}))["catch"]((function(t){return console.error(t)}));var e=localStorage.getItem("app.currentUser"),s=JSON.parse(e);this.$store.dispatch("getStaticCollection").then((function(){t.onChangeIndustries(s.industries);var e=s.sub_industries;if(e)for(var i=0,a=Object.entries(t.staticCollection.sub_industries_specialist);i<a.length;i++){var r,n=o()(a[i],2),l=n[0],c=n[1],d=J(e);try{for(d.s();!(r=d.n()).done;){var u=r.value;u===c&&t.form.specialist.sub_industry_ids.push({name:c,value:l})}}catch(p){d.e(p)}finally{d.f()}}}))["catch"]((function(t){return console.error(t)}))},watch:{form:function(t){console.log("newForm",t),Object.entries(t).forEach((function(t){var e=o()(t,2),s=e[0],i=e[1];return console.log(s,i)}))}}},Z=G,H=(s("60bc"),s("c350"),Object(h["a"])(Z,i,a,!1,null,"fe77c448",null));e["default"]=H.exports},"4d42":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card registration"},[i("div",{staticClass:"card-body white-card-body"},[i("div",{staticClass:"form",class:t.step0?"d-block":"d-none",attrs:{id:"step0"}},[t._m(0),i("div",[t.show?i("b-form",{on:{submit:t.onSubmit0}},[i("b-form-group",{staticClass:"mb-0"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-6 col-12 pr-md-2 text-center mb-sm-0 mb-3"},[i("div",{staticClass:"account-select",class:"business"===t.userType?"active":"",on:{click:function(e){return t.selectType("business")}}},[i("h3",{staticClass:"account-select__title mb-3"},[t._v("I am a business")]),i("img",{staticClass:"account-select__img",attrs:{src:s("8443"),width:"50",height:"50"}}),i("p",{staticClass:"account-select__subtitle"},[t._v("Looking to effectively manage my compliance program and find expertise")])])]),i("div",{staticClass:"col-sm-6 col-12 pl-md-2 text-center"},[i("div",{staticClass:"account-select",class:"specialist"===t.userType?"active":"",on:{click:function(e){return t.selectType("specialist")}}},[i("h3",{staticClass:"account-select__title mb-3"},[t._v("I am a specialist")]),i("img",{staticClass:"account-select__img",attrs:{src:s("d173"),width:"50",height:"50"}}),i("p",{staticClass:"account-select__subtitle"},[t._v("Looking to work with potential clients on compliance projects")])])])])]),i("b-button",{staticClass:"registration__btn w-100 mb-2",attrs:{type:"submit",variant:"dark"}},[t._v("Next")])],1):t._e()],1)]),i("div",{staticClass:"form",class:t.step1?"d-block":"d-none",attrs:{id:"step1"}},[t._m(1),i("div",[t.show?i("b-form",{on:{submit:t.onSubmit}},[t.error?i("b-alert",{staticClass:"m-b-20",attrs:{variant:"danger",show:""}},[t._v(t._s(t.error))]):t._e(),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6 pr-md-2"},[i("b-form-group",{staticClass:"m-b-20",attrs:{id:"input-group-1",label:"First Name:","label-for":"input-1"}},[i("b-form-input",{class:{"is-invalid":t.errors.contact_first_name},attrs:{id:"input-1",type:"text",placeholder:"First Name"},model:{value:t.form.firstName,callback:function(e){t.$set(t.form,"firstName",e)},expression:"form.firstName"}}),i("Errors",{attrs:{errors:t.errors.contact_first_name}})],1)],1),i("div",{staticClass:"col-md-6 pl-md-2"},[i("b-form-group",{staticClass:"m-b-20",attrs:{id:"input-group-2",label:"Last Name:","label-for":"input-2"}},[i("b-form-input",{class:{"is-invalid":t.errors.contact_last_name},attrs:{id:"input-2",type:"text",placeholder:"Last Name"},model:{value:t.form.lastName,callback:function(e){t.$set(t.form,"lastName",e)},expression:"form.lastName"}}),i("Errors",{attrs:{errors:t.errors.contact_last_name}})],1)],1)]),i("b-form-group",{staticClass:"m-b-20",attrs:{id:"input-group-3",label:"Email:","label-for":"input-3"}},[i("b-form-input",{class:{"is-invalid":t.errors["user.email"]},attrs:{id:"input-3",type:"text",placeholder:"Email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),i("Errors",{attrs:{errors:t.errors["user.email"]}})],1),i("b-form-group",{staticClass:"m-b-20",attrs:{id:"input-group-4",label:"Password:","label-for":"input-4"}},[i("b-form-input",{class:{"is-invalid":t.errors["user.password"]},attrs:{id:"input-4",type:"password",placeholder:"Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),i("Errors",{attrs:{errors:t.errors["user.password"]}})],1),i("b-form-group",{staticClass:"m-b-20",attrs:{id:"input-group-5",label:"Repeat Password:","label-for":"input-5"}},[i("b-form-input",{class:{"is-invalid":t.errors.passwordConfirm},attrs:{id:"input-5",type:"password",placeholder:"Repeat Password"},model:{value:t.form.passwordConfirm,callback:function(e){t.$set(t.form,"passwordConfirm",e)},expression:"form.passwordConfirm"}}),i("Errors",{attrs:{errors:t.errors.passwordConfirm}})],1),i("b-form-group",{staticClass:"paragraph m-b-10"},[i("p",[t._v("By signing up, I accept the "),i("a",{staticClass:"link",attrs:{href:"https://www.complect.com/terms-of-use",target:"_blank"}},[t._v("Complect Terms of Use ")]),t._v("and acknowledge the "),i("a",{staticClass:"link",attrs:{href:"https://www.complect.com/privacy-policy",target:"_blank"}},[t._v("Privacy Policy")])])]),i("b-button",{staticClass:"registration__btn m-b-20 w-100",attrs:{type:"submit",variant:"dark"}},[t._v("Sign Up")])],1):t._e()],1)])]),i("div",{staticClass:"card-footer"},[i("b-form-group",{staticClass:"text-center mb-0"},[i("p",{staticClass:"mb-0"},[t._v("Already have a Complect account? "),i("router-link",{staticClass:"link",attrs:{to:"/users/sign_in"}},[t._v("Sign In")])],1)])],1)])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"registration-welcome"},[s("h1",{staticClass:"registration__title"},[t._v("Let's get you started!")]),s("p",{staticClass:"registration__subtitle"},[t._v("Select your account type")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"registration-welcome"},[s("h1",{staticClass:"registration__title"},[t._v("Let's get you started!")]),s("p",{staticClass:"registration__subtitle"},[t._v("Create your FREE account")])])}],r=s("9523"),o=s.n(r),n=s("278c"),l=s.n(n),c=s("e829"),d=s("ba78"),u=s("5d3c"),p=s("2c2b"),m=s("50b1"),f=function(){return{firstName:"",lastName:"",email:"",password:"",passwordConfirm:""}};function b(t){var e=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return e.test(t)}var h={props:["industryIds","jurisdictionIds","subIndustryIds","states","timezones"],components:{TopNavbar:d["a"],Loading:c["a"],BusinessPage:u["default"],SpecialistPage:p["default"],OtpConfirm:m["default"]},data:function(){return{userId:"",otpSecret:"",userType:"",form:f(),show:!0,error:"",errors:{},step0:!0,step1:!1,seat_id:1}},methods:{selectType:function(t){this.userType=t,localStorage.setItem("app.currentUser.userType",JSON.stringify(t)),this.$store.commit("changeUserType",t)},onSubmit0:function(t){t.preventDefault(),this.userType&&(this.step0=!1,this.step1=!0)},onSubmit:function(t){var e,s=this;for(var i in t.preventDefault(),this.error="",this.errors)delete this.errors[i];(this.form.email&&!b(this.form.email)&&Object.assign({},this.errors,{email:"Email not valid"}),this.form.password===this.form.passwordConfirm)?(this.form.email=this.form.email.toLowerCase(),"business"===this.userType&&(e={business:{contact_first_name:this.form.firstName,contact_last_name:this.form.lastName,user_attributes:{email:this.form.email,password:this.form.password}}}),"specialist"===this.userType&&(e={specialist:{first_name:this.form.firstName,last_name:this.form.lastName,user_attributes:{email:this.form.email,password:this.form.password}}}),"seat"===this.userType&&(e={seat_id:this.seat_id,seat:{first_name:this.form.firstName,last_name:this.form.lastName,user_attributes:{email:this.form.email,password:this.form.password}}}),this.$store.dispatch("signUp",e).then((function(t){if(t.errors)for(var e=0,i=Object.entries(t.errors[s.userType]);e<i.length;e++){var a=l()(i[e],2),r=a[0],n=a[1];s.errors=Object.assign({},s.errors,o()({},r,n))}t.errors||(s.userId=t.userid,s.$router.push({name:"verification",params:{form:s.form,userid:s.userid,userType:s.userType,emailVerified:s.emailVerified}}),s.toast("Success","".concat(t.message)))}))["catch"]((function(t){return console.error(t)}))):this.errors={passwordConfirm:["Password does not match"]}}},computed:{loading:function(){return this.$store.getters.loading}},watch:{email:function(t,e){t.toLowerCase()}}},_=h,v=s("ba04"),g=s("2877");function y(t){this["$style"]=v["default"].locals||v["default"]}var C=Object(g["a"])(_,i,a,!1,y,null,null);e["default"]=C.exports},"50b1":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card registration"},[i("div",{staticClass:"card-body white-card-body"},[i("div",{staticClass:"registration-welcome"},[i("h1",{staticClass:"registration__title"},[t._v("Confirm Your Email")]),i("p",{staticClass:"registration__subtitle"},[t._v("We sent a 6 digit code to "+t._s(t.form.email)+". Please enter it below.")])]),i("div",[t.show?i("b-form",{attrs:{autocomplete:"off"},on:{submit:t.onSubmit,keyup:t.onCodeChange}},[i("b-form-group",[i("div",{staticClass:"col text-center"},[i("img",{staticClass:"otp-icon",attrs:{src:s("1752"),width:"180",height:"110"}})])]),i("b-form-group",{staticClass:"m-b-40"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 mx-0"},[i("div",{staticClass:"d-flex justify-content-space-around mx-auto"},[i("b-form-input",{staticClass:"code-input ml-auto",attrs:{id:"inputCode1",type:"number",maxlength:"1"},model:{value:t.form2.codePart1,callback:function(e){t.$set(t.form2,"codePart1",e)},expression:"form2.codePart1"}}),i("b-form-input",{staticClass:"code-input",attrs:{id:"inputCode2",type:"number",maxlength:"1"},model:{value:t.form2.codePart2,callback:function(e){t.$set(t.form2,"codePart2",e)},expression:"form2.codePart2"}}),i("b-form-input",{staticClass:"code-input",attrs:{id:"inputCode3",type:"number",maxlength:"1"},model:{value:t.form2.codePart3,callback:function(e){t.$set(t.form2,"codePart3",e)},expression:"form2.codePart3"}}),i("b-form-input",{staticClass:"code-input",attrs:{id:"inputCode4",type:"number",maxlength:"1"},model:{value:t.form2.codePart4,callback:function(e){t.$set(t.form2,"codePart4",e)},expression:"form2.codePart4"}}),i("b-form-input",{staticClass:"code-input",attrs:{id:"inputCode5",type:"number",maxlength:"1"},model:{value:t.form2.codePart5,callback:function(e){t.$set(t.form2,"codePart5",e)},expression:"form2.codePart5"}}),i("b-form-input",{staticClass:"code-input mr-auto",attrs:{id:"inputCode6",type:"number",maxlength:"1"},model:{value:t.form2.codePart6,callback:function(e){t.$set(t.form2,"codePart6",e)},expression:"form2.codePart6"}})],1),t.error?i("div",{staticClass:"invalid-feedback d-block text-center"},[t._v(t._s(t.error))]):t._e(),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form2.code,expression:"form2.code"}],attrs:{type:"hidden"},domProps:{value:t.form2.code},on:{input:function(e){e.target.composing||t.$set(t.form2,"code",e.target.value)}}})])])]),i("b-button",{ref:"codesubmit",staticClass:"w-100 m-b--40",attrs:{type:"submit",variant:"dark"}},[t._v("Submit")])],1):t._e()],1)]),i("div",{staticClass:"card-footer"},[i("b-form-group",{staticClass:"text-center mb-0"},[i("button",{staticClass:"btn link",on:{click:function(e){return e.stopPropagation(),t.resendOTP.apply(null,arguments)}}},[t._v("Send new code")])])],1)])},a=[],r={props:["form","userid","userType","emailVerified","inviteToken"],data:function(){return{show:!0,error:"",errors:{},form2:{codePart1:"",codePart2:"",codePart3:"",codePart4:"",codePart5:"",codePart6:"",code:""}}},created:function(){this.form||this.$router.back()},methods:{onSubmit:function(t){var e=this;if(t.preventDefault(),this.error="",this.errors=[],this.emailVerified)if(this.emailVerified){var s={user:{email:this.form.email,password:this.form.password},otp_secret:this.form2.code};this.$store.dispatch("signIn",s).then((function(t){if(t.errors&&(e.error=t.message),!t.errors&&t.specialist&&t.token&&e.inviteToken){var s="/specialist";window.location.href="".concat(s)}else if(!t.errors&&t.token){var i=t.business?"/business":"/specialist";window.location.href="".concat(i)}}))["catch"]((function(t){t.data.errors&&(e.error=t.data.errors.invalid)}))}else;else{var i={email:this.form.email,otp_secret:this.form2.code};this.$store.dispatch("confirmEmail",i).then((function(t){if(e.error=t.message,"Invalid 6 digits code"===t.message&&t.errors,!t.errors&&t.specialist&&t.token&&e.inviteToken){var s="/specialist";window.location.href="".concat(s)}else if(!t.errors&&t.token){var i=t.business?"/business":"/specialist";e.$router.push("".concat(i,"/onboarding"))}}))["catch"]((function(t){console.error(t)}))}},onCodeChange:function(t){if(this.error="",this.errors=[],6===t.target.value.length)for(var e=1;e<=6;e++)this.form2["codePart"+e]=t.target.value.charAt(e-1);var s;if(8===t.keyCode||46===t.keyCode)return t.preventDefault(),t.target.value="",null===(s=t.target.previousElementSibling)||void 0===s||s.focus(),void(this.form2.codePart1||this.form2.codePart2||this.form2.codePart3||this.form2.codePart4||this.form2.codePart5||this.form2.codePart6||(this.form2.code=""));(t.target.value.length<6&&t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105)&&(t.preventDefault(),t.target.value=t.key,t.target.nextElementSibling&&(t.target.nextElementSibling.value="",t.target.nextElementSibling.focus()),t.target.nextElementSibling||this.$refs.codesubmit.focus()),this.form2.code=this.form2.codePart1+this.form2.codePart2+this.form2.codePart3+this.form2.codePart4+this.form2.codePart5+this.form2.codePart6,13===t.keyCode&&this.onSubmit(t)},resendOTP:function(){var t=this,e={user:{email:this.form.email}};this.$store.dispatch("resendOTP",e).then((function(e){return t.toast("Success","".concat(e.message))}))["catch"]((function(e){return t.toast("Error","".concat(e.status," (").concat(e.statusText,")"),!0)}))}},computed:{currentUser:function(){return this.$store.getters.getUser}}},o=r,n=s("2877"),l=Object(n["a"])(o,i,a,!1,null,"77cbd522",null);e["default"]=l.exports},"6fde":function(t,e,s){},8443:function(t,e,s){t.exports=s.p+"img/business-outline.bed6c100.svg"},ba04:function(t,e,s){"use strict";var i=s("6fde"),a=s.n(i);s.d(e,"default",(function(){return a.a}))},c350:function(t,e,s){"use strict";s("23b4")},d173:function(t,e,s){t.exports=s.p+"img/briefcase-outline.cd2caf71.svg"}}]);
//# sourceMappingURL=chunk-6ab22f83.a8dd4c6e.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79e46a24"],{"0916":function(t,e,s){"use strict";s("19c5")},"19c5":function(t,e,s){},"363d":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{"d-inline-block":t.inline}},[s("div",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.modalId,expression:"modalId"}],class:{"d-inline-block":t.inline}},[t._t("default")],2),s("b-modal",{staticClass:"fade",attrs:{id:t.modalId,title:"Edit Reason"},on:{shown:t.getData}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("label",{staticClass:"form-label"},[t._v("Reason")]),s("ComboBox",{attrs:{options:t.reasonOptions,placeholder:"Select a reason"},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}}),t.errors.reason?s("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors.reason))]):t._e(),s("Errors",{attrs:{errors:t.errors.reason}})],1)]),s("div",{staticClass:"row m-t-1"},[s("div",{staticClass:"col-12"},[s("label",{staticClass:"form-label"},[t._v("Additional Information")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}}),t.errors.description?s("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors.description))]):t._e(),s("div",{staticClass:"form-text text-muted"},[t._v("Optional")]),s("Errors",{attrs:{errors:t.errors.description}})],1)]),s("template",{slot:"modal-footer"},[s("button",{staticClass:"btn btn-link",on:{click:function(e){return t.$bvModal.hide(t.modalId)}}},[t._v("Cancel")]),s("button",{staticClass:"btn btn-dark",on:{click:t.submit}},[t._v("Save")])])],2)],1)},a=[],i=function(){return Math.random().toFixed(10).toString().replace(".","")},o=function(t){return{id:t,label:n(t)}},n=function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""},l={props:{inline:{type:Boolean,default:!0},user:{type:Object,default:!0}},data:function(){return{modalId:"modal_".concat(i()),form:{reason:"",description:""},errors:{}}},methods:{submit:function(t){t.preventDefault(),this.errors=[];var e={id:this.user.id,reason:this.form.reason};this.form.description&&(e.description=this.form.description),this.$emit("editReasonConfirmed",e),this.$bvModal.hide(this.modalId)},getData:function(){this.form={reason:this.user.reason,description:this.user.description}}},computed:{reasonOptions:function(){return["","termination","resignation","temporary","other"].map(o)}}},c=l,d=s("2877"),m=Object(d["a"])(c,r,a,!1,null,null,null);e["a"]=m.exports},5688:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{"d-inline-block":t.inline}},[s("div",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.modalId,expression:"modalId"}],class:{"d-inline-block":t.inline}},[t._t("default")],2),s("b-modal",{staticClass:"fade",attrs:{id:t.modalId,title:t.user?"Edit User":"Add User"},on:{shown:t.getData}},[t.userLimit?t._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 m-b-1"},[s("Notifications",{attrs:{notify:t.notify}},[s("button",{staticClass:"btn btn-default",on:{click:t.editPlan}},[t._v("Edit")])])],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-6 m-b-1"},[s("label",{staticClass:"form-label required"},[t._v("First Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.first_name,expression:"form.first_name"}],ref:"input",staticClass:"form-control",attrs:{type:"text",placeholder:"First Name"},domProps:{value:t.form.first_name},on:{input:function(e){e.target.composing||t.$set(t.form,"first_name",e.target.value)}}}),s("Errors",{attrs:{errors:t.errors.first_name}})],1),s("div",{staticClass:"col-sm-6 m-b-1"},[s("label",{staticClass:"form-label required"},[t._v("Last Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.last_name,expression:"form.last_name"}],ref:"input",staticClass:"form-control",attrs:{type:"text",placeholder:"Last Name"},domProps:{value:t.form.last_name},on:{input:function(e){e.target.composing||t.$set(t.form,"last_name",e.target.value)}}}),s("Errors",{attrs:{errors:t.errors.last_name}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 m-b-1"},[s("label",{staticClass:"form-label required"},[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],ref:"input",staticClass:"form-control",attrs:{type:"text",placeholder:"Enter email"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),s("Errors",{attrs:{errors:t.errors.email}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 m-b-1"},[s("label",{staticClass:"form-label"},[t._v("Role"),s("RoleTypesModalInfo",[s("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"tooltip__icon",attrs:{icon:"dash-circle-fill",title:"Role Information"}})],1)],1),s("ComboBox",{attrs:{options:t.roleOptions,placeholder:"Select a role"},model:{value:t.form.role,callback:function(e){t.$set(t.form,"role",e)},expression:"form.role"}}),s("Errors",{attrs:{errors:t.errors.role}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 m-b-1"},[s("label",{staticClass:"form-label"},[t._v("Start Date")]),s("DatePicker",{model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}}),s("Errors",{attrs:{errors:t.errors.start_date}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("b-form-checkbox",{model:{value:t.form.access_person,callback:function(e){t.$set(t.form,"access_person",e)},expression:"form.access_person"}},[t._v("Access Person")]),s("Errors",{attrs:{errors:t.errors.access_person}})],1)]),s("template",{slot:"modal-footer"},[s("button",{staticClass:"btn btn-link",on:{click:function(e){return t.$bvModal.hide(t.modalId)}}},[t._v("Cancel")]),s("button",{staticClass:"btn btn-dark",on:{click:t.submit}},[t._v(t._s(t.user?"Save":"Add"))])])],2)],1)},a=[],i=s("278c"),o=s.n(i),n=s("9523"),l=s.n(n),c=s("ed59"),d=s("8622");function m(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?m(Object(s),!0).forEach((function(e){l()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var f=function(){return Math.random().toFixed(10).toString().replace(".","")},p=function(t){return{id:t,label:v(t)}},v=function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""},b=function(){return{first_name:"",last_name:"",email:"",role:"",start_date:"",access_person:""}},h={components:{Notifications:d["a"],RoleTypesModalInfo:c["a"]},props:{inline:{type:Boolean,default:!0},user:{type:Object,required:!1},userLimit:{type:Number,required:!1,default:null}},data:function(){return{modalId:"modal_".concat(f()),form:b(),errors:{},notify:{show:"show",mainText:"User limit reached",subText:"Please edit your plan in order to add additional users",variant:"warning",dismissible:!1,icon:null,scale:2,animation:""}}},methods:{getData:function(){this.user&&(this.form=this.user)},submit:function(t){var e=this;for(var s in t.preventDefault(),this.errors)delete this.errors[s];try{var r={body:{team_member:u({},this.form)}};this.user&&(r.id=this.user.id);var a="settings/createEmployee";this.user&&(a="settings/updateEmployee"),this.$store.dispatch(a,r).then((function(t){if(t.errors)for(var s=0,r=Object.entries(t.errors);s<r.length;s++){var a=o()(r[s],2),i=a[0],n=a[1];e.errors=Object.assign({},e.errors,l()({},i,n)),t.errors.seat&&e.toast("Error","".concat(t.errors.seat),!0)}t.errors||(e.toast("Success","User successfully ".concat(e.user?"edited":"added")),e.$emit("saved"),e.$bvModal.hide(e.modalId))}))["catch"]((function(t){return e.toast("Error","".concat(t),!0)}))}catch(i){this.toast("Error",i.message,!0)}},editPlan:function(){this.$bvModal.hide(this.modalId),this.$emit("editPlan")}},computed:{roleOptions:function(){return["","basic","trusted","admin"].map(p)}}},_=h,C=s("2877"),g=Object(C["a"])(_,r,a,!1,null,null,null);e["a"]=g.exports},"7c2f":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"role-info"},[s("ion-icon",t._b({staticClass:"role-info__icon"},"ion-icon",t.curretnItemRole,!1)),s("span",{staticClass:"ml-1"},[t._v(t._s(t._f("capital")(t.role)))])],1)},a=[],i={props:["role"],computed:{curretnItemRole:function(){var t=this.role;return"admin"===t?{class:"role-info__icon_admin",name:"people"}:"trusted"===t?{class:"role-info__icon_trusted",name:"checkmark"}:"basic"===t?{class:"role-info__icon_basic",name:"person-circle-outline"}:void 0}}},o=i,n=s("2877"),l=Object(n["a"])(o,r,a,!1,null,"6cb34af6",null);e["a"]=l.exports},8622:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.notify?s("b-alert",{staticClass:"notifications",attrs:{show:t.notify.show,variant:t.notify.variant?t.notify.variant:"primary",dismissible:t.notify.dismissible}},[s("div",{staticClass:"d-flex align-items-center"},[t.notifyIcon?s("b-icon",{staticClass:"m-r-2 m-l-1",attrs:{icon:t.notifyIcon,animation:t.notify.animation,scale:t.notify.scale,variant:t.notify.variant}}):t._e(),s("div",{staticClass:"d-block mr-auto"},[t.notify.mainText?s("h4",{staticClass:"notifications__title"},[s("b",[t._v(t._s(t.notify.mainText))])]):t._e(),t.notify.subText?s("p",{staticClass:"notifications__sub-title mb-0"},[t._v(t._s(t.notify.subText))]):t._e()]),s("span",{on:{click:function(e){return t.$emit("click")}}},[t._t("default")],2)],1)]):t._e()},a=[],i={props:{notify:{type:Object,required:!0}},components:{},data:function(){return{}},computed:{notifyIcon:function(){if(this.notify.icon)return this.notify.icon;var t=this.notify.variant;return"primary"!==t&&"info"!==t||(this.notify.icon=""),"success"===t&&(this.notify.icon="check-circle-fill"),"warning"===t&&(this.notify.icon="exclamation-triangle-fill"),"danger"===t&&(this.notify.icon="dash-circle-fill"),this.notify.icon}}},o=i,n=s("2877"),l=Object(n["a"])(o,r,a,!1,null,"9ff56fd0",null);e["a"]=l.exports},8848:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{"d-inline-block":t.inline}},[s("div",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.modalId,expression:"modalId"}],class:{"d-inline-block":t.inline}},[t._t("default")],2),s("b-modal",{staticClass:"fade",attrs:{id:t.modalId,title:t.archiveStatus?"Disable User":"Undisable User"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-1 text-center px-0"},[s("b-icon",{staticClass:"modal-body__icon mt-2 ml-3",attrs:{icon:"exclamation-triangle-fill",variant:"warning"}})],1),s("div",{staticClass:"col"},[s("p",{staticClass:"paragraph m-b-10"},[t._v("Disabling the user will remove any permissions and access granted to them. Please select a reason for disabling the user.")]),s("p",{staticClass:"paragraph mb-0"},[s("b",[t._v("Do you want to continue?")])])])]),s("div",{staticClass:"row m-t-1"},[s("div",{staticClass:"col-12"},[s("label",{staticClass:"form-label"},[t._v("Reason")]),s("ComboBox",{attrs:{options:t.reasonOptions,placeholder:"Select a reason"},on:{input:t.reasonChange},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}}),t.errors.reason?s("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors.reason))]):t._e(),s("Errors",{attrs:{errors:t.errors.reason}})],1)]),t.showTextArea?s("div",{staticClass:"row m-t-1"},[s("div",{staticClass:"col-12"},[s("label",{staticClass:"form-label"},[t._v("Additional Information")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}}),t.errors.description?s("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors.description))]):t._e(),s("div",{staticClass:"form-text text-muted"},[t._v("Optional")]),s("Errors",{attrs:{errors:t.errors.description}})],1)]):t._e(),s("template",{slot:"modal-footer"},[s("button",{staticClass:"btn btn-link",on:{click:function(e){return t.$bvModal.hide(t.modalId)}}},[t._v("Cancel")]),s("button",{staticClass:"btn btn-dark",on:{click:t.submit}},[t._v("Confirm")])])],2)],1)},a=[],i=function(){return Math.random().toFixed(10).toString().replace(".","")},o=function(t){return{id:t,label:n(t)}},n=function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""},l={props:{inline:{type:Boolean,default:!0},archiveStatus:{type:Boolean,required:!0},user:{type:Object,required:!0}},data:function(){return{modalId:"modal_".concat(i()),form:{reason:"",description:""},errors:{},showTextArea:!1}},methods:{submit:function(t){t.preventDefault(),this.errors=[];var e={id:this.user.id,reason:this.form.reason,status:this.user.active};this.form.description&&(e.description=this.form.description),this.$emit("archiveConfirmed",e),this.$bvModal.hide(this.modalId)},reasonChange:function(t){"Others"===t&&(this.showTextArea=!0),"Others"!==t&&(this.showTextArea=!1)}},computed:{reasonOptions:function(){return["","termination","resignation","temporary","other"].map(o)}}},c=l,d=s("2877"),m=Object(d["a"])(c,r,a,!1,null,null,null);e["a"]=m.exports},"8e59":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:{"d-inline-block":t.inline}},[r("div",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.modalId,expression:"modalId"}],class:{"d-inline-block":t.inline}},[t._t("default")],2),r("b-modal",{staticClass:"fade",attrs:{id:t.modalId,title:"Delete User"}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-1 text-center px-0"},[r("img",{staticClass:"mt-1 ml-3",attrs:{src:s("d1db"),width:"25",height:"25"}})]),r("div",{staticClass:"col"},[r("p",{staticClass:"paragraph m-b-10"},[t._v("Removing the user will permanently delete them and their associated records from the system.")]),r("p",{staticClass:"paragraph mb-0"},[r("b",[t._v("Do you want to continue?")])])])]),r("Errors",{attrs:{errors:t.errors.title}}),r("template",{slot:"modal-footer"},[r("button",{staticClass:"btn btn-link",on:{click:function(e){return t.$bvModal.hide(t.modalId)}}},[t._v("Cancel")]),r("button",{staticClass:"btn btn-dark",on:{click:t.submit}},[t._v("Confirm")])])],2)],1)},a=[],i=function(){return Math.random().toFixed(10).toString().replace(".","")},o={props:{inline:{type:Boolean,default:!0}},data:function(){return{modalId:"modal_".concat(i()),errors:[]}},methods:{submit:function(t){t.preventDefault(),this.errors=[],this.$emit("deleteConfirmed"),this.$bvModal.hide(this.modalId)}}},n=o,l=s("2877"),c=Object(l["a"])(n,r,a,!1,null,null,null);e["a"]=c.exports},d1db:function(t,e,s){t.exports=s.p+"img/error_20.5080af0b.svg"},ed59:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{"d-inline-block":t.inline}},[s("div",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.modalId,expression:"modalId"}],class:{"d-inline-block":t.inline}},[t._t("default")],2),s("b-modal",{staticClass:"fade",attrs:{id:t.modalId,title:"Role Types","hide-footer":""}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-1 text-center px-0"},[s("div",{staticClass:"role-info"},[s("ion-icon",{staticClass:"role-info__icon role-info__icon_admin mt-1 ml-3",attrs:{name:"people"}})],1)]),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0"},[s("b",[t._v("Admin")])]),s("p",{staticClass:"paragraph"},[t._v("Full visibility and unrestricted access to features, functionalities, settings, and billing details.")])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-1 text-center px-0"},[s("div",{staticClass:"role-info"},[s("ion-icon",{staticClass:"role-info__icon role-info__icon_trusted mt-1 ml-3",attrs:{name:"checkmark"}})],1)]),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0"},[s("b",[t._v("Trusted")])]),s("p",{staticClass:"paragraph"},[t._v("Can view, create, and edit. Administrative access without financial settings.")])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-1 text-center px-0"},[s("div",{staticClass:"role-info"},[s("ion-icon",{staticClass:"role-info__icon role-info__icon_basic mt-1 ml-3",attrs:{name:"person-circle-outline"}})],1)]),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0"},[s("b",[t._v("Basic")])]),s("p",{staticClass:"paragraph"},[t._v("Employee level access with limited settings.")])])]),s("template",{slot:"modal-footer"},[s("button",{staticClass:"btn",on:{click:function(e){return t.$bvModal.hide(t.modalId)}}},[t._v("Cancel")]),s("button",{staticClass:"btn btn-danger",on:{click:t.submit}},[t._v("Confirm")])])],2)],1)},a=[],i=function(){return Math.random().toFixed(10).toString().replace(".","")},o={props:{inline:{type:Boolean,default:!0}},data:function(){return{modalId:"modal_".concat(i())}},methods:{submit:function(t){t.preventDefault(),this.$bvModal.hide(this.modalId)}}},n=o,l=(s("0916"),s("2877")),c=Object(l["a"])(n,r,a,!1,null,null,null);e["a"]=c.exports},ef55:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page p-x-40 p-y-20"},[s("div",{staticClass:"card m-b-20"},[s("div",{staticClass:"card-title p-x-20"},[s("h2",{staticClass:"card-title__name"},[t._v("Access Persons")]),s("div",{staticClass:"card-title__actions"},[s("button",{staticClass:"btn btn btn-default mr-3 d-none"},[t._v("Download")]),s("router-link",{staticClass:"btn link",attrs:{to:"/business/settings/users"}},[t._v("View all")])],1)]),s("div",{staticClass:"card-body white-card-body"},[t.loading?t._e():s("AccessPersonTable",{attrs:{users:t.accessPersons}}),s("Loading"),t.accessPersons.length||t.loading?t._e():s("div",{staticClass:"row h-100"},[s("div",{staticClass:"col h-100 text-center"},[s("EmptyState")],1)])],1)]),s("div",{staticClass:"card m-b-20"},[s("div",{staticClass:"card-title p-x-20"},[s("h2",{staticClass:"card-title__name"},[t._v("Terminated Employees")]),s("div",{staticClass:"card-title__actions"},[s("button",{staticClass:"btn btn btn-default mr-3 d-none"},[t._v("Download")]),s("router-link",{staticClass:"btn link",attrs:{to:"/business/settings/users"}},[t._v("View all")])],1)]),s("div",{staticClass:"card-body white-card-body"},[t.loading?t._e():s("TerminatedEmployees",{attrs:{users:t.terminatedEmployees}}),s("Loading"),t.terminatedEmployees.length||t.loading?t._e():s("div",{staticClass:"row h-100"},[s("div",{staticClass:"col h-100 text-center"},[s("EmptyState")],1)])],1)]),s("div",{staticClass:"card"},[s("div",{staticClass:"card-title p-x-20"},[s("h2",{staticClass:"card-title__name"},[t._v("Resignations")]),s("div",{staticClass:"card-title__actions"},[s("button",{staticClass:"btn btn btn-default mr-3 d-none"},[t._v("Download")]),s("router-link",{staticClass:"btn link",attrs:{to:"/business/settings/users"}},[t._v("View all")])],1)]),s("div",{staticClass:"card-body white-card-body"},[t.loading?t._e():s("Resignations",{attrs:{users:t.resignations}}),s("Loading"),t.resignations.length||t.loading?t._e():s("div",{staticClass:"row h-100"},[s("div",{staticClass:"col h-100 text-center"},[s("EmptyState")],1)])],1)])])},a=[],i=s("c973"),o=s.n(i),n=s("9523"),l=s.n(n),c=s("a34a"),d=s.n(c),m=s("2f62"),u=s("e829"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticClass:"table"},[s("thead",[s("tr",[s("th",[t._v("Name"),s("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-expand","font-scale":"1"}})],1),s("th",[t._v("Role"),s("RoleTypesModalInfo",[s("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"tooltip__icon",attrs:{icon:"dash-circle-fill",title:"Role Information"}})],1)],1),s("th",[t._v("Access Person"),s("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-expand"}})],1),s("th",[t._v("Start Date"),s("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-expand"}})],1),s("th",{attrs:{width:"35px"}})])]),s("tbody",t._l(t.sortedData,(function(t){return s("RoleItem",{key:t.id,attrs:{item:t}})})),1)])},p=[],v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[s("div",{staticClass:"d-flex align-items-center"},[s("UserAvatar",{staticClass:"avatar m-r-1",attrs:{user:t.item}}),s("div",{staticClass:"d-block"},[s("p",{staticClass:"name"},[t._v(t._s(t.item.first_name+" "+t.item.last_name))]),s("p",{staticClass:"email"},[t._v(t._s(t.item.email))])])],1)]),s("td",[s("RoleIcon",{attrs:{role:t.item.role}})],1),s("td",[s("b-icon",{staticClass:"status__icon m-r-1",class:{done_task:t.item.access_person},attrs:{"font-scale":"1",icon:t.item.access_person?"check-circle-fill":"check-circle"}})],1),s("td",[t._v(t._s(t._f("asDate")(t.item.start_date)))]),s("td",[s("b-dropdown",{staticClass:"actions m-0 p-0",attrs:{size:"sm",variant:"none",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("b-icon",{attrs:{icon:"three-dots"}})]},proxy:!0}])},[s("UserModalAddEdit",{attrs:{user:t.item,inline:!1}},[s("b-dropdown-item",[t._v("Edit")])],1),t.item.active?s("UserModalArchive",{attrs:{user:t.item,archiveStatus:t.item.active,inline:!1},on:{archiveConfirmed:t.archiveUser}},[s("b-dropdown-item",[t._v(t._s(t.item.active?"Disable":"Enable"))])],1):t._e(),t.item.active?t._e():s("b-dropdown-item",{on:{click:function(e){return t.archiveUser(t.item)}}},[t._v("Enable")])],1)],1)])},b=[],h=s("278c"),_=s.n(h),C=s("5fcc"),g=s("5688"),y=s("8848"),w=s("7c2f"),x={name:"roleItem",props:["item"],components:{RoleIcon:w["a"],UserModalArchive:y["a"],UserModalAddEdit:g["a"],UserAvatar:C["a"]},computed:{},methods:{archiveUser:function(t){var e=this,s={id:t.id,reason:!t.reason,status:!t.status};t.description&&(s.description=t.description),this.$store.dispatch("settings/disableEmployee",s).then((function(t){if(t.errors)for(var s=0,r=Object.entries(t.errors);s<r.length;s++){var a=_()(r[s],2),i=a[0],o=a[1];e.toast("Error","Something wrong! ".concat(i," ").concat(o),!0)}t.errors||e.toast("Success","Updated.")}))["catch"]((function(t){return e.toast("Error","Something wrong! ".concat(t.message),!0)}))},deleteUser:function(t){var e=this;this.$store.dispatch("settings/deleteEmployee",{id:t}).then((function(t){if(t.errors)for(var s=0,r=Object.entries(t.errors);s<r.length;s++){var a=_()(r[s],2),i=a[0],o=a[1];e.toast("Error","Something wrong! ".concat(i," ").concat(o),!0)}t.errors||e.toast("Success","The user has been deleted.")}))["catch"]((function(t){return e.toast("Error","Something wrong! ".concat(t.message),!0)}))}}},k=x,E=s("2877"),O=Object(E["a"])(k,v,b,!1,null,"264b238c",null),I=O.exports,$=s("ed59"),S={components:{RoleTypesModalInfo:$["a"],RoleItem:I},props:{users:{type:Array,required:!0}},data:function(){return{sortOptions:{field:"progress",type:"number",reverse:!1}}},computed:{sortedData:function(){var t=this.sortOptions;return this.users.sort((function(e,s){if("number"===t.type)return t.reverse?s[t.field]-e[t.field]:e[t.field]-s[t.field];if("date"===t.type){var r=new Date(e[t.field]),a=new Date(s[t.field]);return t.reverse?a-r:r-a}if("string"===t.type){var i=e[t.field].toLowerCase(),o=s[t.field].toLowerCase();return t.reverse?i>o?-1:i<o?1:0:i<o?-1:i>o?1:0}}))}},methods:{sortSelect:function(t,e){var s=this.sortOptions;t!==s.field?this.sortOptions={field:t,type:e,reverse:!1}:this.sortOptions.reverse=!s.reverse}}},j=S,P=Object(E["a"])(j,f,p,!1,null,null,null),D=P.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("CommonTable",{attrs:{users:t.users}}),t.users>10?s("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage,"aria-controls":"my-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)},R=[],M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticClass:"table"},[s("thead",[s("tr",[s("th",[t._v("Name"),s("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-expand"}})],1),s("th",[t._v("Role"),s("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-expand"}})],1),s("th",[t._v("Reason"),s("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-expand"}})],1),s("th",[t._v("Access Person"),s("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-expand"}})],1),s("th",[t._v("Start Date"),s("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-expand"}})],1),s("th",[t._v("Date Disabled"),s("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-expand"}})],1),s("th",{attrs:{width:"35px"}})])]),s("tbody",t._l(t.sortedData,(function(t){return s("Item",{key:t.id,attrs:{item:t}})})),1)])},A=[],T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[s("p",{staticClass:"name"},[t._v(t._s(t.item.first_name+" "+t.item.last_name))]),s("p",{staticClass:"email"},[t._v(t._s(t.item.email))])]),s("td",[s("RoleIcon",{attrs:{role:t.item.role}})],1),s("td",[s("UserEditReasonModal",{attrs:{user:t.item},on:{editReasonConfirmed:t.editReason}},[s("div",{staticClass:"link"},[t._v(t._s(t._f("capital")(t.item.reason)))])])],1),s("td",[s("b-icon",{staticClass:"status__icon m-r-1",class:{done_task:t.item.status},attrs:{"font-scale":"1",icon:t.item.status?"check-circle-fill":"check-circle"}})],1),s("td",[t._v(t._s(t._f("asDate")(t.item.start_date)))]),s("td",[t._v(t._s(t._f("asDate")(t.item.end_date)))]),s("td",{staticClass:"text-right"},[s("b-dropdown",{staticClass:"actions m-0 p-0",attrs:{size:"sm",variant:"none",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("b-icon",{attrs:{icon:"three-dots"}})]},proxy:!0}])},[s("UserEditReasonModal",{attrs:{user:t.item},on:{editReasonConfirmed:t.editReason}},[s("b-dropdown-item",[t._v("Edit")])],1),t.item.active?s("UserModalArchive",{attrs:{user:t.item,archiveStatus:t.item.active,inline:!1},on:{archiveConfirmed:t.archiveUser}},[s("b-dropdown-item",[t._v(t._s(t.item.active?"Disable":"Enable"))])],1):t._e(),t.item.active?t._e():s("b-dropdown-item",{on:{click:function(e){return t.archiveUser(t.item)}}},[t._v("Enable")]),s("UserModalDelete",{attrs:{inline:!1}},[s("b-dropdown-item",[t._v("Delete")])],1)],1)],1)])},N=[],B=s("8e59"),L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{"d-inline-block":t.inline}},[s("div",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.modalId,expression:"modalId"}],class:{"d-inline-block":t.inline}},[t._t("default")],2),s("b-modal",{staticClass:"fade",attrs:{id:t.modalId,title:"Add User"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 m-b-1"},[s("Notifications",{attrs:{notify:t.notify}},[s("button",{staticClass:"btn btn-default",on:{click:t.editUser}},[t._v("Edit")])])],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 m-b-1"},[s("label",{staticClass:"form-label"},[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],ref:"input",staticClass:"form-control",attrs:{type:"text",placeholder:"Enter email"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),s("Errors",{attrs:{errors:t.errors.email}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 m-b-1"},[s("label",{staticClass:"form-label"},[t._v("Role"),s("RoleTypesModalInfo",[s("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-2 mb-1",attrs:{icon:"dash-circle-fill",variant:"secondary",title:"Toooooooltip","font-scale":"1"}})],1)],1),s("ComboBox",{attrs:{options:t.roleOptions,placeholder:"Select a role"},model:{value:t.form.role,callback:function(e){t.$set(t.form,"role",e)},expression:"form.role"}}),s("Errors",{attrs:{errors:t.errors.role}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 m-b-1"},[s("label",{staticClass:"form-label"},[t._v("Start Date")]),s("DatePicker",{attrs:{options:t.datepickerOptions},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}}),s("Errors",{attrs:{errors:t.errors.start_date}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 p-x-2"},[s("b-form-checkbox",{model:{value:t.form.access,callback:function(e){t.$set(t.form,"access",e)},expression:"form.access"}},[t._v("Access Person")]),s("Errors",{attrs:{errors:t.errors.access}})],1)]),s("template",{slot:"modal-footer"},[s("button",{staticClass:"btn btn-link",on:{click:function(e){return t.$bvModal.hide(t.modalId)}}},[t._v("Cancel")]),s("button",{staticClass:"btn btn-dark",on:{click:t.submit}},[t._v("Add")])])],2)],1)},q=[],F=s("8622"),z=function(){return Math.random().toFixed(10).toString().replace(".","")},V=function(t){return{id:t,label:J(t)}},J=function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""},G=function(){return{email:"",role:"",start_date:"",access:""}},H={components:{Notifications:F["a"],RoleTypesModalInfo:$["a"]},props:{inline:{type:Boolean,default:!0},user:{type:Object,required:!1,default:function(){}}},created:function(){this.user&&(this.user=Object.assign({},this.user,this.user))},data:function(){return{modalId:"modal_".concat(z()),form:G(),errors:{},notify:{show:"show",mainText:"User limit reached",subText:"Please edit your plan in order to add additional users",variant:"warning",dismissible:!1,icon:null,scale:2,animation:""}}},methods:{submit:function(t){var e=this;return o()(d.a.mark((function s(){return d.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.preventDefault();try{e.toast("Success","User successfully added!"),e.$emit("saved"),e.$bvModal.hide(e.modalId)}catch(r){e.toast("Error",r.message)}case 2:case"end":return s.stop()}}),s)})))()},editUser:function(t){console.log(t),console.log("123")}},computed:{datepickerOptions:function(){return{min:new Date}},roleOptions:function(){return["","termination","resignation","temporary","other"].map(V)}}},K=H,Q=Object(E["a"])(K,L,q,!1,null,null,null),W=Q.exports,X=s("363d"),Y={name:"roleItem",components:{UserEditReasonModal:X["a"],UserRoleModalAddEdit:W,RoleIcon:w["a"],UserModalDelete:B["a"],UserModalArchive:y["a"]},props:["item"],computed:{},methods:{editReason:function(t){var e=this,s={id:t.id,reason:t.reason,status:!1};t.description&&(s.description=t.description),this.$store.dispatch("settings/disableEmployee",s).then((function(t){if(t.errors)for(var s=0,r=Object.entries(t.errors);s<r.length;s++){var a=_()(r[s],2),i=a[0],o=a[1];e.toast("Error","Something wrong! ".concat(i," ").concat(o),!0)}t.errors||e.toast("Success","Updated.")}))["catch"]((function(t){return e.toast("Error","Something wrong! ".concat(t.message),!0)}))},archiveUser:function(t){var e=this,s={id:t.id,reason:!t.reason,status:!t.status};t.description&&(s.description=t.description),this.$store.dispatch("settings/disableEmployee",s).then((function(t){if(t.errors)for(var s=0,r=Object.entries(t.errors);s<r.length;s++){var a=_()(r[s],2),i=a[0],o=a[1];e.toast("Error","Something wrong! ".concat(i," ").concat(o),!0)}t.errors||e.toast("Success","Updated.")}))["catch"]((function(t){return e.toast("Error","Something wrong! ".concat(t.message),!0)}))},deleteUser:function(t){var e=this;this.$store.dispatch("settings/deleteEmployee",{id:t}).then((function(t){if(t.errors)for(var s=0,r=Object.entries(t.errors);s<r.length;s++){var a=_()(r[s],2),i=a[0],o=a[1];e.toast("Error","Something wrong! ".concat(i," ").concat(o),!0)}t.errors||e.toast("Success","The user has been deleted.")}))["catch"]((function(t){return e.toast("Error","Something wrong! ".concat(t.message),!0)}))}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}}},Z=Y,tt=Object(E["a"])(Z,T,N,!1,null,"9baae324",null),et=tt.exports,st={components:{Item:et},props:{users:{type:Array,required:!0}},data:function(){return{sortOptions:{field:"progress",type:"number",reverse:!1}}},computed:{sortedData:function(){var t=this.sortOptions;return this.users.sort((function(e,s){if("number"===t.type)return t.reverse?s[t.field]-e[t.field]:e[t.field]-s[t.field];if("date"===t.type){var r=new Date(e[t.field]),a=new Date(s[t.field]);return t.reverse?a-r:r-a}if("string"===t.type){var i=e[t.field].toLowerCase(),o=s[t.field].toLowerCase();return t.reverse?i>o?-1:i<o?1:0:i<o?-1:i>o?1:0}}))}},methods:{sortSelect:function(t,e){var s=this.sortOptions;t!==s.field?this.sortOptions={field:t,type:e,reverse:!1}:this.sortOptions.reverse=!s.reverse}}},rt=st,at=Object(E["a"])(rt,M,A,!1,null,null,null),it=at.exports,ot={name:"index",props:["items","users"],components:{CommonTable:it},data:function(){return{perPage:3,currentPage:1}},computed:{rows:function(){return this.users.length}}},nt=ot,lt=Object(E["a"])(nt,U,R,!1,null,"45a39190",null),ct=lt.exports,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("CommonTable",{attrs:{users:t.users}}),t.users>10?s("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage,"aria-controls":"my-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)},mt=[],ut={name:"index",props:["items","users"],components:{CommonTable:it},data:function(){return{perPage:3,currentPage:1}},computed:{rows:function(){return this.users.length}}},ft=ut,pt=Object(E["a"])(ft,dt,mt,!1,null,"e21d3018",null),vt=pt.exports;function bt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function ht(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(s),!0).forEach((function(e){l()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):bt(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var _t={components:{Loading:u["a"],AccessPersonTable:D,TerminatedEmployees:ct,Resignations:vt},data:function(){return{}},computed:ht(ht({},Object(m["c"])({loading:"loading",users:"settings/employees"})),{},{accessPersons:function(){return this.users.filter((function(t){return t.access_person}))},terminatedEmployees:function(){return this.users.filter((function(t){return"termination"===t.reason}))},resignations:function(){return this.users.filter((function(t){return"resignation"===t.reason}))}}),methods:ht({},Object(m["b"])({getEmployees:"settings/getEmployees"})),mounted:function(){var t=this;return o()(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getEmployees();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}},Ct=_t,gt=Object(E["a"])(Ct,r,a,!1,null,"c2861c66",null);e["default"]=gt.exports}}]);
//# sourceMappingURL=chunk-79e46a24.466b835a.js.map
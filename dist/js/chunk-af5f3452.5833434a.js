(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af5f3452"],{"0afe":function(t,e,n){"use strict";n("857e")},"857e":function(t,e,n){},"8cb1":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card info-board w-100"},[n("div",{staticClass:"card-body p-0"},[n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("div",{staticClass:"d-flex align-items-center"},[n("b-icon",{staticClass:"info-board__icon",attrs:{icon:"shop"}}),t._m(0)],1),n("div",{staticClass:"d-flex ml-auto align-items-center"},[n("router-link",{staticClass:"btn btn-dark no-wrap",attrs:{to:"/"+t.userType+"/settings"}},[t._v("Upgrade Now"),n("b-icon",{staticClass:"ml-2",attrs:{icon:"chevron-right"}})],1)],1)])])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column"},[n("h3",{staticClass:"info-board__title"},[t._v("Get hired for your next big job")]),n("p",{staticClass:"info-board__subtitle mb-0"},[t._v("Sign up for our All Access Membership and unlock the compliance job board, enjoy automated billing, and access to client compliance program management tools.")])])}],s={name:"Plan",components:{},data:function(){return{userType:localStorage.getItem("app.currentUser.userType")?JSON.parse(localStorage.getItem("app.currentUser.userType")):""}}},c=s,o=(n("0afe"),n("2877")),i=Object(o["a"])(c,r,a,!1,null,"ed897bb2",null);e["a"]=i.exports},d2c5:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},["free"===t.plan?n("div",{staticClass:"page-header p-x-40 p-t-30"},[n("EmptyPlan")],1):t._e(),n("div",{staticClass:"page-header",class:"free"===t.plan?"p-t-10":""},[n("h2",{staticClass:"page-header__title"},[n("b",[t._v("Welcome, ")]),t._v(t._s(t.currentSpecialist))])]),n("div",{staticClass:"p-x-40 p-b-40"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("div",{staticClass:"dashboard"},[n("div",{staticClass:"card calendar"},[n("Calendar",t._b({attrs:{etag:t.etag},on:{saved:t.newEtag}},"Calendar",{pdfUrl:t.pdfUrl},!1))],1),n("div",{staticClass:"card upcoming h-100"},[n("UpcomingTasks",{attrs:{etag:t.etag},on:{saved:t.newEtag}})],1)])])])])])},a=[],s=n("9523"),c=n.n(s),o=n("2f62"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card-header"},[n("div",{staticStyle:{"vertical-align":"middle"}},[n("h3",{staticClass:"calendar__title m-y-0"},[n("TaskFormModal",t._b({attrs:{id:"CalendarTaskFormModal"},on:{saved:function(e){return t.$emit("saved")}}},"TaskFormModal",t.nowEditingTask,!1)),t._v(t._s(t.currentMonth)),n("small",{staticClass:"float-right",staticStyle:{"vertical-align":"middle"}},[n("ion-icon",{staticClass:"m-x-1",attrs:{name:"chevron-back-outline"},on:{click:function(e){return e.preventDefault(),t.prev.apply(null,arguments)}}}),n("ion-icon",{attrs:{name:"chevron-forward-outline"},on:{click:function(e){return e.preventDefault(),t.next.apply(null,arguments)}}})],1)],1)]),n("Download",{staticClass:"d-none",attrs:{pdfUrl:t.pdfUrl}})],1),n("div",{staticClass:"card-body p-20"},[n("FullCalendar",{ref:"FullCalendar",attrs:{options:t.calendarOptions},scopedSlots:t._u([{key:"dayCellContent",fn:function(e){return[n("TaskFormModal",{attrs:{"remind-at":t.jsToSql(e.date)},on:{saved:function(e){return t.$emit("saved")}}},[n("a",{staticClass:"fc-daygrid-day-number",attrs:{href:""},domProps:{innerHTML:t._s(t.dayContent(e.date))},on:{click:function(t){t.preventDefault()}}})])]}},{key:"eventContent",fn:function(e){return[n("div",{staticClass:"fc-event-main-frame"},[n("div",{staticClass:"fc-event-title-container"},[n("div",{staticClass:"fc-event-title fc-sticky"},[t._l(e.event.extendedProps.icons,(function(e){return n("span",[n("ion-icon",{attrs:{name:e}}),t._v(" ")],1)})),e.event.extendedProps.remind_at?n("span",{staticClass:"pointer",on:{click:function(n){return t.openModal(e.event.extendedProps.taskId,e.event.extendedProps.oid)}}},[t._v(t._s(e.event.title))]):n("router-link",{attrs:{to:e.event.extendedProps.href}},[t._v(t._s(e.event.title))])],2)])])]}}])})],1)])},l=[],u=n("f5ff"),d=n("3cdd"),p=n("a20c"),f=n("1315"),m=n("05f4"),h=n("6f33"),b=n("a791");function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _="/api/reminders/",j=function(t){return f["DateTime"].fromJSDate(t).toSQLDate()},y={props:{pdfUrl:{type:String,required:!0},etag:Number},components:{FullCalendar:u["a"],TaskFormModal:h["a"],Download:b["a"]},data:function(){return{currentMonth:"",nowEditingTask:{taskId:null,occurenceId:null},download:{start_date:"",end_date:""},errors:{}}},methods:{openModal:function(t,e){var n=this;Object.assign(this.nowEditingTask,{taskId:t,occurenceId:e}),this.$nextTick((function(){return n.$bvModal.show("CalendarTaskFormModal")}))},dayContent:function(t){return f["DateTime"].fromJSDate(t).toFormat("d")},jsToSql:function(t){return j(t)},prev:function(){this.calendarObject.prev(),this.updateCurrentMonth()},next:function(){this.calendarObject.next(),this.updateCurrentMonth()},updateCurrentMonth:function(){this.currentMonth=f["DateTime"].fromJSDate(this.calendarObject.getDate()).toFormat("MMMM yyyy")},refetchEvents:function(){this.calendarObject.refetchEvents()},onClick:function(){this.$refs.dropdown.hide(!0)}},mounted:function(){this.updateCurrentMonth()},computed:{calendarObject:function(){return this.$refs.FullCalendar.getApi()},calendarOptions:function(){var t=this;return{firstDay:1,dayMaxEvents:2,aspectRatio:1.09,plugins:[d["a"],p["a"]],events:function(e,n,r){var a=j(e.start)+"/"+j(e.end);fetch("".concat(t.$store.getters.backendUrl).concat(_).concat(a),t.$store.getters.authHeaders).then((function(t){return t.json()})).then((function(t){return n(t.tasks.concat(t.projects.map((function(t){return g(g({},t),{},{href:"/specialist/my-projects/".concat(t.id)})}))).map((function(t){return g(g({},Object(m["i"])(t)),{},{classNames:[Object(m["c"])(t)]})})))}))["catch"](r)},headerToolbar:!1}}},watch:{etag:{handler:function(t,e){this.refetchEvents()}}}},O=y,C=n("2877"),k=Object(C["a"])(O,i,l,!1,null,null,null),w=k.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card-header d-flex justify-content-between"},[n("h3",{staticClass:"upcoming__header m-y-0"},[t._v("Upcoming")]),n("TaskFormModal",{on:{saved:function(e){return t.$emit("saved")}}},[n("button",{staticClass:"btn btn-dark float-end"},[t._v("New Task")])])],1),n("div",{staticClass:"card-body p-x-20 p-y-30"},[n("b",{directives:[{name:"b-toggle",rawName:"v-b-toggle.upcoming_tasks_collapse",modifiers:{upcoming_tasks_collapse:!0}}],staticClass:"upcoming__title d-flex justify-content-between m-b-10",attrs:{role:"button"}},[t._v("Tasks"),n("ion-icon",{attrs:{name:"chevron-down-outline"}})],1),n("b-collapse",{attrs:{id:"upcoming_tasks_collapse",visible:!0}},[n("TaskTable",{staticClass:"upcoming__table",attrs:{tasks:t.tasks,shortTable:!0},on:{saved:function(e){return t.$emit("saved")}}}),t.tasks.length?n("div",{staticClass:"d-flex justify-content-end mb-2"},[n("router-link",{staticClass:"link upcoming__more",attrs:{to:"/specialist/reminders"}},[t._v("More")])],1):t._e()],1),n("b",{directives:[{name:"b-toggle",rawName:"v-b-toggle.upcoming_projects_collapse",modifiers:{upcoming_projects_collapse:!0}}],staticClass:"upcoming__title d-flex justify-content-between m-b-10",attrs:{role:"button"}},[t._v("Projects"),n("ion-icon",{attrs:{name:"chevron-down-outline"}})],1),n("b-collapse",{attrs:{id:"upcoming_projects_collapse",visible:!0}},[n("ProjectTable",{attrs:{projects:t.projects}}),t.projects.length?n("div",{staticClass:"d-flex justify-content-end"},[n("router-link",{staticClass:"link upcoming__more",attrs:{to:"/specialist/projects"}},[t._v("More")])],1):t._e()],1)],1)])},T=[],x=n("6ab6"),D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table task_table short-table"},[t._m(0),n("tbody",t._l(t.projectList,(function(e,r){return n("tr",{key:r},[n("td",[n("router-link",{staticClass:"link",attrs:{to:e.href}},[t._v(t._s(e.title))])],1),n("td",{staticClass:"text-right due-date",class:{overdue:t.isOverdue(e)}},[t.isOverdue(e)?n("b-icon",{staticClass:"mr-2",attrs:{icon:"exclamation-triangle-fill",variant:"warning"}}):t._e(),t._v(t._s(t._f("asDate")(e.ends_on)))],1)])})),0)])},M=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Name")]),n("th",{staticClass:"text-right"},[t._v("Due date")])])])}];function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $={props:{projects:{type:Array,required:!0}},methods:{isOverdue:m["d"]},computed:{projectList:function(){return this.projects.map((function(t){return E(E({},Object(m["i"])(t)),{},{href:"/specialist/my-projects/".concat(t.id)})}))}}},U=$,F=Object(C["a"])(U,D,M,!1,null,null,null),N=F.exports,I=5,A="/api/reminders/",J="/api/overdue_reminders",L={props:{etag:Number},data:function(){return{tasks:[],projects:[]}},created:function(){this.refetch()},methods:{refetch:function(){var t=this,e=f["DateTime"].local().toSQLDate()+"/"+f["DateTime"].local().plus({days:7}).toSQLDate(),n=[],r=[];fetch(this.$store.getters.backendUrl+J,this.$store.getters.authHeaders).then((function(t){return t.json()})).then((function(t){n=t.tasks})).then(fetch("".concat(this.$store.getters.backendUrl).concat(A).concat(e),this.$store.getters.authHeaders).then((function(t){return t.json()})).then((function(e){n=n.concat(e.tasks),r=e.projects,t.tasks=n.filter((function(t){return!t.done_at})),t.projects=r.slice(0,I)})))}},components:{TaskFormModal:h["a"],TaskTable:x["a"],ProjectTable:N},watch:{etag:{handler:function(t,e){this.refetch()}}}},H=L,q=Object(C["a"])(H,P,T,!1,null,null,null),Q=q.exports,R=n("8cb1");function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var z="/api/specialist/projects/my/",B="/reminders.csv",K={data:function(){return{etag:Math.random(),projects:[]}},methods:{newEtag:function(){this.etag=Math.random()},refetch:function(){var t=this;fetch(this.$store.getters.backendUrl+z,this.$store.getters.authHeaders).then((function(t){return t.json()})).then((function(e){return t.projects=e}))}},created:function(){this.refetch();var t=JSON.parse(localStorage.getItem("app.currentUser.firstEnter"));t&&(this.toast("Success","Account has been created."),localStorage.removeItem("app.currentUser.firstEnter"))},components:{Calendar:w,UpcomingTasks:Q,EmptyPlan:R["a"]},computed:W(W({},Object(o["c"])({roles:"roles/roles",role:"roles/currentRole",plan:"roles/currentPlan",currentAccount:"roles/currentAccount"})),{},{pdfUrl:function(){return B},currentSpecialist:function(){var t=this.currentAccount;return t?"".concat(t.first_name," ").concat(t.last_name):""}})},V=K,X=Object(C["a"])(V,r,a,!1,null,null,null);e["default"]=X.exports}}]);
//# sourceMappingURL=chunk-af5f3452.5833434a.js.map
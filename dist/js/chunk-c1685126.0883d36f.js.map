{"version":3,"sources":["webpack:///./src/business/filefolders/Page.vue?3daf","webpack:///./src/business/filefolders/Page.vue?1fad","webpack:///./src/business/filefolders/modals/FoldersModalCreate.vue?915d","webpack:///src/business/filefolders/modals/FoldersModalCreate.vue","webpack:///./src/business/filefolders/modals/FoldersModalCreate.vue?2b45","webpack:///./src/business/filefolders/modals/FoldersModalCreate.vue","webpack:///src/business/filefolders/Page.vue","webpack:///./src/business/filefolders/Page.vue?9463","webpack:///./src/business/filefolders/Page.vue","webpack:///./src/assets/error_20.svg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","mouseOver","_v","_s","pageTitle","attrs","disabled","zipping","_e","backToRoot","currentFolderName","ref","uploadFile","selectFile","loading","filefolders","files","folders","length","staticRenderFns","class","inline","directives","name","rawName","value","expression","_t","modalId","error","file_folder","domProps","$event","type","indexOf","_k","keyCode","key","submit","apply","arguments","target","composing","$set","errors","slot","$bvModal","hide","component","module","exports"],"mappings":"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","file":"js/chunk-c1685126.0883d36f.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\",on:{\"mouseover\":_vm.mouseOver}},[_c('div',{staticClass:\"page-header grey-border-bottom\"},[_c('h2',{staticClass:\"page-header__title\"},[_vm._v(_vm._s(_vm.pageTitle))]),_c('div',{staticClass:\"page-header__actions\"},[_c('button',{staticClass:\"btn btn-default\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.zipping}},[(_vm.disabled)?_c('b-icon',{staticClass:\"m-r-1\",attrs:{\"icon\":\"arrow-counterclockwise\",\"animation\":\"spin-reverse-pulse\",\"font-scale\":\"1\"}}):_vm._e(),_vm._v(\"Download\")],1)])]),_c('div',{staticClass:\"card-body white-card-body card-body_full-height p-x-40\"},[_c('div',{staticClass:\"d-flex align-items-center mb-2\"},[_c('h4',{staticClass:\"font-16 mb-2 cursor-pointer\",on:{\"click\":_vm.backToRoot}},[_vm._v(\"All Documents\"),(_vm.currentFolderName)?_c('span',{staticClass:\"separator\"},[_vm._v(\" / \")]):_vm._e(),(_vm.currentFolderName)?_c('span',[_vm._v(_vm._s(_vm.currentFolderName))]):_vm._e()])]),_c('div',{staticClass:\"d-flex mb-2\"},[_c('input',{ref:\"inputFile\",attrs:{\"type\":\"file\",\"hidden\":\"\"},on:{\"change\":_vm.uploadFile}}),_c('b-button',{staticClass:\"m-r-1\",attrs:{\"variant\":\"dark\"},on:{\"click\":_vm.selectFile}},[_vm._v(\"Upload\")]),_c('FoldersModalCreate',[_c('b-button',{staticClass:\"btn btn-default\",attrs:{\"variant\":\"light\"}},[_vm._v(\"New Folder\")])],1)],1),_c('div',{staticClass:\"d-block\"},[_c('Loading'),(!_vm.loading && _vm.filefolders.files && _vm.filefolders.folders)?_c('FilefoldersTable',{attrs:{\"filefolders\":_vm.filefolders}}):_vm._e(),(!_vm.loading && _vm.filefolders.files.length < 1 && _vm.filefolders.folders.length < 1)?_c('EmptyState'):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'d-inline-block':_vm.inline}},[_c('div',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:(_vm.modalId),expression:\"modalId\"}],class:{'d-inline-block':_vm.inline}},[_vm._t(\"default\")],2),_c('b-modal',{staticClass:\"fade\",attrs:{\"id\":_vm.modalId,\"title\":\"New Folder\"}},[(_vm.error)?_c('b-alert',{staticClass:\"m-b-20\",attrs:{\"variant\":\"danger\",\"show\":\"\"}},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.file_folder.name),expression:\"file_folder.name\"}],ref:\"input\",staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.file_folder.name)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.file_folder, \"name\", $event.target.value)}}}),_c('Errors',{attrs:{\"errors\":_vm.errors.name}})],1)]),_c('template',{slot:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-link\",on:{\"click\":function($event){return _vm.$bvModal.hide(_vm.modalId)}}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn btn-dark\",on:{\"click\":_vm.submit}},[_vm._v(\"Create\")])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  div(:class=\"{'d-inline-block':inline}\")\n    div(v-b-modal=\"modalId\" :class=\"{'d-inline-block':inline}\")\n      slot\n\n    b-modal.fade(:id=\"modalId\" title=\"New Folder\")\n      b-alert.m-b-20(v-if=\"error\" variant=\"danger\" show) {{ error }}\n\n      .row\n        .col-12\n          label.form-label Name\n          input.form-control(v-model=\"file_folder.name\" type=\"text\" ref=\"input\" v-on:keyup.enter=\"submit\")\n          Errors(:errors=\"errors.name\")\n\n      template(slot=\"modal-footer\")\n        button.btn.btn-link(@click=\"$bvModal.hide(modalId)\") Cancel\n        button.btn.btn-dark(@click=\"submit\") Create\n</template>\n\n<script>\n  import { mapActions, mapGetters } from \"vuex\"\n  import Errors from '@/common/Errors'\n\n  const rnd = () => Math.random().toFixed(10).toString().replace('.', '')\n\n  export default {\n    props: {\n      inline: {\n        type: Boolean,\n        default: true\n      },\n    },\n    components: {\n      Errors,\n    },\n    data() {\n      return {\n        modalId: `modal_${rnd()}`,\n        file_folder: {\n          name: '',\n        },\n        errors: {},\n        error: ''\n      }\n    },\n    computed: {\n      ...mapGetters({\n        parentId: 'filefolders/currentFolder'\n      })\n    },\n    methods: {\n      ...mapActions({\n        createFolder: 'filefolders/createFolder',\n      }),\n      async submit(e) {\n        e.preventDefault();\n        this.error = ''\n\n        if (!this.file_folder.name) {\n          this.error = 'Required field'\n          return\n        }\n        if (this.file_folder.name.length <= 3) {\n          // this.errors.push('Name must have more than 3 characters');\n          this.error = 'Name must have more than 3 characters.'\n          return;\n        }\n\n        if(this.parentId) this.file_folder.parent_id = this.parentId\n\n        try {\n          const response = await this.createFolder(this.file_folder)\n          if (response.errors) {\n            this.toast('Error', `Folder has not been created. Please try again.`, true)\n            Object.keys(response.errors)\n              .map(prop => response.errors[prop].map(err => this.toast(`Error`, `${prop}: ${err}`)))\n            return\n          }\n          if (!response.errors) {\n            this.toast('Success', `Folder has been created.`)\n            this.$emit('saved')\n            this.$bvModal.hide(this.modalId)\n            this.file_folder.name = ''\n          }\n        } catch (error) {\n          this.toast('Error', error.message, true)\n        }\n      },\n    },\n  }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FoldersModalCreate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FoldersModalCreate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FoldersModalCreate.vue?vue&type=template&id=53eeecba&lang=pug&\"\nimport script from \"./FoldersModalCreate.vue?vue&type=script&lang=js&\"\nexport * from \"./FoldersModalCreate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n  .page(@mouseover=\"mouseOver\")\n    .page-header.grey-border-bottom\n      h2.page-header__title {{ pageTitle }}\n      .page-header__actions\n        button.btn.btn-default(@click=\"zipping\" :disabled=\"disabled\")\n          b-icon.m-r-1(v-if=\"disabled\" icon=\"arrow-counterclockwise\" animation=\"spin-reverse-pulse\" font-scale=\"1\")\n          | Download\n    .card-body.white-card-body.card-body_full-height.p-x-40\n      .d-flex.align-items-center.mb-2\n        h4.font-16.mb-2.cursor-pointer(@click=\"backToRoot\") All Documents\n          span.separator(v-if=\"currentFolderName\") &nbsp/&nbsp;\n          span(v-if=\"currentFolderName\") {{ currentFolderName }}\n      .d-flex.mb-2\n        input(ref=\"inputFile\" type=\"file\" hidden @change=\"uploadFile\")\n        b-button.m-r-1(variant=\"dark\" @click=\"selectFile\") Upload\n        FoldersModalCreate\n          b-button.btn.btn-default(variant=\"light\") New Folder\n      .d-block\n        Loading\n        FilefoldersTable(v-if=\"!loading && filefolders.files && filefolders.folders\" :filefolders=\"filefolders\")\n        EmptyState(v-if=\"!loading && filefolders.files.length < 1 && filefolders.folders.length < 1\")\n\n</template>\n\n<script>\n  import { mapActions, mapGetters } from \"vuex\"\n  import Loading from '@/common/Loading/Loading'\n  import FoldersModalCreate from './modals/FoldersModalCreate'\n  import FilefoldersTable from './components/FilefoldersTable'\n  import EmptyState from '@/common/EmptyState'\n  \n  export default {\n    components: {\n      Loading,\n      FoldersModalCreate,\n      FilefoldersTable,\n      EmptyState\n    },\n    data() {\n      return {\n        pageTitle: \"Books and Records\",\n        file: null,\n        inputFile: null,\n        disabled: false,\n        zipStatus: false,\n        zipCounter: 0,\n        pageFolderName: '',\n        refreshTimer: 0,\n      };\n    },\n    created() {\n\n    },\n    methods: {\n      ...mapActions({\n        startZipping: 'filefolders/startZipping',\n        getFileFoldersById: 'filefolders/getFileFoldersById',\n      }),\n      selectFile() {\n        let fileInputElement = this.$refs.inputFile;\n        fileInputElement.click();\n\n        // Do something with chosen file\n        this.file = this.$refs.inputFile.files[0];\n      },\n      uploadFile(){\n        this.file = this.$refs.inputFile.files[0];\n\n        const params = {\n          file_doc: {\n            // file_folder_id: this.currentFolderId,\n            file: this.file,\n            name: this.file.name\n          }\n        }\n\n        if (this.currentFolderId) params.file_doc.file_folder_id = this.currentFolderId\n\n        let formData = new FormData()\n        Object.keys(params.file_doc)\n          .map(specAttr => formData.append(`file_doc[${specAttr}]`, params.file_doc[specAttr]))\n\n        // console.log('formData', formData)\n\n        this.$store\n          .dispatch('filefolders/uploadFile', formData)\n          .then(response => {\n            // console.log('response', response)\n\n            if(!response.errors) {\n              this.toast('Success', `File has been uploaded.`)\n            }\n          })\n          .catch(error => {\n            console.error(error)\n            this.toast('Error', `File has been not been uploaded. Please try again`, true)\n            this.zipStatus = false\n            this.disabled = false\n          })\n      },\n      async zipping() {\n        if (!this.currentFolderId) return\n\n        try {\n          // console.log('zipping')\n          this.disabled = true\n          await this.$store.dispatch('filefolders/startZipping')\n            .then(response => {\n              // console.log(response)\n              this.toast('Success', `File has been downloaded.`)\n\n              setTimeout(() => {\n                this.zippinTimerChecker()\n                this.zipCounter++\n              }, 5000)\n            })\n            .catch(error => {\n              console.error(response)\n              this.zipStatus = false\n              this.disabled = false\n            })\n            // .finally(() => this.zippinTimerChecker()) // FOR TESTS\n        } catch (error) {\n          this.toast('Error', error.message, true)\n        }\n      },\n      async zippinTimerChecker(){\n        try {\n          // console.log('zipping')\n          this.disabled = true\n          await this.$store.dispatch('filefolders/checkZipping')\n            .then(response => {\n              // console.log(response)\n              // this.zipCounter = 11\n              if (!response.complete) {\n                setTimeout(() => {\n                  this.zippinTimerChecker()\n                  this.zipCounter++\n                }, 5000)\n              }\n\n              if (response.complete) {\n                this.zipStatus = true\n                this.toast('Success', 'File has been downloaded.')\n\n                // const url = response.path\n                // this.forceFileDownload(response.path)\n                this.download(response.path, `Books and Records ${this.currentFolderId}.zip`);\n                this.disabled = false\n              }\n            })\n            .catch(error => console.error(response))\n            // .finally(() => {\n            //   // If automatic requests less or equal 10\n            //   if (this.zipCounter <= 10) {\n            //     if(!this.zipStatus) {\n            //       setTimeout(() => {\n            //         this.zippinTimerChecker()\n            //         this.zipCounter++\n            //       }, 5000)\n            //     }\n            //   } else {\n            //     this.disabled = false\n            //     this.toast('Error', 'File has not been downloaded. Please try again.')\n            //   }\n            // })\n        } catch (error) {\n          this.toast('Error', error.message, true)\n        }\n      },\n      // forceFileDownload(response){\n      //   const url = window.URL.createObjectURL(new Blob([response]))\n      //   const link = document.createElement('a')\n      //   link.href = url\n      //   link.setAttribute('download', 'file.zip') //or any other extension\n      //   document.body.appendChild(link)\n      //   link.click()\n      // },\n      download(dataurl, filename) {\n        var a = document.createElement(\"a\");\n        a.href = dataurl;\n        a.setAttribute(\"download\", filename);\n        a.click();\n      },\n      async backToRoot (e) {\n        try {\n          await this.$store.dispatch('filefolders/getFileFolders')\n            .then(() => {\n              this.$store.commit('filefolders/SET_CUREENT_FOLDER', null)\n              this.$store.commit('filefolders/SET_CUREENT_FOLDER_NAME', null)\n            })\n        } catch (error) {\n          this.toast('Error', error.message, true)\n        }\n      },\n      mouseOver: function(event){\n        if (event) this.refreshTimer++\n        if (this.refreshTimer === 300) {\n          this.refreshFolders()\n          this.refreshTimer = 0;\n        }\n      },\n      async refreshFolders() {\n        await this.$store.dispatch('filefolders/getFileFolders')\n      }\n    },\n    computed: {\n      loading() {\n        return this.$store.getters.loading;\n      },\n      ...mapGetters({\n        filefolders: 'filefolders/filefolders',\n        currentFileFolders: 'filefolders/currentFileFolders',\n        currentFolderId: 'filefolders/currentFolder',\n        currentFolderName: 'filefolders/currentFolderName'\n      }),\n      // pageFolderName() {\n      //   if (!this.currentFolderId) return ''\n      //   return this.filefolders.folders.find(folder => {\n      //     if (folder.id === this.currentFolderId) return folder.name\n      //   })\n      // }\n    },\n    async mounted () {\n      try {\n        const currentPage = window.location.pathname.match( /\\d+/g )\n        if(!currentPage) await this.$store.dispatch('filefolders/getFileFolders') // default fiflefolders\n\n        // if id exist in URL get fiflefolders\n        if(currentPage) {\n          await this.getFileFoldersById(currentPage[0])\n          this.$store.commit('filefolders/SET_CUREENT_FOLDER', currentPage[0])\n        }\n      } catch (error) {\n        console.error(error)\n        this.toast('Error', error.message, true, true)\n      }\n    },\n  };\n</script>\n\n<style>\n  @import \"./styles.css\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Page.vue?vue&type=template&id=5c03e230&lang=pug&\"\nimport script from \"./Page.vue?vue&type=script&lang=js&\"\nexport * from \"./Page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Page.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/error_20.5080af0b.svg\";"],"sourceRoot":""}
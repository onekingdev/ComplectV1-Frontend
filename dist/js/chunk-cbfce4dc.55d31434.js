(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cbfce4dc"],{"07d1":function(t,e,n){"use strict";n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return i})),n.d(e,"e",(function(){return l})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"i",(function(){return d})),n.d(e,"j",(function(){return f})),n.d(e,"b",(function(){return b})),n.d(e,"d",(function(){return _})),n.d(e,"f",(function(){return y})),n.d(e,"k",(function(){return C}));var s=n("278c"),a=n.n(s),r=n("1315"),o=[{id:"fixed",label:"Fixed Price",text:"Budget-friendly approach for scoped projects."},{id:"hourly",label:"Hourly Price",text:"Pay by the hour. Provides more flexibility."}],i=Object.fromEntries(o.map((function(t){return[t.id,t.label]}))),l={remote:"Remote",remote_and_travel:"Remote + Travel",onsite:"Onsite"},c={upfront:"Upfront",fifty_fifty:"50/50",upon_completion:"Upon Completion",bi_weekly:"Bi-Weekly",monthly:"Monthly"},u={upon_completion:"Upon Completion",bi_weekly:"Bi-Weekly",monthly:"Monthly"},d=function(t){return v(t,m)},f=function(t){return v(t,p)},m=["Investment Adviser","Broker-Dealer","Banking","Commodities Trader","Insurance Provider","Fintech","Other"],p=["USA","Canada","Europe","Central America","South America","Australasia","Asia","Africa","Caribbean","Middle East"],v=function(t,e){var n=t.reduce((function(t,n){return t[e.includes(n.name)?0:1].push(n),t}),[[],[]]),s=a()(n,2),r=s[0],o=s[1];return r.sort((function(t,n){return e.indexOf(t.name)-e.indexOf(n.name)})).concat(o)},b=function(t,e){return h(c,t,e)},_=function(t,e){return h(u,t,e)},h=function(t,e,n){var s=1;if(e&&n){var o=r["DateTime"].fromSQL(e),i=r["DateTime"].fromSQL(n);s=o.isValid&&i.isValid&&i.diff(o,"days").as("days")||1}return Object.fromEntries(Object.entries(t).filter((function(t){var e=a()(t,1),n=e[0];return({bi_weekly:14,monthly:30}[n]||0)<s})))},y={0:"Junior",1:"Intermediate",2:"Expert"},C={none:"None",basic:"Basic",trusted:"Trusted",admin:"Admin"}},"0bbd":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card discussion"},[t._m(0),n("Get",{attrs:{messages:t.messagesUrl,etag:t.etag},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.messages;return[s.length?n("div",{staticClass:"card-body"},t._l(s,(function(e){return n("div",{key:e.id},[n("p",{staticClass:"discussion__text mb-0"},[n("span",{staticClass:"discussion__date float-right"},[t._v(t._s(t._f("asDate")(e.created_at)))]),t._v(t._s(e.message))]),n("hr")])})),0):n("div",{staticClass:"card-body discussion__body"},[n("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[n("ion-icon",{staticClass:"discussion__icon m-b-10",attrs:{name:"chatbox-ellipses-outline"}}),n("p",{staticClass:"discussion__text mb-0"},[t._v("No comments posted")])],1),n("hr")])]}}])}),n("div",{staticClass:"card-body"},[n("InputTextarea",{staticClass:"m-b-20",attrs:{placeholder:"Make a comment or leave a note...",errors:t.commentErrors&&t.commentErrors.message},model:{value:t.comment.message,callback:function(e){t.$set(t.comment,"message",e)},expression:"comment.message"}},[t._v("Comment")]),n("Post",t._b({on:{saved:t.commentSaved,errors:function(e){t.commentErrors=e}}},"Post",t.postCommentProps,!1),[n("button",{staticClass:"btn btn-default"},[t._v("Add Comment")])])],1)],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-header"},[n("h3",{staticClass:"mb-0"},[t._v("Discussion")])])}],r=n("f774"),o=2e4,i={mixins:[Object(r["a"])()],props:{projectId:{type:Number,required:!0},token:{type:String,required:!0}},data:function(){return{comment:{message:null},commentErrors:null}},created:function(){setInterval(this.newEtag,o)},methods:{commentSaved:function(){this.newEtag(),this.toast("Success","Comment added"),this.comment.message=null}},computed:{postCommentProps:function(){return{action:this.messagesUrl,model:{message:this.comment},headers:{Authorization:this.token}}},messagesUrl:function(){return"/api/local_projects/".concat(this.projectId,"/messages")}}},l=i,c=n("2877"),u=Object(c["a"])(l,s,a,!1,null,null,null);e["a"]=u.exports},2814:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-body white-card-body card-body_full-height"},[n("label",[n("a",{staticClass:"btn btn-default"},[t._v("Upload File")]),n("input",{staticStyle:{display:"none"},attrs:{type:"file",name:"file"},on:{change:t.onFileChanged}})]),n("Get",{attrs:{documents:t.url,etag:t.etag},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.documents;return[n("div",{staticClass:"row p-x-1"},t._l(s,(function(e){return n("div",{key:e.id,staticClass:"alert alert-info col-md-4"},[n("p",[t._v(t._s(e.file_data.metadata.filename))]),n("p",[n("a",{attrs:{href:t.getDocumentUrl(e),target:"_blank"}},[t._v("Download")])])])})),0)]}}])})],1)},a=[],r=n("c973"),o=n.n(r),i=n("a34a"),l=n.n(i),c=n("f774"),u=function(){var t=o()(l.a.mark((function t(e,n){var s;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=new FormData,s.append("file",n),t.next=4,fetch(this.$store.getters.backendUrl+e,{method:"POST",body:s});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),d={mixins:[Object(c["a"])()],props:{project:{type:Object,required:!0}},methods:{onFileChanged:function(t){var e=this;return o()(l.a.mark((function n(){var s,a,r;return l.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=t.target.files&&t.target.files[0],!s){n.next=8;break}return n.next=4,u(e.url,s);case 4:a=n.sent.ok,r=a?"Document uploaded":"Document upload failed",e.toast("Document Upload",r,!a),e.newEtag();case 8:case"end":return n.stop()}}),n)})))()},getDocumentUrl:function(t){return"/uploads/".concat(t.file_data.storage,"/").concat(t.file_data.id)}},computed:{url:function(){return"/api/projects/".concat(this.project.id,"/documents")}}},f=d,m=n("2877"),p=Object(m["a"])(f,s,a,!1,null,null,null);e["a"]=p.exports},"2ce4":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasChanges||t.isSuggestionVisible?n("div",[t.hasChanges&&!t.isMyChange&&t.project.extension.ends_on_only?n("div",{staticClass:"alert alert-warning m-b-20"},[n("h4",{staticClass:"alert-heading"},[t._v(t._s(t.counterpartyName)+" has requested to extend the deadline to "+t._s(t._f("asDate")(t.project.extension.ends_on)))]),n("p",{staticClass:"mb-0"},[n("Post",{attrs:{action:t.submitUrl+"/1",method:"PUT",model:{confirm:!0}},on:{saved:function(e){return t.saved("Deadline extended")}}},[n("button",{staticClass:"btn btn-default float-right"},[t._v("Accept")])]),n("Post",{attrs:{action:t.submitUrl+"/1",method:"PUT",model:{deny:!0}},on:{saved:function(e){return t.saved("Deadline extension denied")}}},[n("button",{staticClass:"btn btn-default float-right m-r-1"},[t._v("Deny")])]),t._v("Would you like to proceed?")],1)]):t.hasChanges&&!t.isMyChange?n("div",{staticClass:"alert alert-warning m-b-20"},[n("h4",{staticClass:"alert-heading"},[t._v("Contract change requested")]),n("p",{staticClass:"mb-0"},[t._v("Would you like to proceed?"),n("ApproveContractChangesModal",{attrs:{project:t.project},on:{saved:function(e){return t.$emit("saved")}}})],1)]):t.isSuggestionVisible?n("Notifications",{staticClass:"m-b-20",attrs:{notify:t.notifyDueDate}},[n("button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"ExtendDeadlineModal",expression:"'ExtendDeadlineModal'"}],staticClass:"btn btn-default m-r-2"},[t._v("Extend"),n("b-modal",{attrs:{id:"ExtendDeadlineModal",title:"Extend Deadline"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var s=e.hide;return[n("button",{staticClass:"btn btn-link float-right",on:{click:s}},[t._v("Cancel")]),n("Post",{attrs:{action:t.submitUrl,model:t.form},on:{errors:function(e){t.errors=e},saved:function(e){return t.saved("A project extension has been requested")}}},[n("button",{staticClass:"btn btn-dark float-right"},[t._v("Confirm")])])]}}],null,!1,431432600)},[n("InputDate",{attrs:{errors:t.errors.ends_on,options:t.datepickerOptions},model:{value:t.form.ends_on,callback:function(e){t.$set(t.form,"ends_on",e)},expression:"form.ends_on"}},[t._v("New Due Date")])],1)],1)]):t._e()],1):t._e()},a=[],r=n("8622"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"ApproveContractChangesModal",expression:"'ApproveContractChangesModal'"}],staticClass:"btn btn-default"},[t._v("View")]),n("b-modal",{attrs:{id:"ApproveContractChangesModal",title:"View Changes"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var s=e.hide;return[n("button",{staticClass:"btn btn-link mr-2",on:{click:s}},[t._v("Cancel")]),n("Post",{attrs:{action:"/api/projects/"+t.project.id+"/extension/1",method:"PUT",model:{deny:!0}},on:{saved:function(e){return t.saved(!1)}}},[n("button",{staticClass:"btn btn-outline-dark"},[t._v("Reject")])]),n("Post",{attrs:{action:"/api/projects/"+t.project.id+"/extension/1",method:"PUT",model:{confirm:!0}},on:{saved:function(e){return t.saved(!0)}}},[n("button",{staticClass:"btn btn-dark"},[t._v("Accept")])])]}}])},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("h3",[t._v("Terms")]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm"},[n("label",{staticClass:"form-label"},[t._v("Start Date")]),n("input",{staticClass:"form-control-plaintext",class:t.inputClass("starts_on"),attrs:{type:"text",readonly:""},domProps:{value:t._f("asDate")(t.extension.starts_on)}})]),n("div",{staticClass:"col-sm"},[n("label",{staticClass:"form-label"},[t._v("Due Date")]),n("input",{staticClass:"form-control-plaintext",class:t.inputClass("ends_on"),attrs:{type:"text",readonly:""},domProps:{value:t._f("asDate")(t.extension.ends_on)}})])]),null==t.extension.hourly_rate?n("div",[n("label",{staticClass:"form-label"},[t._v("Fixed Budget")]),n("input",{staticClass:"form-control-plaintext",class:t.inputClass("fixed_budget"),attrs:{type:"text",readonly:""},domProps:{value:t._f("usdWhole")(t.extension.fixed_budget)}})]):n("div",[n("label",{staticClass:"form-label"},[t._v("Hourly Rate")]),n("input",{staticClass:"form-control-plaintext",class:t.inputClass("hourly_rate"),attrs:{type:"text",readonly:""},domProps:{value:t._f("usdWhole")(t.extension.hourly_rate)}})]),n("hr"),n("h3",[t._v("Role")]),n("label",{staticClass:"form-label"},[t._v("Role Details")]),n("textarea",{staticClass:"form-control-plaintext",class:t.inputClass("role_details"),attrs:{readonly:"",rows:"4"},domProps:{value:t.extension.role_details}}),n("label",{staticClass:"form-label"},[t._v("Key Deliverables")]),n("textarea",{staticClass:"form-control-plaintext",class:t.inputClass("key_deliverables"),attrs:{readonly:"",rows:"4"},domProps:{value:t.extension.key_deliverables}}),n("h3",{staticClass:"m-t-1"},[t._v("Attachments")]),n("div",{staticClass:"card m-b-1"},[n("div",{staticClass:"card-body"})])])])])],1)},i=[],l={props:{project:{type:Object,required:!0}},methods:{saved:function(t){this.toast("Success",t?"Accepted":"Rejected"),this.$bvModal.hide("ApproveContractChangesModal"),this.$emit("saved")},inputClass:function(t){var e=this,n=function(t){return e.project[t]&&e.project.extension[t]&&e.project[t]!=e.project.extension[t]};return n(t)?"border border-warning":""}},computed:{extension:function(){return this.project.extension}}},c=l,u=n("2877"),d=Object(u["a"])(c,o,i,!1,null,null,null),f=d.exports,m=n("1315"),p=["Business","Specialist"],v={props:{project:{type:Object,required:!0},for:{type:String,validator:function(t){return p.includes(t)},required:!0}},data:function(){return{form:{ends_on_only:!0,ends_on:null},errors:{},notifyDueDate:{show:"show",mainText:"The project's due date tommorow",subText:"Do you want to extend the dataline?",variant:"warning",dismissible:!0,icon:null,scale:2}}},methods:{saved:function(t){this.toast("Success",t),this.$emit("saved")}},computed:{counterpartyType:function(){var t=this;return p.find((function(e){return e!==t["for"]})).toLowerCase()},counterpartyName:function(){var t=p.indexOf(this["for"]),e=this.project,n=e.business,s=e.specialist;return[n.business_name,"".concat(s.first_name," ").concat(s.last_name)][t]},hasChanges:function(){return this.project.extension&&this.project.extension.requester},isMyChange:function(){return this.hasChanges&&this.project.extension.requester.startsWith(this["for"])},isSuggestionVisible:function(){return this.project.specialist_id&&m["DateTime"].local().plus({days:1}).toSQLDate()===this.project.ends_on},datepickerOptions:function(){return{min:m["DateTime"].local().plus({days:1}).toJSDate().toISOString()}},submitUrl:function(){return"/api/projects/"+this.project.id+"/extension"}},components:{Notifications:r["a"],ApproveContractChangesModal:f}},b=v,_=Object(u["a"])(b,s,a,!1,null,null,null);e["a"]=_.exports},8622:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.notify?n("b-alert",{staticClass:"notifications",attrs:{show:t.notify.show,variant:t.notify.variant?t.notify.variant:"primary",dismissible:t.notify.dismissible}},[n("div",{staticClass:"d-flex align-items-center"},[t.notifyIcon?n("b-icon",{staticClass:"m-r-2 m-l-1",attrs:{icon:t.notifyIcon,animation:t.notify.animation,scale:t.notify.scale,variant:t.notify.variant}}):t._e(),n("div",{staticClass:"d-block mr-auto"},[t.notify.mainText?n("h4",{staticClass:"notifications__title"},[n("b",[t._v(t._s(t.notify.mainText))])]):t._e(),t.notify.subText?n("p",{staticClass:"notifications__sub-title mb-0"},[t._v(t._s(t.notify.subText))]):t._e()]),n("span",{on:{click:function(e){return t.$emit("click")}}},[t._t("default")],2)],1)]):t._e()},a=[],r={props:{notify:{type:Object,required:!0}},components:{},data:function(){return{}},computed:{notifyIcon:function(){if(this.notify.icon)return this.notify.icon;var t=this.notify.variant;return"primary"!==t&&"info"!==t||(this.notify.icon=""),"success"===t&&(this.notify.icon="check-circle-fill"),"warning"===t&&(this.notify.icon="exclamation-triangle-fill"),"danger"===t&&(this.notify.icon="dash-circle-fill"),this.notify.icon}}},o=r,i=n("2877"),l=Object(i["a"])(o,s,a,!1,null,"9ff56fd0",null);e["a"]=l.exports},b2a8:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var s=n("9523"),a=n.n(s),r=n("07d1");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=function(t){return[{name:"Start Date",value:t.starts_on,filter:"asDate"},{name:"Due Date",value:t.ends_on,filter:"asDate"},{name:"fixed"===t.pricing_type?"Bid Price":"Hourly Rate",value:"fixed"===t.pricing_type?t.fixed_budget:t.hourly_rate,filter:"usdWhole"},{name:"Payment Schedule",value:c(t.payment_schedule)},{name:"Role Details",value:t.role_details},{name:"Key Deliverables",value:t.key_deliverables},{name:"Attachments",value:""}]},c=function(t){return i(i({},r["a"]),r["c"])[t]}},e6d3:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"d-inline-block w-100":t.inline}},[n("div",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.modalId,expression:"modalId"}],class:{"d-inline-block w-100":t.inline}},[t._t("default",(function(){return[n("button",{staticClass:"btn btn-outline-dark float-right"},[t._v("Edit")])]}))],2),n("b-modal",{attrs:{id:t.modalId,title:"Edit Contract"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var s=e.hide;return[n("button",{staticClass:"btn btn-link mr-2",on:{click:s}},[t._v("Cancel")]),n("Post",{attrs:{action:"/api/projects/"+t.project.id+"/extension",model:t.form},on:{errors:function(e){t.errors=e},saved:t.saved}},[n("button",{staticClass:"btn btn-dark"},[t._v("Resubmit")])])]}}])},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("h3",[t._v("Terms")]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm"},[n("InputDate",{attrs:{errors:t.errors.starts_on},model:{value:t.form.starts_on,callback:function(e){t.$set(t.form,"starts_on",e)},expression:"form.starts_on"}},[t._v("Start Date")])],1),n("div",{staticClass:"col-sm"},[n("InputDate",{attrs:{errors:t.errors.ends_on},model:{value:t.form.ends_on,callback:function(e){t.$set(t.form,"ends_on",e)},expression:"form.ends_on"}},[t._v("Due Date")])],1)]),null==t.form.hourly_rate?n("InputText",{staticClass:"m-t-1",attrs:{errors:t.errors.fixed_budget},model:{value:t.form.fixed_budget,callback:function(e){t.$set(t.form,"fixed_budget",e)},expression:"form.fixed_budget"}},[t._v("Fixed Budget")]):n("InputText",{staticClass:"m-t-1",attrs:{errors:t.errors.hourly_rate},model:{value:t.form.hourly_rate,callback:function(e){t.$set(t.form,"hourly_rate",e)},expression:"form.hourly_rate"}},[t._v("Hourly Rate")]),n("hr"),n("h3",[t._v("Role")]),n("InputTextarea",{staticClass:"m-t-1",attrs:{errors:t.errors.role_details,rows:4},model:{value:t.form.role_details,callback:function(e){t.$set(t.form,"role_details",e)},expression:"form.role_details"}},[t._v("Role Details")]),n("InputTextarea",{staticClass:"m-t-1",attrs:{errors:t.errors.key_deliverables,rows:4},model:{value:t.form.key_deliverables,callback:function(e){t.$set(t.form,"key_deliverables",e)},expression:"form.key_deliverables"}},[t._v("Key Deliverables")]),n("h3",{staticClass:"m-t-1"},[t._v("Attachments")]),n("div",{staticClass:"card m-b-1"},[n("div",{staticClass:"card-body"},[n("p",[t._v("Drop files here or"),n("a",{staticClass:"btn btn-light"},[t._v("Upload Files")])])])])],1)])])],1)},a=[],r=function(t){return{starts_on:t.starts_on||null,ends_on:t.ends_on||null,fixed_budget:t.fixed_budget?parseInt(t.fixed_budget):null,hourly_rate:t.hourly_rate?parseInt(t.hourly_rate):null,key_deliverables:t.key_deliverables||null,role_details:t.role_details||null}},o=function(){return Math.random().toFixed(10).toString().replace(".","")},i={props:{project:{type:Object,required:!0},inline:{type:Boolean,default:!1}},data:function(){return{modalId:"modal_".concat(o()),form:r(this.project),errors:{}}},methods:{saved:function(){this.$bvModal.hide(this.modalId),this.toast("Success","Modification requested."),this.$emit("saved")}}},l=i,c=n("2877"),u=Object(c["a"])(l,s,a,!1,null,null,null);e["a"]=u.exports}}]);
//# sourceMappingURL=chunk-cbfce4dc.55d31434.js.map
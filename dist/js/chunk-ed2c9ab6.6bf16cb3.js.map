{"version":3,"sources":["webpack:///./src/common/TaskHelper.js","webpack:///./src/common/TaskDeleteConfirmModal.vue?3bfe","webpack:///src/common/TaskDeleteConfirmModal.vue","webpack:///./src/common/TaskDeleteConfirmModal.vue?3b54","webpack:///./src/common/TaskDeleteConfirmModal.vue","webpack:///./src/common/TaskFormModal.vue?5297","webpack:///src/common/TaskFormModal.vue","webpack:///./src/common/TaskFormModal.vue?97a8","webpack:///./src/common/TaskFormModal.vue","webpack:///./src/common/Messages/index.vue?9097","webpack:///src/common/Messages/index.vue","webpack:///./src/common/Messages/index.vue?4c75","webpack:///./src/common/Messages/index.vue","webpack:///./src/assets/error_20.svg","webpack:///./src/mixins/EtaggerMixin.js"],"names":["isProject","task","hasOwnProperty","isTask","isOverdue","end_date","ends_on","DateTime","fromISO","local","minus","days","isRepeat","repeat_every","repeat_on","repeats","isComplete","splitReminderOccurenceId","id","oid","done_occurencies","completed_at","done_at","toEvent","start","starts_on","remind_at","end","title","body","icons","iconArray","cssClass","filter","i","v","a","indexOf","val","matches","matchAll","taskId","badgeClass","project","status","businessProjectBadgeClass","status_business","linkedTo","linkableType","linkable_type","linkedToClass","render","_vm","this","_h","$createElement","_c","_self","class","inline","directives","name","rawName","value","expression","_t","staticClass","attrs","modalId","_v","_s","message","errors","slot","on","$event","$bvModal","hide","submit","staticRenderFns","component","resetTask","model","callback","$$v","$set","_b","scopedSlots","_u","key","fn","ref","projects","reviews","policies","exams","linkToValue","linkToOptions","disableBranchNodes","inputLinkTo","linkable_id","assigneeOptions","assignee","optionsToFetch","_e","datepickerOptions","repeatsOptions","repeatsValues","REPEAT_DAILY","domProps","target","composing","REPEAT_WEEKLY","daysOfWeek","REPEAT_MONTHLY","on_type","REPEAT_YEARLY","months","end_by","description","etagMessages","messages","scrollMessages","staticStyle","proxy","messageErrors","messageSaved","_f","toggleDone","occurenceId","deleteTask","mixins","props","String","Number","remindAt","type","Boolean","default","defaults","Object","data","initialTask","methods","toast","newEtagMessages","$nextTick","setTimeout","fetch","$store","getters","backendUrl","occurenceParams","method","target_state","src_id_params","headers","toId","JSON","stringify","response","json","then","computed","isBusiness","map","index","userType","toOption","min","Date","toISOString","editorToolbar","watch","handler","invalid","components","Messages","Tiptap","TaskDeleteConfirmModal","length","_l","sender","first_name","last_name","file_data","metadata","filename","removeFile","created_at","module","exports","etagInit","Math","random","EtaggerMixin","propertyName","prop","refreshMethodName","toUpperCase","substring"],"mappings":"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","file":"js/chunk-ed2c9ab6.6bf16cb3.js","sourcesContent":["import { DateTime } from 'luxon'\n\nconst isProject = task => task.hasOwnProperty('starts_on') && task.hasOwnProperty('ends_on')\nconst isTask = task => task.hasOwnProperty('remindable_type')\nconst isOverdue = task => (task.end_date || task.ends_on) && DateTime.fromISO(task.end_date || task.ends_on) <= DateTime.local().minus({ days: 1 })\nconst isRepeat = task => task.repeat_every || task.repeat_on || task.repeats\nconst isComplete = task => {\n  const { oid } = splitReminderOccurenceId(task.id)\n  if (oid !== null) {\n    return task.done_occurencies.hasOwnProperty(`${oid}`)\n  } else {\n    return (task.completed_at || task.done_at)\n  }\n}\nconst toEvent = (task) => ({\n  ...task,\n  ...splitReminderOccurenceId(task.id),\n  start: task.starts_on || task.remind_at,\n  end: ( task.end_date || task.ends_on )+\" 20:00:00\",\n  title: task.title || task.body,\n  icons: iconArray(task)\n})\nconst cssClass = task => isComplete(task) ? 'task-is-complete'\n                       : isOverdue(task) ? 'task-is-overdue'\n                       : isProject(task) ? 'task-is-project'\n                       : isTask(task) ? 'task-is-task'\n                       : isRepeat(task) ? 'task-is-repeat' : ''\nconst iconArray = (task) => [\n  isComplete(task) ? 'checkbox-outline' : isOverdue(task) ? 'warning' : null,\n  isProject(task) ? 'list-outline' : isTask(task) ? 'checkbox-outline' : null\n].filter(i => i).filter((v, i, a) => a.indexOf(v) === i)\nconst splitReminderOccurenceId = val => {\n  const matches = [...`${val}`.matchAll(/(\\d+)_(\\d+)/ig)]\n  return (matches && matches[0])\n    ? { taskId: +matches[0][1], oid: +matches[0][2] }\n    : { taskId: val, oid: null }\n}\nconst badgeClass = project => project.status == \"pending\" ? 'badge-secondary'\n                            : project.status == \"inprogress\" ? \"badge-progress\"\n                            : project.status == \"complete\" ? \"badge-success\"\n                            : project.status == \"draft\" ? 'badge-secondary'\n                            : project.status == \"published\" ? 'badge-success'\n                            : isOverdue(project) ? \"badge-warning\" : ''\n\nconst businessProjectBadgeClass = project => project.status_business == \"not_started\" ? 'badge-secondary'\n                                           : project.status_business == \"in_progress\" ? \"badge-progress\"\n                                           : project.status_business == \"complete\" ? \"badge-success\"\n                                           : project.status_business == \"draft\" ? 'badge-secondary'\n                                           : project.status_business == \"pending\" ? 'badge-light' : ''\n\nconst linkedTo = linkableType => linkableType.linkable_type === 'CompliancePolicy' ? 'document-text'\n                               : linkableType.linkable_type === \"AnnualReport\" ? \"reader\"\n                               : linkableType.linkable_type === \"LocalProject\" ? \"list-circle\"\n                               : linkableType.linkable_type === \"Exam\" ? \"list-circle\" : ''\n\nconst linkedToClass = linkableType => linkableType.linkable_type === 'CompliancePolicy' ? 'black'\n                                    : linkableType.linkable_type === \"AnnualReport\" ? \"yellow\"\n                                    : linkableType.linkable_type === \"LocalProject\" ? \"blue\"\n                                    : linkableType.linkable_type === \"Exam\" ? \"red\" : ''\n\nexport { isProject, isTask, isOverdue, isRepeat, isComplete, toEvent, cssClass, splitReminderOccurenceId, iconArray, badgeClass, businessProjectBadgeClass, linkedTo, linkedToClass }\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'d-inline-block':_vm.inline}},[_c('div',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:(_vm.modalId),expression:\"modalId\"}],class:{'d-inline-block':_vm.inline}},[_vm._t(\"default\")],2),_c('b-modal',{staticClass:\"fade\",attrs:{\"id\":_vm.modalId,\"title\":\"Delete task\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-1 text-center px-0\"},[_c('img',{staticClass:\"mt-1 ml-3\",attrs:{\"src\":require(\"@/assets/error_20.svg\"),\"width\":\"25\",\"height\":\"25\"}})]),_c('div',{staticClass:\"col\"},[_c('p',{staticClass:\"paragraph m-b-10\"},[_vm._v(_vm._s(_vm.message))]),_c('p',{staticClass:\"paragraph mb-0\"},[_c('b',[_vm._v(\"Do you want to continue?\")])])])]),_c('Errors',{attrs:{\"errors\":_vm.errors.title}}),_c('template',{slot:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-link mr-2\",on:{\"click\":function($event){return _vm.$bvModal.hide(_vm.modalId)}}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn btn-dark\",on:{\"click\":_vm.submit}},[_vm._v(\"Confirm\")])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  div(:class=\"{'d-inline-block':inline}\")\n    div(v-b-modal=\"modalId\" :class=\"{'d-inline-block':inline}\")\n      slot\n\n    b-modal.fade(:id=\"modalId\" title=\"Delete task\")\n      .row\n        .col-md-1.text-center.px-0\n          img.mt-1.ml-3(src='@/assets/error_20.svg' width=\"25\" height=\"25\")\n        .col\n          p.paragraph.m-b-10 {{ message }}\n          p.paragraph.mb-0\n            b Do you want to continue?\n\n      Errors(:errors=\"errors.title\")\n\n      template(slot=\"modal-footer\")\n        button.btn.btn-link.mr-2(@click=\"$bvModal.hide(modalId)\") Cancel\n        button.btn.btn-dark(@click=\"submit\") Confirm\n</template>\n\n<script>\n  const rnd = () => Math.random().toFixed(10).toString().replace('.', '')\n  export default {\n    props: {\n      inline: {\n        type: Boolean,\n        default: true\n      },\n      linkedTo: {\n        type: Object,\n        required: false,\n        default: () => {},\n      }\n    },\n    data() {\n      return {\n        modalId: `modal_${rnd()}`,\n        errors: []\n      }\n    },\n    methods: {\n      submit(e) {\n        e.preventDefault();\n        this.errors = [];\n\n        this.$emit('deleteConfirmed')\n        this.$bvModal.hide(this.modalId)\n      },\n    },\n    computed: {\n      message() {\n        const linkedTo = this.linkedTo\n        let message = `Deleting this task will also remove all messages and documents associated with this task.`\n        if (linkedTo) {\n\n          if(linkedTo.linkable_type === 'LocalProject') { message = `You are deleting a task that is linked to the following project: ${linkedTo.linkable_name}. Deleting this task will also remove all messages and documents associated with this task. Please check whether this deletion may impact your present project progress.` }\n          if(linkedTo.linkable_type === 'CompliancePolicy') { message = `You are deleting a task that is linked to the following policies: ${linkedTo.linkable_name}. Deleting this task will also remove all messages and documents associated with this task. Please check whether this deletion may impact your present policies and procedures.`}\n          if(linkedTo.linkable_type === 'AnnualReport') { message = `You are deleting a task that is linked to an internal review: ${linkedTo.linkable_name}. Deleting this task will also remove all messages and documents associated with this task. Please check whether this deletion may impact your internal review progress.` }\n          if(linkedTo.linkable_type === 'Exam') { message = `You are deleting a task that is linked to an exam management: ${linkedTo.linkable_name}. Deleting this task will also remove all messages and documents associated with this task. Please check whether this deletion may impact your exam management progress.` }\n\n        }\n        return message\n      }\n    }\n  }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskDeleteConfirmModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskDeleteConfirmModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskDeleteConfirmModal.vue?vue&type=template&id=31c32dd4&lang=pug&\"\nimport script from \"./TaskDeleteConfirmModal.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskDeleteConfirmModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'d-inline-block':_vm.inline}},[_c('div',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:(_vm.modalId),expression:\"modalId\"}],class:{'d-inline-block':_vm.inline}},[_vm._t(\"default\")],2),_c('b-modal',{staticClass:\"fade\",attrs:{\"id\":_vm.modalId,\"title\":_vm.taskId ? _vm.task.body : 'New task',\"size\":_vm.taskId ? 'xl' : 'md'},on:{\"show\":_vm.resetTask}},[_c('b-row',[_c('div',{class:_vm.taskId ? 'col-lg-6 pr-2' : 'col'},[_c('InputText',{attrs:{\"errors\":_vm.errors.body},model:{value:(_vm.task.body),callback:function ($$v) {_vm.$set(_vm.task, \"body\", $$v)},expression:\"task.body\"}},[_vm._v(\"Task Name\")]),(_vm.isBusiness)?_c('Get',_vm._b({scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar projects = ref.projects;\nvar reviews = ref.reviews;\nvar policies = ref.policies;\nvar exams = ref.exams;\nreturn [_c('label',{staticClass:\"m-t-1 form-label\"},[_vm._v(\"Link to\")]),_c('ComboBox',{attrs:{\"value\":_vm.linkToValue,\"options\":_vm.linkToOptions(projects, reviews, policies, exams),\"placeholder\":\"Select projects, internal reviews, or policies to link the task to\",\"tree-props\":{ disableBranchNodes: true }},on:{\"input\":_vm.inputLinkTo}}),_c('div',{staticClass:\"form-text text-muted\"},[_vm._v(\"Optional\")]),_c('Errors',{attrs:{\"errors\":_vm.errors.linkable_type || _vm.errors.linkable_id}}),_c('label',{staticClass:\"m-t-1 form-label\"},[_vm._v(\"Assignee\")]),_c('ComboBox',{attrs:{\"options\":_vm.assigneeOptions,\"placeholder\":\"Select an assignee\"},model:{value:(_vm.task.assignee),callback:function ($$v) {_vm.$set(_vm.task, \"assignee\", $$v)},expression:\"task.assignee\"}}),_c('div',{staticClass:\"form-text text-muted\"},[_vm._v(\"Optional\")]),_c('Errors',{attrs:{\"errors\":_vm.errors.assignee}})]}}],null,false,2018879884)},'Get',_vm.optionsToFetch,false)):_vm._e(),_c('b-row',{staticClass:\"m-t-1\",attrs:{\"no-gutters\":\"\"}},[_c('div',{staticClass:\"col-sm m-r-1\"},[_c('label',{staticClass:\"form-label required\"},[_vm._v(\"Start Date\")]),_c('DatePicker',{attrs:{\"options\":_vm.datepickerOptions},model:{value:(_vm.task.remind_at),callback:function ($$v) {_vm.$set(_vm.task, \"remind_at\", $$v)},expression:\"task.remind_at\"}}),_c('Errors',{attrs:{\"errors\":_vm.errors.remind_at}})],1),_c('div',{staticClass:\"col-sm\"},[_c('label',{staticClass:\"form-label required\"},[_vm._v(\"Due Date\")]),_c('DatePicker',{attrs:{\"options\":_vm.datepickerOptions},model:{value:(_vm.task.end_date),callback:function ($$v) {_vm.$set(_vm.task, \"end_date\", $$v)},expression:\"task.end_date\"}}),_c('Errors',{attrs:{\"errors\":_vm.errors.end_date}})],1)]),_c('b-row',{staticClass:\"m-t-1\",attrs:{\"no-gutters\":\"\"}},[_c('div',{staticClass:\"col-sm\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Repeats\")]),_c('Dropdown',{attrs:{\"options\":_vm.repeatsOptions},model:{value:(_vm.task.repeats),callback:function ($$v) {_vm.$set(_vm.task, \"repeats\", $$v)},expression:\"task.repeats\"}})],1),(_vm.task.repeats === _vm.repeatsValues.REPEAT_DAILY)?_c('div',{staticClass:\"col-sm m-l-1\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Every\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.task.repeat_every),expression:\"task.repeat_every\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"1\",\"max\":\"1000\",\"step\":\"1\"},domProps:{\"value\":(_vm.task.repeat_every)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.task, \"repeat_every\", $event.target.value)}}}),_c('div',{staticClass:\"form-text\"},[_vm._v(\"Day(s)\")])]):_vm._e(),(_vm.task.repeats === _vm.repeatsValues.REPEAT_WEEKLY)?_c('div',{staticClass:\"col-sm m-l-1\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Every\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.task.repeat_every),expression:\"task.repeat_every\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"1\",\"max\":\"1000\",\"step\":\"1\"},domProps:{\"value\":(_vm.task.repeat_every)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.task, \"repeat_every\", $event.target.value)}}}),_c('div',{staticClass:\"form-text\"},[_vm._v(\"Week(s)\")])]):_vm._e(),(_vm.task.repeats === _vm.repeatsValues.REPEAT_WEEKLY)?_c('div',{staticClass:\"col-sm m-l-1\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Day\")]),_c('Dropdown',{attrs:{\"options\":_vm.daysOfWeek},model:{value:(_vm.task.repeat_on),callback:function ($$v) {_vm.$set(_vm.task, \"repeat_on\", $$v)},expression:\"task.repeat_on\"}})],1):_vm._e(),(_vm.task.repeats === _vm.repeatsValues.REPEAT_MONTHLY)?_c('div',{staticClass:\"col-sm m-l-1\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Every\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.task.repeat_every),expression:\"task.repeat_every\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"1\",\"max\":\"1000\",\"step\":\"1\"},domProps:{\"value\":(_vm.task.repeat_every)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.task, \"repeat_every\", $event.target.value)}}}),_c('div',{staticClass:\"form-text\"},[_vm._v(\"Month(s)\")])]):_vm._e(),(_vm.task.repeats === _vm.repeatsValues.REPEAT_MONTHLY)?_c('div',{staticClass:\"col-sm m-l-1\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"On\")]),_c('Dropdown',{attrs:{\"options\":['Day', 'First', 'Second', 'Third', 'Fourth']},model:{value:(_vm.task.on_type),callback:function ($$v) {_vm.$set(_vm.task, \"on_type\", $$v)},expression:\"task.on_type\"}})],1):_vm._e(),(_vm.task.repeats === _vm.repeatsValues.REPEAT_MONTHLY)?_c('div',{staticClass:\"col-sm m-l-1\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Day\")]),(_vm.task.on_type === 'Day')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.task.repeat_on),expression:\"task.repeat_on\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"1\",\"max\":\"31\",\"step\":\"1\"},domProps:{\"value\":(_vm.task.repeat_on)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.task, \"repeat_on\", $event.target.value)}}}):_c('Dropdown',{attrs:{\"options\":_vm.daysOfWeek},model:{value:(_vm.task.repeat_on),callback:function ($$v) {_vm.$set(_vm.task, \"repeat_on\", $$v)},expression:\"task.repeat_on\"}})],1):_vm._e(),(_vm.task.repeats === _vm.repeatsValues.REPEAT_YEARLY)?_c('div',{staticClass:\"col-sm m-l-1\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Every\")]),_c('Dropdown',{attrs:{\"options\":_vm.months},model:{value:(_vm.task.repeat_every),callback:function ($$v) {_vm.$set(_vm.task, \"repeat_every\", $$v)},expression:\"task.repeat_every\"}})],1):_vm._e(),(_vm.task.repeats === _vm.repeatsValues.REPEAT_YEARLY)?_c('div',{staticClass:\"col-sm m-l-1\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"On\")]),_c('Dropdown',{attrs:{\"options\":['Day', 'First', 'Second', 'Third', 'Fourth']},model:{value:(_vm.task.on_type),callback:function ($$v) {_vm.$set(_vm.task, \"on_type\", $$v)},expression:\"task.on_type\"}})],1):_vm._e(),(_vm.task.repeats === _vm.repeatsValues.REPEAT_YEARLY)?_c('div',{staticClass:\"col-sm m-l-1\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Day\")]),(_vm.task.on_type === 'Day')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.task.repeat_on),expression:\"task.repeat_on\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"1\",\"max\":\"31\",\"step\":\"1\"},domProps:{\"value\":(_vm.task.repeat_on)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.task, \"repeat_on\", $event.target.value)}}}):_c('Dropdown',{attrs:{\"options\":_vm.daysOfWeek},model:{value:(_vm.task.repeat_on),callback:function ($$v) {_vm.$set(_vm.task, \"repeat_on\", $$v)},expression:\"task.repeat_on\"}})],1):_vm._e()]),_c('Errors',{attrs:{\"errors\":_vm.errors.repeats || _vm.errors.repeat_every || _vm.errors.repeat_on || _vm.errors.on_type}}),(_vm.task.repeats)?_c('b-row',{attrs:{\"no-gutters\":\"\"}},[_c('div',{staticClass:\"col-sm-6 m-r-1\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"End By Date\")]),_c('DatePicker',{model:{value:(_vm.task.end_by),callback:function ($$v) {_vm.$set(_vm.task, \"end_by\", $$v)},expression:\"task.end_by\"}}),_c('Errors',{attrs:{\"errors\":_vm.errors.end_by}})],1)]):_vm._e(),_c('InputTextarea',{staticClass:\"m-t-1\",attrs:{\"rows\":_vm.taskId ? 7 : 3,\"errors\":_vm.errors.description},model:{value:(_vm.task.description),callback:function ($$v) {_vm.$set(_vm.task, \"description\", $$v)},expression:\"task.description\"}},[_vm._v(\"Description\")]),_c('div',{staticClass:\"form-text text-muted\"},[_vm._v(\"Optional\")])],1),(_vm.taskId)?_c('div',{staticClass:\"col-lg-6 pl-2\"},[_c('div',{staticClass:\"card-body white-card-body messages-border h-100 p-0\"},[_c('b-tabs',{staticClass:\"special-navs-messages p-0\",attrs:{\"content-class\":\"m-20\"}},[_c('b-tab',{ref:\"comments\",attrs:{\"title\":\"Comments\",\"active\":\"\"}},[_c('b-row',[_c('div',{staticClass:\"col text-center\"},[_c('Get',{attrs:{\"messages\":(\"/api/reminders/\" + _vm.taskId + \"/messages\"),\"etag\":_vm.etagMessages},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar messages = ref.messages;\nreturn [_c('div',{staticClass:\"card-body p-0\"},[_c('Messages',{ref:\"Messages\",attrs:{\"messages\":messages},on:{\"created\":_vm.scrollMessages}})],1)]}}],null,false,3256674839)})],1)])],1),_c('b-tab',{attrs:{\"title\":\"Files\"}},[_c('b-row',[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card-body p-0\"},[_c('b-form-group',[_c('label',[_c('a',{staticClass:\"btn btn-default\"},[_vm._v(\"Upload File\")]),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"name\":\"file\"}})]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 m-b-1\"},[_c('div',{staticClass:\"file-card\"},[_c('div',[_c('b-icon',{staticClass:\"file-card__icon\",attrs:{\"icon\":\"file-earmark-text-fill\"}})],1),_c('div',{staticClass:\"ml-0 mr-auto\"},[_c('p',{staticClass:\"file-card__name\"},[_vm._v(\"Document.pdf\")]),_c('a',{staticClass:\"file-card__link link\",attrs:{\"href\":\"#\",\"target\":\"_blank\"}},[_vm._v(\"Download\")])]),_c('div',{staticClass:\"ml-auto my-auto align-self-start actions\"},[_c('b-dropdown',{staticClass:\"m-0 p-0\",attrs:{\"size\":\"sm\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('b-icon',{attrs:{\"icon\":\"three-dots\"}})]},proxy:true}],null,false,2038261878)},[_c('b-dropdown-item',{staticClass:\"delete\"},[_vm._v(\"Delete\")])],1)],1)])])])])],1)])])],1)],1),_c('hr',{staticClass:\"m-0\"}),_c('b-row',[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card-body p-20 position-relative\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Comment\")]),_c('Tiptap',{model:{value:(_vm.message.message),callback:function ($$v) {_vm.$set(_vm.message, \"message\", $$v)},expression:\"message.message\"}}),_c('Errors',{attrs:{\"errors\":_vm.messageErrors.message}}),_c('Post',{attrs:{\"action\":(\"/api/reminders/\" + _vm.taskId + \"/messages\"),\"model\":{ message: _vm.message }},on:{\"errors\":function($event){_vm.messageErrors = $event},\"saved\":_vm.messageSaved}},[_c('button',{staticClass:\"btn btn-primary save-comment-btn\"},[_vm._v(\"Send\")])])],1)])])],1)]):_vm._e()]),(!_vm.taskId)?_c('template',{slot:\"modal-footer\"},[_c('div',{staticClass:\"d-flex justify-content-between\",staticStyle:{\"width\":\"100%\"}},[_c('div',[_c('button',{staticClass:\"btn btn-link m-r-1\",on:{\"click\":function($event){return _vm.$bvModal.hide(_vm.modalId)}}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn btn-dark\",on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"Save\")])])])]):_vm._e(),(_vm.task.done_at && _vm.taskId)?_c('template',{slot:\"modal-footer\"},[_c('span',{staticClass:\"mr-2\"},[_c('b-icon',{staticClass:\"m-r-1 pointer done_task\",attrs:{\"icon\":\"check-circle-fill\"}}),_c('b',[_vm._v(\"Completed on \"+_vm._s(_vm._f(\"asDate\")(_vm.task.done_at)))])],1),_c('button',{staticClass:\"btn btn-default\",on:{\"click\":function($event){return _vm.toggleDone(_vm.task)}}},[_vm._v(\"Reopen\")])]):(_vm.taskId)?_c('template',{slot:\"modal-footer\"},[(null === _vm.occurenceId)?_c('TaskDeleteConfirmModal',{staticClass:\"mr-auto\",attrs:{\"inline\":false},on:{\"deleteConfirmed\":function($event){return _vm.deleteTask(_vm.task)}}},[_c('button',{staticClass:\"btn btn-outline-danger\"},[_vm._v(\"Delete Task\")])]):(_vm.taskId)?_c('b-dropdown',{staticClass:\"mr-auto\",attrs:{\"variant\":\"outline-danger\",\"text\":\"Delete Task\"}},[_c('TaskDeleteConfirmModal',{attrs:{\"inline\":false},on:{\"deleteConfirmed\":function($event){return _vm.deleteTask(_vm.task, true)}}},[_c('b-dropdown-item',[_vm._v(\"Delete Occurence\")])],1),_c('TaskDeleteConfirmModal',{attrs:{\"inline\":false},on:{\"deleteConfirmed\":function($event){return _vm.deleteTask(_vm.task)}}},[_c('b-dropdown-item',[_vm._v(\"Delete Series\")])],1)],1):_vm._e(),_c('button',{staticClass:\"btn btn-default\",on:{\"click\":function($event){return _vm.toggleDone(_vm.task)}}},[_vm._v(\"Mark as Complete\")]),(!_vm.taskId)?_c('button',{staticClass:\"btn btn-dark\",on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"Create\")]):(null === _vm.occurenceId)?_c('button',{staticClass:\"btn btn-dark\",on:{\"click\":function($event){return _vm.submit(true)}}},[_vm._v(\"Save\")]):_c('b-dropdown',{staticClass:\"font-weight-bold\",attrs:{\"variant\":\"dark\",\"text\":\"Save\"}},[_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.submit(true)}}},[_vm._v(\"Save Occurence\")]),_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"Save Series\")])],1)],1):_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  div(:class=\"{'d-inline-block':inline}\")\n    div(v-b-modal=\"modalId\" :class=\"{'d-inline-block':inline}\")\n      slot\n\n    b-modal.fade(:id=\"modalId\" :title=\"taskId ? task.body : 'New task'\" :size=\"taskId ? 'xl' : 'md'\" @show=\"resetTask\")\n      b-row\n        div(:class=\"taskId ? 'col-lg-6 pr-2' : 'col'\")\n          InputText(v-model=\"task.body\" :errors=\"errors.body\") Task Name\n\n          Get(v-if=\"isBusiness\" v-bind=\"optionsToFetch\"): template(v-slot=\"{projects,reviews,policies,exams}\")\n            label.m-t-1.form-label Link to\n            ComboBox(:value=\"linkToValue\" @input=\"inputLinkTo\" :options=\"linkToOptions(projects, reviews, policies, exams)\" placeholder=\"Select projects, internal reviews, or policies to link the task to\" :tree-props=\"{ disableBranchNodes: true }\")\n            .form-text.text-muted Optional\n            Errors(:errors=\"errors.linkable_type || errors.linkable_id\")\n\n            label.m-t-1.form-label Assignee\n            ComboBox(v-model=\"task.assignee\" :options=\"assigneeOptions\" placeholder=\"Select an assignee\")\n            .form-text.text-muted Optional\n            Errors(:errors=\"errors.assignee\")\n\n          b-row.m-t-1(no-gutters)\n            .col-sm.m-r-1\n              label.form-label.required Start Date\n              DatePicker(v-model=\"task.remind_at\" :options=\"datepickerOptions\")\n              Errors(:errors=\"errors.remind_at\")\n            .col-sm\n              label.form-label.required Due Date\n              DatePicker(v-model=\"task.end_date\" :options=\"datepickerOptions\")\n              Errors(:errors=\"errors.end_date\")\n\n          b-row.m-t-1(no-gutters)\n            .col-sm\n              label.form-label Repeats\n              Dropdown(v-model=\"task.repeats\" :options=\"repeatsOptions\")\n            //- Daily\n            .col-sm.m-l-1(v-if=\"task.repeats === repeatsValues.REPEAT_DAILY\")\n              label.form-label Every\n              input.form-control(type=\"number\" min=\"1\" max=\"1000\" step=\"1\" v-model=\"task.repeat_every\")\n              .form-text Day(s)\n            //- Weekly\n            .col-sm.m-l-1(v-if=\"task.repeats === repeatsValues.REPEAT_WEEKLY\")\n              label.form-label Every\n              input.form-control(type=\"number\" min=\"1\" max=\"1000\" step=\"1\" v-model=\"task.repeat_every\")\n              .form-text Week(s)\n            .col-sm.m-l-1(v-if=\"task.repeats === repeatsValues.REPEAT_WEEKLY\")\n              label.form-label Day\n              Dropdown(v-model=\"task.repeat_on\" :options=\"daysOfWeek\")\n            //- Monthly\n            .col-sm.m-l-1(v-if=\"task.repeats === repeatsValues.REPEAT_MONTHLY\")\n              label.form-label Every\n              input.form-control(type=\"number\" min=\"1\" max=\"1000\" step=\"1\" v-model=\"task.repeat_every\")\n              .form-text Month(s)\n            .col-sm.m-l-1(v-if=\"task.repeats === repeatsValues.REPEAT_MONTHLY\")\n              label.form-label On\n              Dropdown(v-model=\"task.on_type\" :options=\"['Day', 'First', 'Second', 'Third', 'Fourth']\")\n            .col-sm.m-l-1(v-if=\"task.repeats === repeatsValues.REPEAT_MONTHLY\")\n              label.form-label Day\n              input.form-control(v-model=\"task.repeat_on\" v-if=\"task.on_type === 'Day'\" type=\"number\" min=\"1\" max=\"31\" step=\"1\")\n              Dropdown(v-model=\"task.repeat_on\" v-else :options=\"daysOfWeek\")\n            //- Yearly\n            .col-sm.m-l-1(v-if=\"task.repeats === repeatsValues.REPEAT_YEARLY\")\n              label.form-label Every\n              Dropdown(v-model=\"task.repeat_every\" :options=\"months\")\n            .col-sm.m-l-1(v-if=\"task.repeats === repeatsValues.REPEAT_YEARLY\")\n              label.form-label On\n              Dropdown(v-model=\"task.on_type\" :options=\"['Day', 'First', 'Second', 'Third', 'Fourth']\")\n            .col-sm.m-l-1(v-if=\"task.repeats === repeatsValues.REPEAT_YEARLY\")\n              label.form-label Day\n              input.form-control(v-model=\"task.repeat_on\" v-if=\"task.on_type === 'Day'\" type=\"number\" min=\"1\" max=\"31\" step=\"1\")\n              Dropdown(v-model=\"task.repeat_on\" v-else :options=\"daysOfWeek\")\n          Errors(:errors=\"errors.repeats || errors.repeat_every || errors.repeat_on || errors.on_type\")\n\n          b-row(v-if=\"task.repeats\" no-gutters)\n            .col-sm-6.m-r-1\n              label.form-label End By Date\n              DatePicker(v-model=\"task.end_by\")\n              Errors(:errors=\"errors.end_by\")\n\n          InputTextarea.m-t-1(v-model=\"task.description\" :rows=\"taskId ? 7 : 3\" :errors=\"errors.description\") Description\n          .form-text.text-muted Optional\n\n        .col-lg-6.pl-2(v-if=\"taskId\")\n          .card-body.white-card-body.messages-border.h-100.p-0\n            b-tabs.special-navs-messages(content-class=\"m-20\" class=\"p-0\")\n              b-tab(title=\"Comments\" ref=\"comments\" active)\n                b-row\n                  .col.text-center\n                    Get(:messages=\"`/api/reminders/${taskId}/messages`\" :etag=\"etagMessages\"): template(v-slot=\"{ messages }\"): .card-body.p-0\n                      Messages(:messages=\"messages\" ref=\"Messages\" @created=\"scrollMessages\")\n              b-tab(title=\"Files\")\n                //- @todo restrict deletion for specialist/by condition\n                b-row\n                  .col\n                    .card-body.p-0\n                      b-form-group\n                        label\n                          a.btn.btn-default Upload File\n                          input(type=\"file\" name=\"file\" style=\"display: none\")\n                        .row\n                          .col-md-12.m-b-1\n                            .file-card\n                              div\n                                b-icon.file-card__icon(icon=\"file-earmark-text-fill\")\n                              .ml-0.mr-auto\n                                p.file-card__name Document.pdf\n                                a.file-card__link.link(href=\"#\" target=\"_blank\") Download\n                              .ml-auto.my-auto.align-self-start.actions\n                                b-dropdown(size=\"sm\" class=\"m-0 p-0\" right)\n                                  template(#button-content)\n                                    b-icon(icon=\"three-dots\")\n                                  b-dropdown-item.delete Delete\n            hr.m-0\n            b-row\n              .col\n                .card-body.p-20.position-relative\n                  label.form-label Comment\n                  Tiptap(v-model=\"message.message\")\n                  Errors(:errors=\"messageErrors.message\")\n                  Post(:action=\"`/api/reminders/${taskId}/messages`\" :model=\"{ message }\" @errors=\"messageErrors = $event\" @saved=\"messageSaved\")\n                    button.btn.btn-primary.save-comment-btn Send\n\n      template(v-if=\"!taskId\" slot=\"modal-footer\")\n        .d-flex.justify-content-between(style=\"width: 100%\")\n          div\n            button.btn.btn-link.m-r-1(@click=\"$bvModal.hide(modalId)\") Cancel\n            button.btn.btn-dark(@click=\"submit()\") Save\n\n      template(v-if=\"task.done_at && taskId\" slot=\"modal-footer\")\n        span.mr-2\n          b-icon.m-r-1.pointer(icon=\"check-circle-fill\" class=\"done_task\")\n          b Completed on {{ task.done_at | asDate }}\n        button.btn.btn-default(@click=\"toggleDone(task)\") Reopen\n\n      template(v-else-if=\"taskId\" slot=\"modal-footer\")\n        TaskDeleteConfirmModal.mr-auto(v-if=\"null === occurenceId\" :inline=\"false\" @deleteConfirmed=\"deleteTask(task)\")\n          button.btn.btn-outline-danger Delete Task\n        b-dropdown.mr-auto(v-else-if=\"taskId\" variant=\"outline-danger\" text=\"Delete Task\")\n          TaskDeleteConfirmModal(:inline=\"false\" @deleteConfirmed=\"deleteTask(task, true)\")\n            b-dropdown-item Delete Occurence\n          TaskDeleteConfirmModal(:inline=\"false\" @deleteConfirmed=\"deleteTask(task)\")\n            b-dropdown-item Delete Series\n        button.btn.btn-default(@click=\"toggleDone(task)\") Mark as Complete\n        button.btn.btn-dark(v-if=\"!taskId\" @click=\"submit()\") Create\n        button.btn.btn-dark(v-else-if=\"null === occurenceId\" @click=\"submit(true)\") Save\n        b-dropdown.font-weight-bold(v-else variant=\"dark\" text=\"Save\")\n          b-dropdown-item(@click=\"submit(true)\") Save Occurence\n          b-dropdown-item(@click=\"submit()\") Save Series\n</template>\n\n<script>\nimport { DateTime } from 'luxon'\nimport { splitReminderOccurenceId } from '@/common/TaskHelper'\nimport Messages from '@/common/Messages'\nimport Tiptap from '@/common/Tiptap'\nimport EtaggerMixin from '@/mixins/EtaggerMixin'\nimport TaskDeleteConfirmModal from './TaskDeleteConfirmModal'\n\nconst rnd = () => Math.random().toFixed(10).toString().replace('.', '')\nconst toOption = id => ({ id, label: id })\nconst index = (text, i) => ({ text, value: 1 + i })\n\nconst initialTask = defaults => ({\n  body: null,\n  linkable_id: null,\n  linkable_type: null,\n  assignee: null,\n  remind_at: null,\n  end_date: null,\n  end_by: null,\n  repeats: REPEAT_NONE,\n  repeat_every: null,\n  repeat_on: null,\n  on_type: null,\n  description: \"\",\n  ...(defaults || {})\n})\n\nconst REPEAT_NONE = null,\n  REPEAT_DAILY = 'Daily',\n  REPEAT_WEEKLY = 'Weekly',\n  REPEAT_MONTHLY = 'Monthly',\n  REPEAT_YEARLY = 'Yearly',\n  REPEAT_LABELS = {\n    [REPEAT_NONE]: 'Does not repeat',\n    [REPEAT_DAILY]: 'Daily',\n    [REPEAT_WEEKLY]: 'Weekly',\n    [REPEAT_MONTHLY]: 'Monthly',\n    [REPEAT_YEARLY]: 'Yearly',\n  },\n  REPEAT_OPTIONS = [REPEAT_NONE, REPEAT_DAILY, REPEAT_WEEKLY, REPEAT_MONTHLY, REPEAT_YEARLY]\n\nexport default {\n  mixins: [EtaggerMixin('etagMessages')],\n  props: {\n    id: String,\n    taskId: Number,\n    occurenceId: Number,\n    remindAt: String,\n    inline: {\n      type: Boolean,\n      default: true\n    },\n    defaults: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data() {\n    return {\n      modalId: this.id || `modal_${rnd()}`,\n      task: initialTask(this.defaults),\n      errors: [],\n      message: {\n        message: null\n      },\n      messageErrors: {},\n    }\n  },\n  methods: {\n    messageSaved() {\n      this.toast('Comment sent')\n      this.newEtagMessages()\n      this.message.message = null\n      this.messageErrors = {}\n      this.scrollMessages()\n    },\n    scrollMessages() {\n      this.$nextTick(() => {\n        const messagesContainer = this.$refs.Messages.$refs.MessagesContainer\n        setTimeout(() => messagesContainer.scrollTop = messagesContainer.scrollHeight, 500)\n      })\n    },\n    linkToOptions(projects, reviews, policies, exams) {\n      const mapLinkProperty = (property, type) => ({ [property]: label, id }) => ({ id: `${type}|${id}`, label }),\n        optionsBranch = (label, items, type, property) => ({ ...toOption(label), children: items.map(mapLinkProperty(property, type)) })\n      return [\n        optionsBranch('Projects', projects || [], 'LocalProject', 'title'),\n        optionsBranch('Internal Reviews', reviews || [], 'AnnualReport', 'name'),\n        optionsBranch('Policies', policies || [], 'CompliancePolicy', 'name'),\n        optionsBranch('Exams', exams || [], 'Exam', 'name'),\n      ]\n    },\n    inputLinkTo(value) {\n      const [type, id] = value.split('|')\n      this.task.linkable_type = type\n      this.task.linkable_id = id\n    },\n    deleteTask(task, deleteOccurence) {\n      const occurenceParams = deleteOccurence ? `?oid=${this.occurenceId}` : ''\n      fetch(this.$store.getters.backendUrl + '/api/reminders/' + this.taskId + occurenceParams, {\n        method: 'DELETE',\n        ...this.$store.getters.authHeaders\n      }).then(response => {\n        this.$emit('saved')\n        this.$router.push('/business')\n      })\n    },\n    toggleDone(task) {\n      const { taskId, oid } = splitReminderOccurenceId(task.id)\n      const oidParam = oid !== null ? `&oid=${oid}` : ''\n      var target_state = (!(!!task.done_at)).toString()\n      var src_id_params = oid !== null ? `&src_id=${this.taskId}` : ''\n      fetch(`${this.$store.getters.backendUrl}/api/reminders/${taskId}?done=${target_state}${oidParam}${src_id_params}`, {\n        method: 'POST',\n        headers: { ...this.$store.getters.authHeaders.headers, 'Content-Type': 'application/json' },\n      }).then(response => {\n        this.$emit('saved')\n        this.toast('Task saved')\n        this.$bvModal.hide(this.modalId)\n      })\n    },\n    submit(saveOccurence) {\n      this.errors = []\n      const toId = (!saveOccurence && this.taskId) ? `/${this.taskId}` : ''\n      const occurenceParams = saveOccurence ? `?oid=${this.occurenceId}&src_id=${this.taskId}` : ''\n      fetch(this.$store.getters.backendUrl + '/api/reminders' + toId + occurenceParams, {\n        method: 'POST',\n        headers: { ...this.$store.getters.authHeaders.headers, 'Content-Type': 'application/json' },\n        body: JSON.stringify(this.task)\n      }).then(response => {\n        if (response.status === 422) {\n          response.json().then(errors => this.errors = errors.errors)\n        } else if (response.status === 201 || response.status === 200) {\n          this.$emit('saved')\n          this.toast('Success', 'The task has been saved')\n          this.$bvModal.hide(this.modalId)\n          this.resetTask()\n        } else {\n          this.toast('Error', 'Couldn\\'t submit form')\n        }\n      })\n    },\n    resetTask() {\n      if (this.taskId) {\n        fetch(`${this.$store.getters.backendUrl}/api/reminders/${this.taskId}`, {\n          method: 'GET',\n          ...this.$store.getters.authHeaders\n        }).then(response => response.json())\n          .then(result => Object.assign(this.task, result))\n      } else {\n        const withRemindAt = this.remindAt ? { remind_at: this.remindAt } : {}\n        this.task = initialTask({ ...this.defaults, ...withRemindAt })\n      }\n    }\n  },\n  computed: {\n    linkToValue() {\n      return this.task.linkable_type && this.task.linkable_id ? `${this.task.linkable_type}|${this.task.linkable_id}` : null\n    },\n    optionsToFetch() {\n      return this.isBusiness\n        ? {\n            projects: '/api/local_projects',\n            reviews: '/api/business/annual_reports',\n            policies: '/api/business/compliance_policies',\n            exams: '/api/business/exams'\n          }\n        : {}\n    },\n    daysOfWeek() {\n      return ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'].map(index)\n    },\n    months() {\n      return ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'].map(index)\n    },\n    repeatsValues() {\n      return {REPEAT_NONE, REPEAT_DAILY, REPEAT_WEEKLY, REPEAT_MONTHLY, REPEAT_YEARLY}\n    },\n    repeatsOptions: () => REPEAT_OPTIONS.map(value => ({ value, text: REPEAT_LABELS[value] })),\n    isBusiness() {\n      return 'business' === this.$store.getters.userType\n    },\n    assigneeOptions() {\n      return ['John', 'Doe', 'Another specialist'].map(toOption)\n    },\n    datepickerOptions() {\n      return {\n        min: new Date().toISOString()\n      }\n    },\n    editorToolbar() {\n      return [[\"bold\", \"italic\", \"underline\"], [\"blockquote\"], [{ list: \"bullet\" }], [\"link\"]]\n    }\n  },\n  watch: {\n    'task.remind_at': {\n      handler: function(value, oldVal) {\n        const start = DateTime.fromSQL(value), end = DateTime.fromSQL(this.task.end_date)\n        if (!start.invalid && (end.invalid || (end.startOf('day') < start.startOf('day')))) {\n          this.task.end_date = value\n        }\n      }\n    }\n  },\n  components: {\n    Messages,\n    Tiptap,\n    TaskDeleteConfirmModal,\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskFormModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskFormModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskFormModal.vue?vue&type=template&id=067fb72a&lang=pug&\"\nimport script from \"./TaskFormModal.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskFormModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.messages.length)?_c('div',{staticClass:\"messages justify-content-center align-items center text-center\"},[_c('h4',[_vm._v(\"No Comments to Display\")]),_c('p',{staticClass:\"mb-0\"},[_vm._v(\"Type in the comment box below to get started\")])]):_vm._e(),(_vm.messages && _vm.messages.length)?_c('div',{ref:\"MessagesContainer\",staticClass:\"messages\"},_vm._l((_vm.messages),function(message,i){return _c('div',{key:i,staticClass:\"message pb-0\"},[_c('div',{staticClass:\"d-flex align-items-start\"},[_c('UserAvatar',{attrs:{\"user\":message.sender}}),_c('div',{staticClass:\"d-block text-left\"},[_c('p',{staticClass:\"message__user-name\"},[_vm._v(_vm._s(message.sender.first_name)+\" \"+_vm._s(message.sender.last_name)+\" commented.\")]),_c('p',{staticClass:\"message__comment\",domProps:{\"innerHTML\":_vm._s(message.message)}}),_c('div',{staticClass:\"row\",class:message.file_data ? 'm-t-10' : ''},[(message.file_data)?[_c('div',{staticClass:\"col-12\",class:message.file_data.length !== 1 ? 'm-b-1' : ''},[_c('div',{staticClass:\"file-card\"},[_c('div',[_c('b-icon',{staticClass:\"file-card__icon\",attrs:{\"icon\":\"file-earmark-text-fill\",\"font-scale\":\"2\"}})],1),_c('div',{staticClass:\"ml-0 mr-auto\"},[_c('p',{staticClass:\"file-card__name\"},[_vm._v(_vm._s(message.file_data.metadata ? message.file_data.metadata.filename : ''))]),_c('a',{staticClass:\"file-card__link link\",attrs:{\"href\":(\"/uploads/store/\" + (message.file_data.id)),\"target\":\"_blank\"}},[_vm._v(\"Download\")])]),_c('div',{staticClass:\"ml-auto align-self-start actions\"},[_c('b-dropdown',{staticClass:\"m-0 p-0\",attrs:{\"size\":\"sm\",\"variant\":\"none\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('b-icon',{attrs:{\"icon\":\"three-dots\"}})]},proxy:true}],null,true)},[_c('b-dropdown-item',{staticClass:\"delete\",on:{\"click\":function($event){return _vm.removeFile(message.id)}}},[_vm._v(\"Delete file\")])],1)],1)])])]:_vm._e()],2)]),_c('div',{staticClass:\"d-block text-right ml-auto\"},[_c('p',{staticClass:\"message__date\"},[_vm._v(_vm._s(_vm._f(\"asDate\")(message.created_at)))])])],1)])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  div\n    .messages.justify-content-center.align-items.center.text-center(v-if=\"!messages.length\")\n      h4 No Comments to Display\n      p.mb-0 Type in the comment box below to get started\n    .messages(v-if=\"messages && messages.length\" ref=\"MessagesContainer\")\n      .message(v-for=\"(message, i) in messages\" :key=\"i\" class=\"pb-0\")\n        .d-flex.align-items-start\n          UserAvatar(:user=\"message.sender\")\n          .d-block.text-left\n            p.message__user-name {{ message.sender.first_name }} {{ message.sender.last_name }} commented.\n            p.message__comment(v-html=\"message.message\")\n            .row(:class=\"message.file_data ? 'm-t-10' : ''\")\n              template(v-if=\"message.file_data\")\n                .col-12(:class=\"message.file_data.length !== 1 ? 'm-b-1' : ''\")\n                  .file-card\n                    div\n                      b-icon.file-card__icon(icon=\"file-earmark-text-fill\" font-scale=\"2\")\n                    div.ml-0.mr-auto\n                      p.file-card__name {{ message.file_data.metadata ? message.file_data.metadata.filename : '' }}\n                      a.file-card__link.link(:href=\"`/uploads/store/${message.file_data.id}`\" target=\"_blank\") Download\n                    div.ml-auto.align-self-start.actions\n                      b-dropdown(size=\"sm\" variant=\"none\" class=\"m-0 p-0\" right)\n                        template(#button-content)\n                          b-icon(icon=\"three-dots\")\n                        b-dropdown-item.delete(@click=\"removeFile(message.id)\") Delete file\n          .d-block.text-right.ml-auto\n            p.message__date {{ message.created_at | asDate }}\n</template>\n\n<script>\n  import { DateTime } from 'luxon'\n  var today = DateTime.now().toLocaleString(DateTime.DATE_FULL)\n\n  export default {\n    props: {\n      messages: {\n        type: Array,\n        required: true\n      }\n    },\n    data() {\n      return {\n\n      }\n    },\n    created() {\n      this.$emit('created')\n    },\n    methods: {\n      async removeFile(id, fileID) {\n\n        const data = {\n          id,\n          file: { id: fileID },\n        }\n        // try {\n        //   await this.$store.dispatch('reminders/deleteFile', data)\n        //     .then(response => {\n        //       this.toast('Success', `File successfull deleted!`)\n        //     })\n        //     .catch(error => this.toast('Error', error.message, true))\n        // } catch (error) {\n        //   this.toast('Error', error.message, true)\n        // }\n      },\n      calcDate(vaue) {\n        return today - vaue\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=35f1afaa&scoped=true&lang=pug&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"35f1afaa\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/error_20.5080af0b.svg\";","const etagInit = () => Math.random()\n\nconst EtaggerMixin = propertyName => {\n  const prop = propertyName || 'etag',\n        refreshMethodName = 'new' + prop[0].toUpperCase() + prop.substring(1)\n  return {\n    data() {\n      return {\n        [prop]: etagInit()\n      }\n    },\n    methods: {\n      [refreshMethodName]: function() {\n        this[prop] = etagInit()\n      }\n    }\n  }\n}\n\nexport default EtaggerMixin"],"sourceRoot":""}